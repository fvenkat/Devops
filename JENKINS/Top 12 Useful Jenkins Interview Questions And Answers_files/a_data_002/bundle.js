/**
 * compiled: 2018-06-18 20:06:44
 * version: 1.6.0
 * commit: 0babd84c7567864cbab5063fa968b4bf35241016
 */

!function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(){}function n(e,n){var i=Mc,o=void 0,r=void 0,a=void 0,s=void 0;for(s=arguments.length;s-- >2;)Ac.push(arguments[s]);for(n&&null!=n.children&&(Ac.length||Ac.push(n.children),delete n.children);Ac.length;)if((r=Ac.pop())&&void 0!==r.pop)for(s=r.length;s--;)Ac.push(r[s]);else!0!==r&&!1!==r||(r=null),(a="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(a=!1)),a&&o?i[i.length-1]+=r:i===Mc?i=[r]:i.push(r),o=a;var c=new t;return c.nodeName=e,c.children=i,c.attributes=null==n?void 0:n,c.key=null==n?void 0:n.key,void 0!==Sc.vnode&&Sc.vnode(c),c}function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){return n(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e._dirty&&(e._dirty=!0)&&1==Oc.push(e)&&(Sc.debounceRendering||setTimeout)(a)}function a(){var e=void 0,t=Oc;for(Oc=[];e=t.pop();)e._dirty&&A(e)}function s(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&c(e,t.nodeName):n||e._componentConstructor===t.nodeName}function c(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function d(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function l(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t,n,i,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),i&&i(e);else if("class"!==t||o)if("style"===t){if(i&&"string"!=typeof i&&"string"!=typeof n||(e.style.cssText=i||""),i&&"object"===(void 0===i?"undefined":as(i))){if("string"!=typeof n)for(var r in n)r in i||(e.style[r]="");for(var a in i)e.style[a]="number"==typeof i[a]&&!1===Rc.test(a)?i[a]+"px":i[a]}}else if("dangerouslySetInnerHTML"===t)i&&(e.innerHTML=i.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),i?n||e.addEventListener(t,f,s):e.removeEventListener(t,f,s),(e._listeners||(e._listeners={}))[t]=i}else if("list"!==t&&"type"!==t&&!o&&t in e)h(e,t,null==i?"":i),null!=i&&!1!==i||e.removeAttribute(t);else{var c=o&&t!==(t=t.replace(/^xlink\:?/,""));null==i||!1===i?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof i&&(c?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):e.setAttribute(t,i))}else e.className=i||""}function h(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this._listeners[e.type](Sc.event&&Sc.event(e)||e)}function m(){for(var e=void 0;e=Wc.pop();)Sc.afterMount&&Sc.afterMount(e),e.componentDidMount&&e.componentDidMount()}function b(e,t,n,i,o,r){Ec++||(Bc=null!=o&&void 0!==o.ownerSVGElement,Lc=null!=e&&!(Nc in e));var a=w(e,t,n,i,r);return o&&a.parentNode!==o&&o.appendChild(a),--Ec||(Lc=!1,r||m()),a}function w(e,t,n,i,o){var r=e,a=Bc;if(null==t&&(t=""),"string"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(r=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(r,e),v(e,!0))),r[Nc]=!0,r;if("function"==typeof t.nodeName)return M(e,t,n,i);if(Bc="svg"===t.nodeName||"foreignObject"!==t.nodeName&&Bc,(!e||!c(e,String(t.nodeName)))&&(r=l(String(t.nodeName),Bc),e)){for(;e.firstChild;)r.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(r,e),v(e,!0)}var s=r.firstChild,d=r[Nc]||(r[Nc]={}),u=t.children;return!Lc&&u&&1===u.length&&"string"==typeof u[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=u[0]&&(s.nodeValue=u[0]):(u&&u.length||null!=s)&&g(r,u,n,i,Lc||null!=d.dangerouslySetInnerHTML),_(r,t.attributes,d),Bc=a,r}function g(e,t,n,i,o){var r=e.childNodes,a=[],c={},d=0,l=0,p=r.length,h=0,f=t?t.length:0,m=void 0,b=void 0,g=void 0,y=void 0;if(0!==p)for(var _=0;_<p;_++){var x=r[_],k=x[Nc],C=f&&k?x._component?x._component.__key:k.key:null;null!=C?(d++,c[C]=x):(k||(void 0!==x.splitText?!o||x.nodeValue.trim():o))&&(a[h++]=x)}if(0!==f)for(var S=0;S<f;S++){g=t[S],y=null;var A=g.key;if(null!=A)d&&void 0!==c[A]&&(y=c[A],c[A]=void 0,d--);else if(!y&&l<h)for(m=l;m<h;m++)if(void 0!==a[m]&&s(b=a[m],g,o)){y=b,a[m]=void 0,m===h-1&&h--,m===l&&l++;break}y=w(y,g,n,i),y&&y!==e&&(S>=p?e.appendChild(y):y!==r[S]&&(y===r[S+1]?u(r[S]):e.insertBefore(y,r[S]||null)))}if(d)for(var M in c)void 0!==c[M]&&v(c[M],!1);for(;l<=h;)void 0!==(y=a[h--])&&v(y,!1)}function v(e,t){var n=e._component;n?T(n):(null!=e[Nc]&&e[Nc].ref&&e[Nc].ref(null),!1!==t&&null!=e[Nc]||u(e),y(e))}function y(e){for(e=e.lastChild;e;){var t=e.previousSibling;v(e,!0),e=t}}function _(e,t,n){var i=void 0;for(i in n)t&&null!=t[i]||null==n[i]||p(e,i,n[i],n[i]=void 0,Bc);for(i in t)"children"===i||"innerHTML"===i||i in n&&t[i]===("value"===i||"checked"===i?e[i]:n[i])||p(e,i,n[i],n[i]=t[i],Bc)}function x(e){var t=e.constructor.name;(Fc[t]||(Fc[t]=[])).push(e)}function k(e,t,n){var i=Fc[e.name],o=void 0;if(e.prototype&&e.prototype.render?(o=new e(t,n),I.call(o,t,n)):(o=new I(t,n),o.constructor=e,o.render=C),i)for(var r=i.length;r--;)if(i[r].constructor===e){o.nextBase=i[r].nextBase,i.splice(r,1);break}return o}function C(e,t,n){return this.constructor(e,n)}function S(e,t,n,i,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,n!==Tc&&(n!==Ic&&!1===Sc.syncComponentUpdates&&e.base?r(e):A(e,Ic,o)),e.__ref&&e.__ref(e))}function A(e,t,n,o){if(!e._disable){var r=e.props,a=e.state,s=e.context,c=e.prevProps||r,l=e.prevState||a,u=e.prevContext||s,p=e.base,h=e.nextBase,f=p||h,w=e._component,g=!1,y=void 0,_=void 0,x=void 0;if(p&&(e.props=c,e.state=l,e.context=u,t!==Pc&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(r,a,s)?g=!0:e.componentWillUpdate&&e.componentWillUpdate(r,a,s),e.props=r,e.state=a,e.context=s),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!g){y=e.render(r,a,s),e.getChildContext&&(s=i(i({},s),e.getChildContext()));var C=y&&y.nodeName,M=void 0,I=void 0;if("function"==typeof C){var P=d(y);_=w,_&&_.constructor===C&&P.key==_.__key?S(_,P,Ic,s,!1):(M=_,e._component=_=k(C,P,s),_.nextBase=_.nextBase||h,_._parentComponent=e,S(_,P,Tc,s,!1),A(_,Ic,n,!0)),I=_.base}else x=f,M=w,M&&(x=e._component=null),(f||t===Ic)&&(x&&(x._component=null),I=b(x,y,s,n||!p,f&&f.parentNode,!0));if(f&&I!==f&&_!==w){var D=f.parentNode;D&&I!==D&&(D.replaceChild(I,f),M||(f._component=null,v(f,!1)))}if(M&&T(M),e.base=I,I&&!o){for(var N=e,R=e;R=R._parentComponent;)(N=R).base=I;I._component=N,I._componentConstructor=N.constructor}}if(!p||n?Wc.unshift(e):g||(m(),e.componentDidUpdate&&e.componentDidUpdate(c,l,u),Sc.afterUpdate&&Sc.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Ec||o||m()}}function M(e,t,n,i){for(var o=e&&e._component,r=o,a=e,s=o&&e._componentConstructor===t.nodeName,c=s,l=d(t);o&&!c&&(o=o._parentComponent);)c=o.constructor===t.nodeName;return o&&c&&(!i||o._component)?(S(o,l,Dc,n,i),e=o.base):(r&&!s&&(T(r),e=a=null),o=k(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e,a=null),S(o,l,Ic,n,i),e=o.base,a&&e!==a&&(a._component=null,v(a,!1))),e}function T(e){Sc.beforeUnmount&&Sc.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?T(n):t&&(t[Nc]&&t[Nc].ref&&t[Nc].ref(null),e.nextBase=t,u(t),x(e),y(t)),e.__ref&&e.__ref(null)}function I(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}function P(e,t,n){return b(n,e,{},!1,t,!1)}function D(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(void 0,n.concat(i))}}function N(e,t){return(new Date).getTime()-e.getTime()>t}function R(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,R)}function O(e,t,n,i,o){var r=eu.writeRtpDescription(e.kind,t);if(r+=eu.writeIceParameters(e.iceGatherer.getLocalParameters()),r+=eu.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":o||"active"),r+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?r+="a=sendrecv\r\n":e.rtpSender?r+="a=sendonly\r\n":e.rtpReceiver?r+="a=recvonly\r\n":r+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";r+="a="+a,r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,r+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+eu.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+eu.localCName+"\r\n"),r}function W(e,t){var n=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&e.urls;var o="string"==typeof i;return o&&(i=[i]),i=i.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||n?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(n=!0,!0)}),delete e.url,e.urls=o?i[0]:i,!!i.length}})}function E(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]},o=function(e,t,n,o){var r=i(e.parameters.apt,n),a=i(t.parameters.apt,o);return r&&a&&r.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(i){for(var r=0;r<t.codecs.length;r++){var a=t.codecs[r];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!o(i,a,e.codecs,t.codecs))continue;a=JSON.parse(JSON.stringify(a)),a.numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<i.rtcpFeedback.length;t++)if(i.rtcpFeedback[t].type===e.type&&i.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var i=0;i<t.headerExtensions.length;i++){var o=t.headerExtensions[i];if(e.uri===o.uri){n.headerExtensions.push(o);break}}}),n}function B(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function L(e,t){var n=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return n||e.addRemoteCandidate(t),!n}function F(e,t){t.addTrack(e);var n=new Event("addtrack");n.track=e,t.dispatchEvent(n)}function z(e,t){t.removeTrack(e);var n=new Event("removetrack");n.track=e,t.dispatchEvent(n)}function V(e,t,n){if(e.RTCPeerConnection){var i=e.RTCPeerConnection.prototype,o=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return o.apply(this,arguments);var r=function(e){i(n(e))};return this._eventMap=this._eventMap||{},this._eventMap[i]=r,o.apply(this,[e,r])};var r=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[n])return r.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],r.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)}})}}function U(e){e&&[].forEach.call(e.getTracks(),function(e){return e.stop()})}function H(e){function t(){null==s&&(s=[y],p&&p(s))}function n(){clearInterval(c),b=!1,s=null,m=0}function i(){n(),p=null,d=null,u=null}function o(){b&&u&&u()}function r(e){g.send(JSON.stringify(e))}function a(){try{i(),g.onerror=null,g.close()}catch(e){}}var s,c,d,l,u,p,h=e.url,f=e.chat,m=0,b=!1,w=-1===h.indexOf("localhost")?"wss://":"ws://",g=new WebSocket(w+h+"?chatId="+f),v=0;g.onopen=function(){c=setInterval(function(){v++,g.send("ping"),v>=100&&clearInterval(c)},2e4)},g.onmessage=function(e){var n=JSON.parse(e.data);null!=n.count?(0===m&&n.count>1&&(t(),r({start:1})),(m=n.count)<2&&(b=!1)):n.start?(t(),b=!0,o()):n.s?(n.s,null==s&&(s=n.d?n.d.iceServers||[]:[],s.push(y),p&&p(s))):d&&d(n)},g.onclose=function(){i()},g.onerror=function(e){i(),l&&l()};var y={urls:"stun:stun.l.google.com:19302"};this.send=r,this.close=a,this.onRemoteStart=function(e){u=e,o()},this.onMessage=function(e){d=e},this.onGetIceServers=function(e){p=e,s&&e&&e(s)},this.onError=function(e){l=e}}function j(){function e(e){c=e,c?o().then(function(e){s=e,t(),a=setInterval(function(){o().then(i)},1e3)}):t()}function t(){a&&(clearInterval(a),a=null)}function n(e,t){for(var n=0;n<e.length;n++){if(e[n].kind==t)return!0}return!1}function i(e){try{if(s||(s=e),e.audio==s.audio&&e.video==s.video)return;s=e,c&&c(e)}catch(e){}}function o(){return uu.mediaDevices.enumerateDevices().then(function(e){return Promise.resolve({audio:n(e,"audioinput"),video:n(e,"videoinput")})})}function r(){c=null,uu.mediaDevices.ondevicechange=null,t()}var a,s,c;this.onDeviceChange=e,this.getDevices=function(){return o().then(function(e){return i(e),Promise.resolve(e)})},this.reset=r}function Y(e){function t(t){t?s.onDeviceChange(function(n){a.audio&&!n.audio&&(a.audio=!1),a.video&&!n.video&&(a.video=!1),a.audio==e.audio&&a.video==e.video||(n.audio&&!a.audio||n.video&&!a.video)&&i(n).then(t)}):s.onDeviceChange(null)}function n(e){U(r);var t={facingMode:"user"};if(window.top.NativeInterface&&1==window.top.NativeInterface.getMobleType()){t={facingMode:"user",width:{exact:window.top.NativeInterface.getCrossWidth()},height:{exact:window.top.NativeInterface.getCrossHeight()}}}return uu.mediaDevices.getUserMedia({audio:e.audio,video:!!e.video&&t}).then(function(e){return r=e,Promise.resolve(e)})}function i(t){var i={audio:e.audio&&t.audio,video:e.video&&t.video};return i.audio||i.video?n(i).then(function(e){return a=i,Promise.resolve(e)}):(a=i,Promise.resolve())}function o(){a={audio:!1,video:!1},U(r),r=null,s.reset()}var r,a={audio:!1,video:!1},s=new j;this.ifRequestVideoDevice=function(){return e.video},this.request=function(){return s.getDevices().then(i)},this.onGetDevice=t,this.getStream=function(){return r},this.getDevices=function(){return s.getDevices()},this.reset=o}function G(){if(/Android/gi.test(Kc)){var e,t=function(e,t,n){var i=qc.createElement("source");i.src=n,i.type="video/"+t,e.appendChild(i)},n={WebM:"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",MP4:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw=="},i=function(){var e=qc.createElement("Video");return e.setAttribute("loop",""),t(e,"webm",n.WebM),t(e,"mp4",n.MP4),e}();this.enable=function(){try{i.play(),e&&clearInterval(e),e=setInterval(function(){i.play()},3e3)}catch(e){}},this.disable=function(){try{i.pause(),e&&clearInterval(e)}catch(e){}}}else this.enable=function(){},this.disable=function(){}}function q(e){function t(e){var t=qc.createElement("video");return t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),e&&e.appendChild(t),t}function n(e){if(null==C){var n=t(M);n.muted=!0,C=n,C.srcObject=e,C.play()}}function i(){if(null==S){var e=t(T);S=e}}function o(e,t){var n=e.peerConn,i=e.signalingChannel;t.offer&&n.setRemoteDescription(new hu(t.offer)).then(function(){return n.createAnswer()}).then(function(e){return n.setLocalDescription(e)}).then(function(){return i.send({answer:n.localDescription}),Promise.resolve()}).catch(function(t){r(e,!0,!0)}),t.answer&&n.setRemoteDescription(new hu(t.answer)).then(function(){return Promise.resolve()}).catch(function(t){r(e,!0,!0)}),t.candidate&&n.addIceCandidate(new fu(t.candidate)).catch(function(){r(e,!0,!0)}),t.restart&&r(e,!1,!1)}function r(e,t,n){n&&O++,!n||O<=8?(t&&e.signalingChannel.send({restart:1}),p(e),h()):(l(),w(),p(e),m("error","P2PChat Error: restart more than 5 times"))}function a(e){var t=e.peerConn,n=e.signalingChannel;t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:R.ifRequestVideoDevice()}).then(function(e){return t.setLocalDescription(e)}).then(function(){return n.send({offer:t.localDescription}),Promise.resolve()}).catch(function(t){r(e,!0,!0)})}function s(e){return l(),e||(N=new G,N.enable()),R=new Y({audio:!0,video:e}),R.request().then(function(e){return n(e),Promise.resolve()})}function c(){return conn.peerConn?(conn.peerConn.getStats().then(function(){}),conn.peerConn.getStats()):Promise.resolve()}function d(e){try{e&&(e.srcObject=null)}catch(e){}}function l(){R&&R.reset(),d(C)}function u(){x&&U(x),x=null,d(S)}function p(e){if(R&&R.onGetDevice(null),e&&(e.peerConn||e.signalingChannel)){u(),g();try{var t=e.peerConn;t&&(t.onicecandidate=null,t.oniceconnectionstatechange=null,t.ontrack=null,t.onaddstream=null,t.close())}catch(e){}try{e.signalingChannel.close()}catch(e){}e.peerConn=null,e.signalingChannel=null,I=null}}function h(){if(m("start"),!C||!S){I&&p(I);var e={},t=new H({chat:A,url:k});e.signalingChannel=t,t.onError(function(){null!=e.peerConn&&"closed"!==e.peerConn.iceConnectionState&&"failed"!==e.peerConn.iceConnectionState||setTimeout(function(){r(e,!1,!0)},3e3)}),t.onGetIceServers(function(s){var c=new pu({iceServers:s,iceTransportPolicy:P?"relay":"all"});e.peerConn=c,c.onicecandidate=function(e){null!=e.candidate&&t.send({candidate:e.candidate})},c.oniceconnectionstatechange=function(t){"closed"===c.iceConnectionState?p(e):"failed"===c.iceConnectionState&&r(e,!0,!0)};var d=R.getStream();R.onGetDevice(function(t){n(t),r(e,!0,!1)}),d&&[].forEach.call(d.getTracks(),function(e){return c.addTrack(e,d)});var l=function(e){i(),e!==S.srcObject&&(x=e,S.srcObject=x,S.play(),m("remoteStreamReceived",x))};c.ontrack=function(e){l(e.streams[0])},t.onMessage(D(o,e)),t.onRemoteStart(function(){if(x)return void r(e,!0,!1);a(e)})}),I=e}}function f(e){_=e}function m(e,t){_&&_(e,t)}function b(){N&&N.disable(),O=0,l(),w(),p(I)}function w(){C&&(null!=C.parentNode&&C.parentNode.removeChild(C),C=null)}function g(){S&&(null!=S.parentNode&&S.parentNode.removeChild(S),S=null)}function v(){var e=y(C.ownerDocument);C&&(C.parentNode.removeChild(C),e.appendChild(C),C.play()),S&&(S.parentNode.removeChild(S),e.appendChild(S),S.play())}function y(e){var t="comm100-video-container",n=e.getElementById(t);return n||(n=e.createElement("div"),n.id=t,n.style.cssText="position:absoute; z-index:-1; width:0; height:0; overflow:hidden;",e.body.appendChild(n),n)}var _,x,k,C,S,A=e.chat,M=e.localVideoContainer,T=e.remoteVideoContainer,I=null,P=!1,N=new G;window.addEventListener("beforeunload",function(){b()});var R,O=0;this.requirePermission=s,this.getPeerConnectionStats=c,this.start=function(e,t){k=e,P=t,h()},this.onevent=f,this.stop=b,this.hideVideos=v,this.getLocalVideo=function(){return M},this.getRemoteVideo=function(){return T},this.setVideoContainers=function(e,t){M=e,T=t;var n=y(M.ownerDocument);!C||C.parentNode!=n&&null!=C.parentNode||(C.parentNode==n&&n.removeChild(C),M.appendChild(C),C.play()),!S||S.parentNode!=n&&null!=S.parentNode||(S.parentNode==n&&n.removeChild(S),T.appendChild(S),S.play())}}function Z(e){var t=Xc(e,"page.invitation");if(!t)return null;var n=_p(e),i=Mm(e,n),o=t.type;return dm===o?fm(n,t,i):sm===o?bm(n,t):lm===o?mm(n,t):null}function K(e){var t=Xc(e,"page.invitation.type");return t&&t===dm?Z(e):null}function Q(e,t){for(var n=e.split(wb),i=e.match(wb),o=new Array(2*n.length-1),r=0;r<n.length;r+=1)o[2*r]=n[r],r!==n.length-1&&(o[2*r+1]=t(i[r],r,i));return o}function J(e){var t=e.length>0?e[e.length-1].div_id:null;if(t&&qc.body&&!qc.getElementById(t)){var n=qc.getElementsByTagName("head")[0];if(n)for(var i=n.getElementsByTagName("script"),o=0;o<i.length;o+=1)if(new RegExp("var\\s+Comm100API").test(i[o].innerHTML)){var r=qc.createElement("div");r.id=t,qc.body.appendChild(r);break}}}function X(){"function"==typeof dw&&dw(),Qc.onReady&&Qc.onReady!==dw&&Qc.onReady();var e=Qc.onReady;Object.defineProperty(Qc,"onReady",{get:function(){return e},set:function(t){"function"==typeof t&&t(),e=t},configurable:!1})}function $(e){var t=bw.call(e,gw),n=e[gw];try{e[gw]=void 0}catch(e){}var i=ww.call(e);return t?e[gw]=n:delete e[gw],i}function ee(e){return yw.call(e)}function te(e){return null==e?void 0===e?xw:_w:kw&&kw in Object(e)?$(e):ee(e)}function ne(e){return null!=e&&"object"==(void 0===e?"undefined":as(e))}function ie(e){if(!ne(e)||te(e)!=Sw)return!1;var t=Cw(e);if(null===t)return!0;var n=Iw.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Tw.call(n)==Pw}function oe(e,t,n){function i(){h===p&&(h=p.slice())}function o(){return u}function r(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return i(),h.push(e),function(){if(t){t=!1,i();var n=h.indexOf(e);h.splice(n,1)}}}function a(e){if(!ie(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=l(u,e)}finally{f=!1}for(var t=p=h,n=0;n<t.length;n++)t[n]();return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,a({type:Nw.INIT})}function c(){var e,t=r;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!==(void 0===e?"undefined":as(e)))throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[Dw]=function(){return this},e}var d;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(oe)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,p=[],h=p,f=!1;return a({type:Nw.INIT}),d={dispatch:a,subscribe:r,getState:o,replaceReducer:s},d[Dw]=c,d}function re(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function ae(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:Nw.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+Nw.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function se(e,t){return function(){return t(e.apply(void 0,arguments))}}function ce(e,t){if("function"==typeof e)return se(e,t);if("object"!==(void 0===e?"undefined":as(e))||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":void 0===e?"undefined":as(e))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var r=n[o],a=e[r];"function"==typeof a&&(i[r]=se(a,t))}return i}function de(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var i=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},i.apply(void 0,arguments))}}function le(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,i,e):t(o)}}}}function ue(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function pe(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function he(e,t,n){he.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function fe(e,t){fe.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function me(e,t){me.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function be(e,t,n){be.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function we(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e}function ge(e){var t=void 0===e?"undefined":as(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function ve(e,t,n,i,o,r,a){o=o||[],a=a||[];var s=o.slice(0);if(void 0!==r){if(i){if("function"==typeof i&&i(s,r))return;if("object"===(void 0===i?"undefined":as(i))){if(i.prefilter&&i.prefilter(s,r))return;if(i.normalize){var c=i.normalize(s,r,e,t);c&&(e=c[0],t=c[1])}}}s.push(r)}"regexp"===ge(e)&&"regexp"===ge(t)&&(e=e.toString(),t=t.toString());var d=void 0===e?"undefined":as(e),l=void 0===t?"undefined":as(t),u="undefined"!==d||a&&a[a.length-1].lhs&&a[a.length-1].lhs.hasOwnProperty(r),p="undefined"!==l||a&&a[a.length-1].rhs&&a[a.length-1].rhs.hasOwnProperty(r);if(!u&&p)n(new fe(s,t));else if(!p&&u)n(new me(s,e));else if(ge(e)!==ge(t))n(new he(s,e,t));else if("date"===ge(e)&&e-t!=0)n(new he(s,e,t));else if("object"===d&&null!==e&&null!==t)if(a.filter(function(t){return t.lhs===e}).length)e!==t&&n(new he(s,e,t));else{if(a.push({lhs:e,rhs:t}),Array.isArray(e)){var h;e.length;for(h=0;h<e.length;h++)h>=t.length?n(new be(s,h,new me(void 0,e[h]))):ve(e[h],t[h],n,i,s,h,a);for(;h<t.length;)n(new be(s,h,new fe(void 0,t[h++])))}else{var f=Object.keys(e),m=Object.keys(t);f.forEach(function(o,r){var c=m.indexOf(o);c>=0?(ve(e[o],t[o],n,i,s,o,a),m=we(m,c)):ve(e[o],void 0,n,i,s,o,a)}),m.forEach(function(e){ve(void 0,t[e],n,i,s,e,a)})}a.length=a.length-1}else e!==t&&("number"===d&&isNaN(e)&&isNaN(t)||n(new he(s,e,t)))}function ye(e,t,n,i){return i=i||[],ve(e,t,function(e){e&&i.push(e)},n),i.length?i:void 0}function _e(e,t,n){if(n.path&&n.path.length){var i,o=e[t],r=n.path.length-1;for(i=0;i<r;i++)o=o[n.path[i]];switch(n.kind){case"A":_e(o[n.path[i]],n.index,n.item);break;case"D":delete o[n.path[i]];break;case"E":case"N":o[n.path[i]]=n.rhs}}else switch(n.kind){case"A":_e(e[t],n.index,n.item);break;case"D":e=we(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function xe(e,t,n){if(e&&t&&n&&n.kind){for(var i=e,o=-1,r=n.path?n.path.length-1:0;++o<r;)void 0===i[n.path[o]]&&(i[n.path[o]]="number"==typeof n.path[o]?[]:{}),i=i[n.path[o]];switch(n.kind){case"A":_e(n.path?i[n.path[o]]:i,n.index,n.item);break;case"D":delete i[n.path[o]];break;case"E":case"N":i[n.path[o]]=n.rhs}}}function ke(e,t,n){if(n.path&&n.path.length){var i,o=e[t],r=n.path.length-1;for(i=0;i<r;i++)o=o[n.path[i]];switch(n.kind){case"A":ke(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}else switch(n.kind){case"A":ke(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=we(e,t)}return e}function Ce(e,t,n){if(e&&t&&n&&n.kind){var i,o,r=e;for(o=n.path.length-1,i=0;i<o;i++)void 0===r[n.path[i]]&&(r[n.path[i]]={}),r=r[n.path[i]];switch(n.kind){case"A":ke(r[n.path[i]],n.index,n.item);break;case"D":case"E":r[n.path[i]]=n.lhs;break;case"N":delete r[n.path[i]]}}}function Se(e,t,n){if(e&&t){ve(e,t,function(i){n&&!n(e,t,i)||xe(e,t,i)})}}function Ae(e){var t=e.fields.entities,n=Object.keys(t).reduce(function(e,n){var i=e,o=t[n];return i[n]=cs({},o,{value:null,isFocused:!1,isErrorShowed:!1}),delete i[n].error,i},{});return cs({},e,{fields:cs({},e.fields,{entities:n})})}function Me(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.getState(),o=Pm(i),r=cs({},o,t);if(!J_(r,o)){n&&e.dispatch(Hg({customVariableResult:r}));var a=X_(r,o);Object.keys(a).length>0&&e.dispatch(xy(a))}}function Te(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function Ie(e){return e.contentType?e.contentType:e.getResponseHeader?e.getResponseHeader("content-type"):null}function Pe(e,t){if(t){var n=function(){e.abort()};e.upload?e.upload.addEventListener("progress",function(e){var i=e.lengthComputable?Math.round(100*e.loaded/e.total):void 0;t(i,n)},!1):t(void 0,n)}}function De(e){return/\bjson\b/gi.test(Ie(e))?JSON.parse(e.responseText):e.responseText}function Ne(){if("withCredentials"in new XMLHttpRequest)return new XMLHttpRequest;if(window.XDomainRequest)return new window.XDomainRequest;throw new Error("No CORS support.")}function Re(e,t,n){if(window.XDomainRequest&&e instanceof window.XDomainRequest&&/^https?:/.test(n)){var i=Zc.href.toString().match(/^(https?):/)[1];return void e.open(t,i+n.substr(n.indexOf(":")),!0)}e.open(t,n,!0)}function Oe(e,t,n,i){return new Promise(function(o,r){var a=Ne(),s=function(){return o({url:t,input:n,output:De(a)})},c=function(e,i){return r({url:t,input:n,error:{code:e,message:i,statusCode:a.status}})},d=D(c,kk);Re(a,e,t),a.withCredentials=e!==Ck,Pe(a,i),a.onload=function(){null==a.status||a.status>=200&&a.status<300?s():d("http error "+a.status)},a.onabort=function(){return d("")},a.ontimeout=function(){return d("request timeout")},a.onerror=function(){return d("network error")},a.onprogress=function(){},null!=window.FormData&&n instanceof window.FormData?(a.timeout=Q_,a.send(n)):(a.timeout=K_,a.send(JSON.stringify(n)))})}function We(e,t,n){var i,o=e.dispatch,r=e.getState,a=t.input,s=t.output,c=r(),d=(i={},i[Vk.getConfig]=function(e){e.features&&($y(!!e.features.useSessionCookie),
e.features.disableCookie&&Uy()),o(Hg(e.customVaraibles?e:cs({},e,{customVariableResult:wl(c)?Pm(c):fb(e.customVariables)}))),o(vy())},i[Vk.getChatWindowConfig]=function(e){o(Hg(cs({},{messageLengthLimit:zd},e,{features:cs({},c.configuration.features,e.features)})))},i[Vk.getCustomVariables]=function(e){var t="product service",n=["name","email","phone","company",t],i=Id(e,n),r=i[0],a=i[1];r[t]&&(r.product=r[t],delete r[t]);var s=Cm(c).map(function(e){return e.label}),d=Id(a,s),l=d[0];o(F_(cs({},r,{custom:l})))},i[Vk.getChatButton]=function(e){var t=qp(c);t&&o(Ug(e.id)),o(Yg({id:e.id,entity:cs({},e,{divId:cw(e.id)}),fetchStatus:tl})),t&&yx("livechat.dynamicCampaign.change",e.id),Uk(o,r(),e.id).then(function(e){return o(gg()),new Promise(function(t){setTimeout(t,0,e)})}).then(function(e){wl(c)&&(o(Ig(_p(r()))),o(Ng())),(t||a.alreadyCampaignId)&&o(Zv(e.id))})},i[Vk.checkManualInvitation]=function(e){if(e&&e.agent&&!wm(c)&&Sp(c)===fl){var t=function(){var t=cs({},e,{isManual:!0});o(xg(t)),yx("livechat.invitation.display",t)};e.type===cm||e.type===dm?o(My()).then(t):t()}},i[Vk.confirmAutoInvitation]=function(e){if(e&&!wm(c)&&Sp(c)===fl){var t=function(){var t=cs({},e,{isManual:!1});o(xg(t)),yx("livechat.invitation.display",t)};e.type===cm?o(My()).then(t):t()}},i[Vk.checkAutoInvitation]=function(e){null!=e&&e.forEach(function(e){var t=e.id,n=e.delay;setTimeout(function(){Sp(r())===fl&&o(sy(Pu(qp(c)?0:_p(r()),t)))},1e3*n)})},i[Vk.getIfOnline]=function(e){var t=e.campaignId,n=e.ifOnline;o(_g(t,n))},i[Vk.checkIfOnline]=function(e){var t=e.campaignId,n=e.ifOnline;o(_g(t,n))},i[Vk.batchAction]=function(e){for(var t=0;t<e.length;t+=1)We({dispatch:o,getState:r},{input:a.actions[t],output:e[t]},n)},i[Vk.newVisitor]=function(e){var t=e.visitorId,n=e.visitorGuid,i={guid:n};bl(c)?i.id=t:i.standbyId=t,o(kg(i))},i[Vk.getDynamicCampaign]=function(e){e!==_p(c)&&o(Sy(e))},i[Vk.pageVisit]=function(){var e=_p(r());Object.keys(r().page.buttons).forEach(function(t){var n=+t;0!==n&&n!==e&&o(Sy(n))}),Al(r())&&Fk(Zm(r()),Mp(r()))},i[Vk.requestChat]=function(e){o(kg(bl(c)?{id:e.visitorId}:{standbyId:e.visitorId})),yk(o,r(),e),e.campaignId&&o(Sy(e.campaignId,!0))},i[Vk.getChatMessages]=function(e){Kp(r())&&0!==e.length&&(xk(o,e),o(ov(e)))},i[Vk.submitRating]=function(){var e=ob(c,Pk);o(rv(e))},i[Vk.emailTranscript]=function(e){if(e){var t=ob(c,Ik).replace(Tk,a.email);o(rv(t))}},i[Vk.getAgents]=function(e){return e&&e.forEach(function(e,t){return o(qg({id:e.id,entity:cs({},e,{index:t}),fetchStatus:tl}))})},i[Vk.getDepartments]=function(e){return e&&e.forEach(function(e){return o(Zg({id:e.id,entity:e,fetchStatus:tl}))})},i[Vk.submitPostChat]=function(){return o(ev(Jd))},i[Vk.endChat]=function(){o(bv())},i[Vk.checkManuallyInvited]=function(e){e||o(Wg())},i[Vk.getChatQueue]=function(e){o(Ev({position:e.position,waitTime:e.est}))},i[Vk.restoreChat]=function(e){if(e&&nm(r(),_p(r()))){o(Ig(_p(r()),!0)),o(Mv(e.id,e.guid));var t=m_(e.guid);t&&(t.windowStatus===pl&&o(Og()),t.maxReadId&&o(jv(+t.maxReadId)))}},i);null!=a&&null!=d[a.type]&&d[a.type](s.payload)}function Ee(e,t,n,i){var o=eC.defaultView,r=void 0,a=void 0,s=void 0,c=function(t){return a({url:e,input:n,output:t})},d=function(t,i){return s({url:e,input:n,error:{code:t,message:i}})},l=D(d,kk),u=t.formId,p=eC.getElementById(u),h=p.contentWindow.document,f=h.getElementById("form");f.action=e+"&formId="+u;var m=h.createElement("input");m.type="hidden",m.name="json",m.value=JSON.stringify(n),f.appendChild(m);var b=function(t){if(!(e.indexOf(t.origin)<0)){var n=void 0;try{n=JSON.parse(t.data)}catch(e){n={}}n.formId===u&&c(n.data)}};o.addEventListener("message",b);var w=function(){r=setTimeout(D(l,"submit failed"),200)};p.addEventListener("load",w);var g=setTimeout(D(l,"submit timeout"),Q_),v=function(e){return function(t){clearTimeout(r),clearTimeout(g),p.removeEventListener("load",w),o.removeEventListener("message",b),p.parentNode.removeChild(p),e(t)}};return new Promise(function(e,t){a=v(e),s=v(t),f.submit(),i&&i(null,function(){p.stop?p.stop():h.execCommand("stop"),l("")})})}function Be(e,t,n){function i(t){e.postMessage(JSON.stringify(t),a)}function o(e){var t=function(t){t.origin===a&&e(t)};return(n?Gc:window).addEventListener("message",t),function(){return(n?Gc:window).removeEventListener("message",t)}}var r=/^file:\/\//i.test(t),a=r?"*":t.match(/^[^:]+:\/\/[^\/]+/)[0];return{dispatch:i,subscribe:o}}function Le(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Fe(e,t){Le(e,t)||(e.className=e.className+" "+t)}function ze(e,t){if(Le(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Ve(e){return!wl(e)}function Ue(e){return oe(dk,e,de($w,gS))}function He(){}function je(e){try{throw new Error(e)}catch(e){}}function Ye(){IS||(IS=!0,je("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function Ge(){var e=[],t=[];return{clear:function(){t=ES,e=ES},notify:function(){for(var n=e=t,i=0;i<n.length;i++)n[i]()},subscribe:function(n){var i=!0;return t===e&&(t=e.slice()),t.push(n),function(){i&&e!==ES&&(i=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function qe(){}function Ze(e,t){var n={run:function(i){try{var o=e(t.getState(),i);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function Ke(e){var t,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=o.methodName,c=void 0===s?"connectAdvanced":s,d=o.renderCountProp,l=void 0===d?void 0:d,u=o.shouldHandleStateChanges,p=void 0===u||u,h=o.storeKey,f=void 0===h?"store":h,m=o.withRef,b=void 0!==m&&m,w=MS(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),g=f+"Subscription",v=FS++,y=(t={},t[f]=xS,t[g]=_S,t),_=(i={},i[g]=_S,i);return function(t){WS("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var i=t.displayName||t.name||"Component",o=a(i),r=SS({},w,{getDisplayName:a,methodName:c,renderCountProp:l,shouldHandleStateChanges:p,storeKey:f,withRef:b,displayName:o,wrappedComponentName:i,WrappedComponent:t}),s=function(i){function a(e,t){CS(this,a);var n=TS(this,i.call(this,e,t));return n.version=v,n.state={},n.renderCount=0,n.store=e[f]||t[f],n.propsMode=Boolean(e[f]),n.setWrappedInstance=n.setWrappedInstance.bind(n),WS(n.store,'Could not find "'+f+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+f+'" as a prop to "'+o+'".'),n.initSelector(),n.initSubscription(),n}return AS(a,i),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[g]=t||this.context[g],e},a.prototype.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=qe,this.store=null,this.selector.run=qe,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return WS(b,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,r);this.selector=Ze(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[g];this.subscription=new LS(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(zS)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(b||l||this.propsMode&&this.subscription))return e;var t=SS({},e);return b&&(t.ref=this.setWrappedInstance),l&&(t[l]=this.renderCount++),this.propsMode&&this.subscription&&(t[g]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return n(t,this.addExtraProps(e.props))},a}(I);return s.WrappedComponent=t,s.displayName=o,s.childContextTypes=_,s.contextTypes=y,s.prototype.componentWillUpdate=function(){this.version!==v&&(this.version=v,this.initSelector(),this.subscription&&this.subscription.tryUnsubscribe(),this.initSubscription(),p&&this.subscription.trySubscribe())},OS(s,t)}}function Qe(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function Je(e,t){if(Qe(e,t))return!0;if("object"!==(void 0===e?"undefined":kS(e))||null===e||"object"!==(void 0===t?"undefined":kS(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!VS.call(t,n[o])||!Qe(e[n[o]],t[n[o]]))return!1;return!0}function Xe(e){var t=qS.call(e,KS),n=e[KS];try{e[KS]=void 0}catch(e){}var i=ZS.call(e);return t?e[KS]=n:delete e[KS],i}function $e(e){return JS.call(e)}function et(e){return null==e?void 0===e?$S:XS:eA&&eA in Object(e)?Xe(e):$e(e)}function tt(e){return null!=e&&"object"==(void 0===e?"undefined":kS(e))}function nt(e){if(!tt(e)||et(e)!=nA)return!1;var t=tA(e);if(null===t)return!0;var n=aA.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&rA.call(n)==sA}function it(e,t,n){nt(e)||je(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function ot(e){return function(t,n){function i(){return o}var o=e(t,n);return i.dependsOnOwnProps=!1,i}}function rt(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function at(e,t){return function(n,i){var o=i.displayName,r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(n,i){r.mapToProps=e,r.dependsOnOwnProps=rt(e);var a=r(n,i);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=rt(a),a=r(n,i)),it(a,o,t),a},r}}function st(e){return"function"==typeof e?at(e,"mapDispatchToProps"):void 0}function ct(e){return e?void 0:ot(function(e){return{dispatch:e}})}function dt(e){return e&&"object"===(void 0===e?"undefined":kS(e))?ot(function(t){return ce(e,t)}):void 0}function lt(e){return"function"==typeof e?at(e,"mapStateToProps"):void 0}function ut(e){return e?void 0:ot(function(){return{}})}function pt(e,t,n){return SS({},n,e,t)}function ht(e){return function(t,n){var i=n.displayName,o=n.pure,r=n.areMergedPropsEqual,a=!1,s=void 0;return function(t,n,c){var d=e(t,n,c);return a?o&&r(d,s)||(s=d):(a=!0,s=d,it(s,i,"mergeProps")),s}}}function ft(e){return"function"==typeof e?ht(e):void 0}function mt(e){return e?void 0:function(){return pt}}function bt(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||je("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function wt(e,t,n,i){bt(e,"mapStateToProps",i),bt(t,"mapDispatchToProps",i),bt(n,"mergeProps",i)}function gt(e,t,n,i){return function(o,r){return n(e(o,r),t(i,r),r)}}function vt(e,t,n,i,o){function r(o,r){return f=o,m=r,b=e(f,m),w=t(i,m),g=n(b,w,m),h=!0,g}function a(){return b=e(f,m),t.dependsOnOwnProps&&(w=t(i,m)),g=n(b,w,m)}function s(){return e.dependsOnOwnProps&&(b=e(f,m)),t.dependsOnOwnProps&&(w=t(i,m)),g=n(b,w,m)}function c(){var t=e(f,m),i=!p(t,b);return b=t,i&&(g=n(b,w,m)),g}function d(e,t){var n=!u(t,m),i=!l(e,f);return f=e,m=t,n&&i?a():n?s():i?c():g}var l=o.areStatesEqual,u=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1,f=void 0,m=void 0,b=void 0,w=void 0,g=void 0;return function(e,t){return h?d(e,t):r(e,t)}}function yt(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,o=t.initMergeProps,r=MS(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,r),s=i(e,r),c=o(e,r);return wt(a,s,c,r.displayName),(r.pure?vt:gt)(a,s,c,e,r)}function _t(e,t,n){for(var i=t.length-1;i>=0;i--){var o=t[i](e);if(o)return o}return function(t,i){throw new Error("Invalid value of type "+(void 0===e?"undefined":kS(e))+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function xt(e,t){return e===t}function kt(e){var t=Gc.ga;if(t)try{for(var n=t.getAll(),i=0;i<n.length;i+=1)t(n[i].b.data.values[":name"]+".send","event",pA,e,e,0)}catch(e){}else Gc._gaq&&Gc._gaq.push(["_trackEvent",pA,e,e])}function Ct(e){return function(){return e}}function St(e,t,n,i,o,r,a,s){if(vA(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,o,r,a,s],l=0;c=new Error(t.replace(/%s/g,function(){return d[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}function At(e){return e}function Mt(e,t){return[e,lM,".online ."+hM+":after{","background-color:"+t,"}",".online ."+hM+":before{","animation:at-ripple 16.417s linear "+uM+"s infinite","}",".offline ."+hM+":after{","background-color:#bbb","}"].join("")}function Tt(){return IT.apply(null,arguments)}function It(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Pt(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Dt(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function Nt(e){return void 0===e}function Rt(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Ot(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Wt(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bt(e,t){for(var n in t)Et(t,n)&&(e[n]=t[n]);return Et(t,"toString")&&(e.toString=t.toString),Et(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Lt(e,t,n,i){return Xi(e,t,n,i,!0).utc()}function Ft(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function zt(e){return null==e._pf&&(e._pf=Ft()),e._pf}function Vt(e){if(null==e._isValid){var t=zt(e),n=PT.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function Ut(e){var t=Lt(NaN);return null!=e?Bt(zt(t),e):zt(t).userInvalidated=!0,t}function Ht(e,t){var n,i,o;if(Nt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Nt(t._i)||(e._i=t._i),Nt(t._f)||(e._f=t._f),Nt(t._l)||(e._l=t._l),Nt(t._strict)||(e._strict=t._strict),Nt(t._tzm)||(e._tzm=t._tzm),Nt(t._isUTC)||(e._isUTC=t._isUTC),Nt(t._offset)||(e._offset=t._offset),Nt(t._pf)||(e._pf=zt(t)),Nt(t._locale)||(e._locale=t._locale),lP.length>0)for(n=0;n<lP.length;n++)i=lP[n],o=t[i],Nt(o)||(e[i]=o);return e}function jt(e){Ht(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===uP&&(uP=!0,Tt.updateOffset(this),uP=!1)}function Yt(e){return e instanceof jt||null!=e&&null!=e._isAMomentObject}function Gt(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function qt(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Gt(t)),n}function Zt(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(i=0;i<o;i++)(n&&e[i]!==t[i]||!n&&qt(e[i])!==qt(t[i]))&&a++;return a+r}function Kt(e){Tt.suppressDeprecationWarnings}function Qt(e,t){var n=!0;return Bt(function(){if(null!=Tt.deprecationHandler&&Tt.deprecationHandler(null,e),n){for(var i,o=[],r=0;r<arguments.length;r++){if(i="","object"===as(arguments[r])){i+="\n["+r+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[r];o.push(i)}Kt(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}function Jt(e,t){null!=Tt.deprecationHandler&&Tt.deprecationHandler(e,t),pP[e]||(Kt(t),pP[e]=!0)}function Xt(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function $t(e){var t,n;for(n in e)t=e[n],Xt(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function en(e,t){var n,i=Bt({},e);for(n in t)Et(t,n)&&(Pt(e[n])&&Pt(t[n])?(i[n]={},Bt(i[n],e[n]),Bt(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)Et(e,n)&&!Et(t,n)&&Pt(e[n])&&(i[n]=Bt({},i[n]));return i}function tn(e){null!=e&&this.set(e)}function nn(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return Xt(i)?i.call(t,n):i}function on(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rn(){return this._invalidDate}function an(e){return this._ordinal.replace("%d",e)}function sn(e,t,n,i){var o=this._relativeTime[n];return Xt(o)?o(e,t,n,i):o.replace(/%d/i,e)}function cn(e,t){var n=this._relativeTime[e>0?"future":"past"];return Xt(n)?n(t):n.replace(/%s/i,t)}function dn(e,t){var n=e.toLowerCase();wP[n]=wP[n+"s"]=wP[t]=e}function ln(e){return"string"==typeof e?wP[e]||wP[e.toLowerCase()]:void 0}function un(e){var t,n,i={};for(n in e)Et(e,n)&&(t=ln(n))&&(i[t]=e[n]);return i}function pn(e,t){gP[e]=t}function hn(e){var t=[];for(var n in e)t.push({unit:n,priority:gP[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function fn(e,t,n){var i=""+Math.abs(e),o=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function mn(e,t,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),e&&(xP[e]=o),t&&(xP[t[0]]=function(){return fn(o.apply(this,arguments),t[1],t[2])}),n&&(xP[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function bn(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function wn(e){var t,n,i=e.match(vP);for(t=0,n=i.length;t<n;t++)xP[i[t]]?i[t]=xP[i[t]]:i[t]=bn(i[t]);return function(t){var o,r="";for(o=0;o<n;o++)r+=Xt(i[o])?i[o].call(t,e):i[o];return r}}function gn(e,t){return e.isValid()?(t=vn(t,e.localeData()),_P[t]=_P[t]||wn(t),_P[t](e)):e.localeData().invalidDate()}function vn(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(yP.lastIndex=0;i>=0&&yP.test(e);)e=e.replace(yP,n),yP.lastIndex=0,i-=1;return e}function yn(e,t,n){MP[e]=Xt(t)?t:function(e,i){return e&&n?n:t}}function _n(e,t){return Et(MP,e)?MP[e](t._strict,t._locale):new RegExp(xn(e))}function xn(e){return kn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o}))}function kn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Cn(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),Rt(t)&&(i=function(e,n){n[t]=qt(e)}),n=0;n<e.length;n++)TP[e[n]]=i}function Sn(e,t){Cn(e,function(e,n,i,o){i._w=i._w||{},t(e,i._w,i,o)})}function An(e,t,n){null!=t&&Et(TP,e)&&TP[e](t,n._a,n,e)}function Mn(e){return Tn(e)?366:365}function Tn(e){return e%4==0&&e%100!=0||e%400==0}function In(){return Tn(this.year())}function Pn(e,t){return function(n){return null!=n?(Nn(this,e,n),Tt.updateOffset(this,t),this):Dn(this,e)}}function Dn(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Nn(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Tn(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),En(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Rn(e){return e=ln(e),Xt(this[e])?this[e]():this}function On(e,t){if("object"===(void 0===e?"undefined":as(e))){e=un(e);for(var n=hn(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=ln(e),Xt(this[e]))return this[e](t);return this}function Wn(e,t){return(e%t+t)%t}function En(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Wn(t,12);return e+=(t-n)/12,1===n?Tn(e)?29:28:31-n%7%2}function Bn(e,t){return e?It(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||zP).test(t)?"format":"standalone"][e.month()]:It(this._months)?this._months:this._months.standalone}function Ln(e,t){return e?It(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[zP.test(t)?"format":"standalone"][e.month()]:It(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Fn(e,t,n){var i,o,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=Lt([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(o=LP.call(this._shortMonthsParse,a),-1!==o?o:null):(o=LP.call(this._longMonthsParse,a),-1!==o?o:null):"MMM"===t?-1!==(o=LP.call(this._shortMonthsParse,a))?o:(o=LP.call(this._longMonthsParse,a),-1!==o?o:null):-1!==(o=LP.call(this._longMonthsParse,a))?o:(o=LP.call(this._shortMonthsParse,a),-1!==o?o:null)}function zn(e,t,n){var i,o,r;if(this._monthsParseExact)return Fn.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Lt([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function Vn(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=qt(t);else if(t=e.localeData().monthsParse(t),!Rt(t))return e;return n=Math.min(e.date(),En(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Un(e){return null!=e?(Vn(this,e),Tt.updateOffset(this,!0),this):Dn(this,"Month")}function Hn(){return En(this.year(),this.month())}function jn(e){return this._monthsParseExact?(Et(this,"_monthsRegex")||Gn.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Et(this,"_monthsShortRegex")||(this._monthsShortRegex=HP),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Yn(e){return this._monthsParseExact?(Et(this,"_monthsRegex")||Gn.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Et(this,"_monthsRegex")||(this._monthsRegex=jP),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Gn(){function e(e,t){return t.length-e.length}var t,n,i=[],o=[],r=[];for(t=0;t<12;t++)n=Lt([2e3,t]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)i[t]=kn(i[t]),o[t]=kn(o[t]);for(t=0;t<24;t++)r[t]=kn(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function qn(e,t,n,i,o,r,a){var s=new Date(e,t,n,i,o,r,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Zn(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Kn(e,t,n){var i=7+t-n;return-(7+Zn(e,0,i).getUTCDay()-t)%7+i-1}function Qn(e,t,n,i,o){var r,a,s=(7+n-i)%7,c=Kn(e,i,o),d=1+7*(t-1)+s+c;return d<=0?(r=e-1,a=Mn(r)+d):d>Mn(e)?(r=e+1,a=d-Mn(e)):(r=e,a=d),{year:r,dayOfYear:a}}function Jn(e,t,n){var i,o,r=Kn(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(o=e.year()-1,i=a+Xn(o,t,n)):a>Xn(e.year(),t,n)?(i=a-Xn(e.year(),t,n),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function Xn(e,t,n){var i=Kn(e,t,n),o=Kn(e+1,t,n);return(Mn(e)-i+o)/7}function $n(e){return Jn(e,this._week.dow,this._week.doy).week}function ei(){return this._week.dow}function ti(){return this._week.doy}function ni(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ii(e){var t=Jn(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function oi(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function ri(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ai(e,t){return e?It(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:It(this._weekdays)?this._weekdays:this._weekdays.standalone}function si(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ci(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function di(e,t,n){var i,o,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=Lt([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(o=LP.call(this._weekdaysParse,a),-1!==o?o:null):"ddd"===t?(o=LP.call(this._shortWeekdaysParse,a),-1!==o?o:null):(o=LP.call(this._minWeekdaysParse,a),-1!==o?o:null):"dddd"===t?-1!==(o=LP.call(this._weekdaysParse,a))?o:-1!==(o=LP.call(this._shortWeekdaysParse,a))?o:(o=LP.call(this._minWeekdaysParse,a),-1!==o?o:null):"ddd"===t?-1!==(o=LP.call(this._shortWeekdaysParse,a))?o:-1!==(o=LP.call(this._weekdaysParse,a))?o:(o=LP.call(this._minWeekdaysParse,a),-1!==o?o:null):-1!==(o=LP.call(this._minWeekdaysParse,a))?o:-1!==(o=LP.call(this._weekdaysParse,a))?o:(o=LP.call(this._shortWeekdaysParse,a),-1!==o?o:null)}function li(e,t,n){var i,o,r;if(this._weekdaysParseExact)return di.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=Lt([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function ui(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=oi(e,this.localeData()),this.add(e-t,"d")):t}function pi(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function hi(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=ri(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function fi(e){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||wi.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Et(this,"_weekdaysRegex")||(this._weekdaysRegex=KP),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function mi(e){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||wi.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=QP),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bi(e){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||wi.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=JP),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function wi(){function e(e,t){return t.length-e.length}var t,n,i,o,r,a=[],s=[],c=[],d=[];for(t=0;t<7;t++)n=Lt([2e3,1]).day(t),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),c.push(r),d.push(i),d.push(o),d.push(r);for(a.sort(e),s.sort(e),c.sort(e),d.sort(e),t=0;t<7;t++)s[t]=kn(s[t]),c[t]=kn(c[t]),d[t]=kn(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function gi(){return this.hours()%12||12}function vi(){return this.hours()||24}function yi(e,t){mn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function _i(e,t){return t._meridiemParse}function xi(e){return"p"===(e+"").toLowerCase().charAt(0)}function ki(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ci(e){return e?e.toLowerCase().replace("_","-"):e}function Si(e){for(var t,n,i,o,r=0;r<e.length;){for(o=Ci(e[r]).split("-"),t=o.length,n=Ci(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=Ai(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&Zt(o,n,!0)>=t-1)break;t--}r++}return null}function Ai(e){var t=null;if(!tD[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=XP._abbr;require("./locale/"+e),Mi(t)}catch(e){}return tD[e]}function Mi(e,t){var n;return e&&(n=Nt(t)?Pi(e):Ti(e,t))&&(XP=n),XP._abbr}function Ti(e,t){if(null!==t){var n=eD;if(t.abbr=e,null!=tD[e])Jt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=tD[e]._config;else if(null!=t.parentLocale){if(null==tD[t.parentLocale])return nD[t.parentLocale]||(nD[t.parentLocale]=[]),nD[t.parentLocale].push({name:e,config:t}),null;n=tD[t.parentLocale]._config}return tD[e]=new tn(en(n,t)),nD[e]&&nD[e].forEach(function(e){Ti(e.name,e.config)}),Mi(e),tD[e]}return delete tD[e],null}function Ii(e,t){if(null!=t){var n,i,o=eD;i=Ai(e),null!=i&&(o=i._config),t=en(o,t),n=new tn(t),n.parentLocale=tD[e],tD[e]=n,Mi(e)}else null!=tD[e]&&(null!=tD[e].parentLocale?tD[e]=tD[e].parentLocale:null!=tD[e]&&delete tD[e]);return tD[e]}function Pi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return XP;if(!It(e)){if(t=Ai(e))return t;e=[e]}return Si(e)}function Di(){return hP(tD)}function Ni(e){
var t,n=e._a;return n&&-2===zt(e).overflow&&(t=n[PP]<0||n[PP]>11?PP:n[DP]<1||n[DP]>En(n[IP],n[PP])?DP:n[NP]<0||n[NP]>24||24===n[NP]&&(0!==n[RP]||0!==n[OP]||0!==n[WP])?NP:n[RP]<0||n[RP]>59?RP:n[OP]<0||n[OP]>59?OP:n[WP]<0||n[WP]>999?WP:-1,zt(e)._overflowDayOfYear&&(t<IP||t>DP)&&(t=DP),zt(e)._overflowWeeks&&-1===t&&(t=EP),zt(e)._overflowWeekday&&-1===t&&(t=BP),zt(e).overflow=t),e}function Ri(e,t,n){return null!=e?e:null!=t?t:n}function Oi(e){var t=new Date(Tt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Wi(e){var t,n,i,o,r,a=[];if(!e._d){for(i=Oi(e),e._w&&null==e._a[DP]&&null==e._a[PP]&&Ei(e),null!=e._dayOfYear&&(r=Ri(e._a[IP],i[IP]),(e._dayOfYear>Mn(r)||0===e._dayOfYear)&&(zt(e)._overflowDayOfYear=!0),n=Zn(r,0,e._dayOfYear),e._a[PP]=n.getUTCMonth(),e._a[DP]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[NP]&&0===e._a[RP]&&0===e._a[OP]&&0===e._a[WP]&&(e._nextDay=!0,e._a[NP]=0),e._d=(e._useUTC?Zn:qn).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[NP]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(zt(e).weekdayMismatch=!0)}}function Ei(e){var t,n,i,o,r,a,s,c;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=Ri(t.GG,e._a[IP],Jn($i(),1,4).year),i=Ri(t.W,1),((o=Ri(t.E,1))<1||o>7)&&(c=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var d=Jn($i(),r,a);n=Ri(t.gg,e._a[IP],d.year),i=Ri(t.w,d.week),null!=t.d?((o=t.d)<0||o>6)&&(c=!0):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(c=!0)):o=r}i<1||i>Xn(n,r,a)?zt(e)._overflowWeeks=!0:null!=c?zt(e)._overflowWeekday=!0:(s=Qn(n,i,o,r,a),e._a[IP]=s.year,e._dayOfYear=s.dayOfYear)}function Bi(e){var t,n,i,o,r,a,s=e._i,c=iD.exec(s)||oD.exec(s);if(c){for(zt(e).iso=!0,t=0,n=aD.length;t<n;t++)if(aD[t][1].exec(c[1])){o=aD[t][0],i=!1!==aD[t][2];break}if(null==o)return void(e._isValid=!1);if(c[3]){for(t=0,n=sD.length;t<n;t++)if(sD[t][1].exec(c[3])){r=(c[2]||" ")+sD[t][0];break}if(null==r)return void(e._isValid=!1)}if(!i&&null!=r)return void(e._isValid=!1);if(c[4]){if(!rD.exec(c[4]))return void(e._isValid=!1);a="Z"}e._f=o+(r||"")+(a||""),Yi(e)}else e._isValid=!1}function Li(e,t,n,i,o,r){var a=[Fi(e),UP.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&a.push(parseInt(r,10)),a}function Fi(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function zi(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Vi(e,t,n){if(e){if(qP.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return zt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Ui(e,t,n){if(e)return lD[e];if(t)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}function Hi(e){var t=dD.exec(zi(e._i));if(t){var n=Li(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Vi(t[1],n,e))return;e._a=n,e._tzm=Ui(t[8],t[9],t[10]),e._d=Zn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),zt(e).rfc2822=!0}else e._isValid=!1}function ji(e){var t=cD.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));Bi(e),!1===e._isValid&&(delete e._isValid,Hi(e),!1===e._isValid&&(delete e._isValid,Tt.createFromInputFallback(e)))}function Yi(e){if(e._f===Tt.ISO_8601)return void Bi(e);if(e._f===Tt.RFC_2822)return void Hi(e);e._a=[],zt(e).empty=!0;var t,n,i,o,r,a=""+e._i,s=a.length,c=0;for(i=vn(e._f,e._locale).match(vP)||[],t=0;t<i.length;t++)o=i[t],n=(a.match(_n(o,e))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&zt(e).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),c+=n.length),xP[o]?(n?zt(e).empty=!1:zt(e).unusedTokens.push(o),An(o,n,e)):e._strict&&!n&&zt(e).unusedTokens.push(o);zt(e).charsLeftOver=s-c,a.length>0&&zt(e).unusedInput.push(a),e._a[NP]<=12&&!0===zt(e).bigHour&&e._a[NP]>0&&(zt(e).bigHour=void 0),zt(e).parsedDateParts=e._a.slice(0),zt(e).meridiem=e._meridiem,e._a[NP]=Gi(e._locale,e._a[NP],e._meridiem),Wi(e),Ni(e)}function Gi(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function qi(e){var t,n,i,o,r;if(0===e._f.length)return zt(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=Ht({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],Yi(t),Vt(t)&&(r+=zt(t).charsLeftOver,r+=10*zt(t).unusedTokens.length,zt(t).score=r,(null==i||r<i)&&(i=r,n=t));Bt(e,n||t)}function Zi(e){if(!e._d){var t=un(e._i);e._a=Wt([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Wi(e)}}function Ki(e){var t=new jt(Ni(Qi(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Qi(e){var t=e._i,n=e._f;return e._locale=e._locale||Pi(e._l),null===t||void 0===n&&""===t?Ut({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Yt(t)?new jt(Ni(t)):(Ot(t)?e._d=t:It(n)?qi(e):n?Yi(e):Ji(e),Vt(e)||(e._d=null),e))}function Ji(e){var t=e._i;Nt(t)?e._d=new Date(Tt.now()):Ot(t)?e._d=new Date(t.valueOf()):"string"==typeof t?ji(e):It(t)?(e._a=Wt(t.slice(0),function(e){return parseInt(e,10)}),Wi(e)):Pt(t)?Zi(e):Rt(t)?e._d=new Date(t):Tt.createFromInputFallback(e)}function Xi(e,t,n,i,o){var r={};return!0!==n&&!1!==n||(i=n,n=void 0),(Pt(e)&&Dt(e)||It(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=n,r._i=e,r._f=t,r._strict=i,Ki(r)}function $i(e,t,n,i){return Xi(e,t,n,i,!1)}function eo(e,t){var n,i;if(1===t.length&&It(t[0])&&(t=t[0]),!t.length)return $i();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function to(){return eo("isBefore",[].slice.call(arguments,0))}function no(){return eo("isAfter",[].slice.call(arguments,0))}function io(e){for(var t in e)if(-1===LP.call(fD,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<fD.length;++i)if(e[fD[i]]){if(n)return!1;parseFloat(e[fD[i]])!==qt(e[fD[i]])&&(n=!0)}return!0}function oo(){return this._isValid}function ro(){return So(NaN)}function ao(e){var t=un(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,a=t.day||0,s=t.hour||0,c=t.minute||0,d=t.second||0,l=t.millisecond||0;this._isValid=io(t),this._milliseconds=+l+1e3*d+6e4*c+36e5*s,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=Pi(),this._bubble()}function so(e){return e instanceof ao}function co(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lo(e,t){mn(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+fn(~~(e/60),2)+t+fn(~~e%60,2)})}function uo(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],o=(i+"").match(mD)||["-",0,0],r=60*o[1]+qt(o[2]);return 0===r?0:"+"===o[0]?r:-r}function po(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(Yt(e)||Ot(e)?e.valueOf():$i(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),Tt.updateOffset(n,!1),n):$i(e).local()}function ho(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function fo(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=uo(SP,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=ho(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Po(this,So(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Tt.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:ho(this)}function mo(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function bo(e){return this.utcOffset(0,e)}function wo(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ho(this),"m")),this}function go(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=uo(CP,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vo(e){return!!this.isValid()&&(e=e?$i(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function yo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _o(){if(!Nt(this._isDSTShifted))return this._isDSTShifted;var e={};if(Ht(e,this),e=Qi(e),e._a){var t=e._isUTC?Lt(e._a):$i(e._a);this._isDSTShifted=this.isValid()&&Zt(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function xo(){return!!this.isValid()&&!this._isUTC}function ko(){return!!this.isValid()&&this._isUTC}function Co(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function So(e,t){var n,i,o,r=e,a=null;return so(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Rt(e)?(r={},t?r[t]=e:r.milliseconds=e):(a=bD.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:qt(a[DP])*n,h:qt(a[NP])*n,m:qt(a[RP])*n,s:qt(a[OP])*n,ms:qt(co(1e3*a[WP]))*n}):(a=wD.exec(e))?(n="-"===a[1]?-1:(a[1],1),r={y:Ao(a[2],n),M:Ao(a[3],n),w:Ao(a[4],n),d:Ao(a[5],n),h:Ao(a[6],n),m:Ao(a[7],n),s:Ao(a[8],n)}):null==r?r={}:"object"===(void 0===r?"undefined":as(r))&&("from"in r||"to"in r)&&(o=To($i(r.from),$i(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new ao(r),so(e)&&Et(e,"_locale")&&(i._locale=e._locale),i}function Ao(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Mo(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function To(e,t){var n;return e.isValid()&&t.isValid()?(t=po(t,e),e.isBefore(t)?n=Mo(e,t):(n=Mo(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Io(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(Jt(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=So(n,i),Po(this,o,e),this}}function Po(e,t,n,i){var o=t._milliseconds,r=co(t._days),a=co(t._months);e.isValid()&&(i=null==i||i,a&&Vn(e,Dn(e,"Month")+a*n),r&&Nn(e,"Date",Dn(e,"Date")+r*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&Tt.updateOffset(e,r||a))}function Do(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function No(e,t){var n=e||$i(),i=po(n,this).startOf("day"),o=Tt.calendarFormat(this,i)||"sameElse",r=t&&(Xt(t[o])?t[o].call(this,n):t[o]);return this.format(r||this.localeData().calendar(o,this,$i(n)))}function Ro(){return new jt(this)}function Oo(e,t){var n=Yt(e)?e:$i(e);return!(!this.isValid()||!n.isValid())&&(t=ln(Nt(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wo(e,t){var n=Yt(e)?e:$i(e);return!(!this.isValid()||!n.isValid())&&(t=ln(Nt(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Eo(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Bo(e,t){var n,i=Yt(e)?e:$i(e);return!(!this.isValid()||!i.isValid())&&(t=ln(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Lo(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Fo(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function zo(e,t,n){var i,o,r;if(!this.isValid())return NaN;if(i=po(e,this),!i.isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),t=ln(t)){case"year":r=Vo(this,i)/12;break;case"month":r=Vo(this,i);break;case"quarter":r=Vo(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:Gt(r)}function Vo(e,t){var n,i,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return t-r<0?(n=e.clone().add(o-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(o+1,"months"),i=(t-r)/(n-r)),-(o+i)||0}function Uo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ho(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gn(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Xt(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",gn(n,"Z")):gn(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)}function Yo(e){e||(e=this.isUtc()?Tt.defaultFormatUtc:Tt.defaultFormat);var t=gn(this,e);return this.localeData().postformat(t)}function Go(e,t){return this.isValid()&&(Yt(e)&&e.isValid()||$i(e).isValid())?So({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qo(e){return this.from($i(),e)}function Zo(e,t){return this.isValid()&&(Yt(e)&&e.isValid()||$i(e).isValid())?So({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ko(e){return this.to($i(),e)}function Qo(e){var t;return void 0===e?this._locale._abbr:(t=Pi(e),null!=t&&(this._locale=t),this)}function Jo(){return this._locale}function Xo(e){switch(e=ln(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function $o(e){return void 0===(e=ln(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function er(){return this._d.valueOf()-6e4*(this._offset||0)}function tr(){return Math.floor(this.valueOf()/1e3)}function nr(){return new Date(this.valueOf())}function ir(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function or(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function rr(){return this.isValid()?this.toISOString():null}function ar(){return Vt(this)}function sr(){return Bt({},zt(this))}function cr(){return zt(this).overflow}function dr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function lr(e,t){mn(0,[e,e.length],0,t)}function ur(e){return mr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function pr(e){return mr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function hr(){return Xn(this.year(),1,4)}function fr(){var e=this.localeData()._week;return Xn(this.year(),e.dow,e.doy)}function mr(e,t,n,i,o){var r;return null==e?Jn(this,i,o).year:(r=Xn(e,i,o),t>r&&(t=r),br.call(this,e,t,n,i,o))}function br(e,t,n,i,o){var r=Qn(e,t,n,i,o),a=Zn(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function wr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function gr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function vr(e,t){t[WP]=qt(1e3*("0."+e))}function yr(){return this._isUTC?"UTC":""}function _r(){return this._isUTC?"Coordinated Universal Time":""}function xr(e){return $i(1e3*e)}function kr(){return $i.apply(null,arguments).parseZone()}function Cr(e){return e}function Sr(e,t,n,i){var o=Pi(),r=Lt().set(i,t);return o[n](r,e)}function Ar(e,t,n){if(Rt(e)&&(t=e,e=void 0),e=e||"",null!=t)return Sr(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Sr(e,i,n,"month");return o}function Mr(e,t,n,i){"boolean"==typeof e?(Rt(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Rt(t)&&(n=t,t=void 0),t=t||"");var o=Pi(),r=e?o._week.dow:0;if(null!=n)return Sr(t,(n+r)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Sr(t,(a+r)%7,i,"day");return s}function Tr(e,t){return Ar(e,t,"months")}function Ir(e,t){return Ar(e,t,"monthsShort")}function Pr(e,t,n){return Mr(e,t,n,"weekdays")}function Dr(e,t,n){return Mr(e,t,n,"weekdaysShort")}function Nr(e,t,n){return Mr(e,t,n,"weekdaysMin")}function Rr(){var e=this._data;return this._milliseconds=TD(this._milliseconds),this._days=TD(this._days),this._months=TD(this._months),e.milliseconds=TD(e.milliseconds),e.seconds=TD(e.seconds),e.minutes=TD(e.minutes),e.hours=TD(e.hours),e.months=TD(e.months),e.years=TD(e.years),this}function Or(e,t,n,i){var o=So(t,n);return e._milliseconds+=i*o._milliseconds,e._days+=i*o._days,e._months+=i*o._months,e._bubble()}function Wr(e,t){return Or(this,e,t,1)}function Er(e,t){return Or(this,e,t,-1)}function Br(e){return e<0?Math.floor(e):Math.ceil(e)}function Lr(){var e,t,n,i,o,r=this._milliseconds,a=this._days,s=this._months,c=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*Br(zr(s)+a),a=0,s=0),c.milliseconds=r%1e3,e=Gt(r/1e3),c.seconds=e%60,t=Gt(e/60),c.minutes=t%60,n=Gt(t/60),c.hours=n%24,a+=Gt(n/24),o=Gt(Fr(a)),s+=o,a-=Br(zr(o)),i=Gt(s/12),s%=12,c.days=a,c.months=s,c.years=i,this}function Fr(e){return 4800*e/146097}function zr(e){return 146097*e/4800}function Vr(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=ln(e))||"year"===e)return t=this._days+i/864e5,n=this._months+Fr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(zr(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Ur(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*qt(this._months/12):NaN}function Hr(e){return function(){return this.as(e)}}function jr(){return So(this)}function Yr(e){return e=ln(e),this.isValid()?this[e+"s"]():NaN}function Gr(e){return function(){return this.isValid()?this._data[e]:NaN}}function qr(){return Gt(this.days()/7)}function Zr(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function Kr(e,t,n){var i=So(e).abs(),o=jD(i.as("s")),r=jD(i.as("m")),a=jD(i.as("h")),s=jD(i.as("d")),c=jD(i.as("M")),d=jD(i.as("y")),l=o<=YD.ss&&["s",o]||o<YD.s&&["ss",o]||r<=1&&["m"]||r<YD.m&&["mm",r]||a<=1&&["h"]||a<YD.h&&["hh",a]||s<=1&&["d"]||s<YD.d&&["dd",s]||c<=1&&["M"]||c<YD.M&&["MM",c]||d<=1&&["y"]||["yy",d];return l[2]=t,l[3]=+e>0,l[4]=n,Zr.apply(null,l)}function Qr(e){return void 0===e?jD:"function"==typeof e&&(jD=e,!0)}function Jr(e,t){return void 0!==YD[e]&&(void 0===t?YD[e]:(YD[e]=t,"s"===e&&(YD.ss=t-1),!0))}function Xr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Kr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function $r(e){return(e>0)-(e<0)||+e}function ea(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=GD(this._milliseconds)/1e3,o=GD(this._days),r=GD(this._months);e=Gt(i/60),t=Gt(e/60),i%=60,e%=60,n=Gt(r/12),r%=12;var a=n,s=r,c=o,d=t,l=e,u=i?i.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var h=p<0?"-":"",f=$r(this._months)!==$r(p)?"-":"",m=$r(this._days)!==$r(p)?"-":"",b=$r(this._milliseconds)!==$r(p)?"-":"";return h+"P"+(a?f+a+"Y":"")+(s?f+s+"M":"")+(c?m+c+"D":"")+(d||l||u?"T":"")+(d?b+d+"H":"")+(l?b+l+"M":"")+(u?b+u+"S":"")}function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return Tt(e).locale(n).format(Array.isArray(t)?t[0]:t)}function na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=Tt(e,t,n,!0);if(i.isValid())return i.toDate()}function ia(e){return e.toDateString()}function oa(e){return QD[e.getMonth()]+" "+e.getFullYear()}function ra(e){return KD[e]}function aa(e){return ZD[e]}function sa(){return 0}function ca(){return QD}function da(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function la(e){return new Date(e.getTime())}function ua(e,t){var n=la(e);return n.setMonth(e.getMonth()+t),n}function pa(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function ha(e,t){return la(e).setHours(0,0,0,0)<la(t).setHours(0,0,0,0)}function fa(e,t){return la(e).setHours(0,0,0,0)>la(t).setHours(0,0,0,0)}function ma(e){var t=new Date;return t.setHours(0,0,0,0),ha(e,t)}function ba(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function wa(e,t,n){var i=la(e);return i.setHours(0,0,0,0),fa(i,t)&&ha(i,n)||fa(i,n)&&ha(i,t)}function ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,i=t.to;return n?n&&i&&pa(n,i)&&pa(e,n)?(n=null,i=null):i&&ha(e,n)?n=e:i&&pa(e,i)?(n=e,i=e):(i=e,ha(i,n)&&(i=n,n=e)):n=e,{from:n,to:i}}function va(e,t){var n=t.from,i=t.to;return n&&pa(e,n)||i&&pa(e,i)||n&&i&&wa(e,n,i)}function ya(e){var t=la(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}function _a(e){e.preventDefault(),e.stopPropagation()}function xa(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function ka(e){var t=xa(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function Ca(e){var t=cs({},e.modifiers);return e.selectedDays&&(t[e.classNames.selected]=e.selectedDays),e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays),t}function Sa(e){var t=e.firstDayOfWeek,n=e.locale,i=void 0===n?"en":n,o=e.localeUtils,r=void 0===o?{}:o;return isNaN(t)?r.getFirstDayOfWeek?r.getFirstDayOfWeek(i):0:t}function Aa(e){return!!(e&&e.from&&e.to)}function Ma(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function Ta(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sa(),n=arguments[2],i=ka(e),o=[],r=[],a=[],s=1;s<=i;s+=1)o.push(new Date(e.getFullYear(),e.getMonth(),s,12));o.forEach(function(e){r.length>0&&e.getDay()===t&&(a.push(r),r=[]),r.push(e),o.indexOf(e)===o.length-1&&a.push(r)});for(var c=a[0],d=7-c.length;d>0;d-=1){var l=la(c[0]);l.setDate(c[0].getDate()-1),c.unshift(l)}for(var u=a[a.length-1],p=u.length;p<7;p+=1){var h=la(u[u.length-1]);h.setDate(u[u.length-1].getDate()+1),u.push(h)}if(n&&a.length<6)for(var f=void 0,m=a.length;m<6;m+=1){f=a[a.length-1];for(var b=f[f.length-1],w=[],g=0;g<7;g+=1){var v=la(b);v.setDate(b.getDate()+g+1),w.push(v)}a.push(w)}return a}function Ia(e){var t=la(e);return t.setDate(1),t.setHours(12,0,0,0),t}function Pa(e,t){var n=void 0;n=t===eN?t.day+"--"+t.outside:""+t.outside;var i=t.day.replace(/ /g,"."),o=n.replace(/ /g,"."),r="."+i+":not(."+o+")";return e.querySelectorAll(r)}function Da(e){return Array.prototype.slice.call(e,0)}function Na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ra(e,t,n){if(e)return function(i){e(t,n,i)}}function Oa(e,t){return!!t&&(Array.isArray(t)?t:[t]).some(function(t){return!!t&&(t instanceof Date?pa(e,t):Aa(t)?va(e,t):t.after&&t.before&&fa(t.before,t.after)?fa(e,t.after)&&ha(e,t.before):t.after&&t.before&&(fa(t.after,t.before)||pa(t.after,t.before))?fa(e,t.after)||ha(e,t.before):t.after?fa(e,t.after):t.before?ha(e,t.before):t.daysOfWeek?t.daysOfWeek.some(function(t){return e.getDay()===t}):"function"==typeof t&&t(e))})}function Wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(n,i){var o=t[i];return Oa(e,o)&&n.push(i),n},[])}function Ea(e){return e instanceof Date&&!isNaN(e.valueOf())}function Ba(e){if(Ea(e)){return e.getFullYear()+"-"+(""+(e.getMonth()+1))+"-"+(""+e.getDate())}return""}function La(e){if("string"==typeof e){var t=e.split("-");if(3===t.length){var n=parseInt(t[0],10),i=parseInt(t[1],10)-1,o=parseInt(t[2],10);if(!(isNaN(n)||isNaN(i)||isNaN(o)||o<=0||o>31||i<0||i>=12))return new Date(n,i,o)}}}function Fa(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function za(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Va(e,t){if(za(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}function Ua(e,t){var n=Math.random().toString();return dR(t).then(function(t){return new Promise(function(i,o){var r=cs({meta:n},e);cR[r.meta]={resolve:i,reject:o},t.dispatch(r)})})}function Ha(){var e=tO(YR);return void 0!==e&&null!==e&&""!==e?new Date(+e):null}function ja(){return ZR*=2,ZR>Math.pow(2,UR.repeat-1)&&(ZR=1),b_(HR,{frequencyLimit:nO(qR,ZR)}),ZR}function Ya(){b_(HR,{frequencyLimit:nO(GR,jR.join(":"))})}function Ga(){KR&&(clearInterval(KR),KR=null)}function qa(){JR.forEach(function(e){clearTimeout(e)}),JR=[]}function Za(){XR&&clearTimeout(XR),XR=null}function Ka(){eO(!1),jR=[],qa(),Za(),b_(HR,{frequencyLimit:nO(YR,"")}),b_(HR,{frequencyLimit:nO(GR,"")})}function Qa(){var e=UR.penalty*ZR*1e3;b_(HR,{frequencyLimit:nO(YR,(new Date).getTime()+e)}),eO(!0),XR=setTimeout(Ka,e),ja()}function Ja(){return!!XR||!(jR.length<=UR.count)&&(Qa(),!0)}function Xa(){jR.shift(),JR.shift(),Ya()}function $a(){if(!XR){jR.push((new Date).getTime()),Ya();var e=setTimeout(Xa,1e3*UR.duration);JR.push(e)}}function es(){KR=setInterval(function(){var e=Ja(),t=Math.max(0,Math.floor((Ha()-(new Date).getTime())/1e3));e&&t>0?QR(t):(QR(0),Ga())},1e3)}function ts(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent}function ns(e){var t=pW.map(function(t){return t(e)});return function(){t.forEach(function(e){e()})}}var is="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},os=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),rs=e(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ds=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ls=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},us=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ps=function(e){return"object"===(void 0===e?"undefined":as(e))?null!==e:"function"==typeof e},hs=function(e){if(!ps(e))throw TypeError(e+" is not an object!");return e},fs=function(e){try{return!!e()}catch(e){return!0}},ms=!fs(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),bs=os.document,ws=ps(bs)&&ps(bs.createElement),gs=function(e){return ws?bs.createElement(e):{}},vs=!ms&&!fs(function(){return 7!=Object.defineProperty(gs("div"),"a",{get:function(){return 7}}).a}),ys=function(e,t){if(!ps(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!ps(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!ps(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!ps(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},_s=Object.defineProperty,xs=ms?Object.defineProperty:function(e,t,n){if(hs(e),t=ys(t,!0),hs(n),vs)try{return _s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},ks={f:xs},Cs=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ss=ms?function(e,t,n){return ks.f(e,t,Cs(1,n))}:function(e,t,n){return e[t]=n,e},As={}.hasOwnProperty,Ms=function(e,t){return As.call(e,t)},Ts=0,Is=Math.random(),Ps=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Ts+Is).toString(36))},Ds=e(function(e){var t=Ps("src"),n=Function.toString,i=(""+n).split("toString");rs.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,o,r){var a="function"==typeof o;a&&(Ms(o,"name")||Ss(o,"name",n)),e[n]!==o&&(a&&(Ms(o,t)||Ss(o,t,e[n]?""+e[n]:i.join(String(n)))),e===os?e[n]=o:r?e[n]?e[n]=o:Ss(e,n,o):(delete e[n],Ss(e,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),Ns=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},Rs=function(e,t,n){if(Ns(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)}}return function(){return e.apply(t,arguments)}},Os=function e(t,n,i){var o,r,a,s,c=t&e.F,d=t&e.G,l=t&e.S,u=t&e.P,p=t&e.B,h=d?os:l?os[n]||(os[n]={}):(os[n]||{}).prototype,f=d?rs:rs[n]||(rs[n]={}),m=f.prototype||(f.prototype={});d&&(i=n);for(o in i)r=!c&&h&&void 0!==h[o],a=(r?h:i)[o],s=p&&r?Rs(a,os):u&&"function"==typeof a?Rs(Function.call,a):a,h&&Ds(h,o,a,t&e.U),f[o]!=a&&Ss(f,o,s),u&&m[o]!=a&&(m[o]=a)};os.core=rs,Os.F=1,Os.G=2,Os.S=4,Os.P=8,Os.B=16,Os.W=32,Os.U=64,Os.R=128;var Ws=Os,Es={}.toString,Bs=function(e){return Es.call(e).slice(8,-1)},Ls=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Bs(e)?e.split(""):Object(e)},Fs=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},zs=function(e){return Object(Fs(e))},Vs=Math.ceil,Us=Math.floor,Hs=function(e){return isNaN(e=+e)?0:(e>0?Us:Vs)(e)},js=Math.min,Ys=function(e){return e>0?js(Hs(e),9007199254740991):0},Gs=Array.isArray||function(e){return"Array"==Bs(e)},qs=os["__core-js_shared__"]||(os["__core-js_shared__"]={}),Zs=function(e){return qs[e]||(qs[e]={})},Ks=e(function(e){var t=Zs("wks"),n=os.Symbol,i="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=i&&n[e]||(i?n:Ps)("Symbol."+e))}).store=t}),Qs=Ks("species"),Js=function(e){var t;return Gs(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!Gs(t.prototype)||(t=void 0),ps(t)&&null===(t=t[Qs])&&(t=void 0)),void 0===t?Array:t},Xs=function(e,t){return new(Js(e))(t)},$s=function(e,t){var n=1==e,i=2==e,o=3==e,r=4==e,a=6==e,s=5==e||a,c=t||Xs;return function(t,d,l){for(var u,p,h=zs(t),f=Ls(h),m=Rs(d,l,3),b=Ys(f.length),w=0,g=n?c(t,b):i?c(t,0):void 0;b>w;w++)if((s||w in f)&&(u=f[w],p=m(u,w,h),e))if(n)g[w]=p;else if(p)switch(e){case 3:return!0;case 5:return u;case 6:return w;case 2:g.push(u)}else if(r)return!1;return a?-1:o||r?r:g}},ec=Ks("unscopables"),tc=Array.prototype;void 0==tc[ec]&&Ss(tc,ec,{});var nc=function(e){tc[ec][e]=!0},ic=$s(6),oc="findIndex",rc=!0;oc in[]&&Array(1)[oc](function(){rc=!1}),Ws(Ws.P+Ws.F*rc,"Array",{findIndex:function(e){return ic(this,e,arguments.length>1?arguments[1]:void 0)}}),nc(oc);var ac=$s(5),sc=!0;"find"in[]&&Array(1).find(function(){sc=!1}),Ws(Ws.P+Ws.F*sc,"Array",{find:function(e){return ac(this,e,arguments.length>1?arguments[1]:void 0)}}),nc("find"),Ws(Ws.S,"Number",{isNaN:function(e){return e!=e}});var cc=function(e){return Ls(Fs(e))},dc=Math.max,lc=Math.min,uc=function(e,t){return e=Hs(e),e<0?dc(e+t,0):lc(e,t)},pc=Zs("keys"),hc=function(e){return function(t,n,i){
var o,r=cc(t),a=Ys(r.length),s=uc(i,a);if(e&&n!=n){for(;a>s;)if((o=r[s++])!=o)return!0}else for(;a>s;s++)if((e||s in r)&&r[s]===n)return e||s||0;return!e&&-1}}(!1),fc=function(e){return pc[e]||(pc[e]=Ps(e))}("IE_PROTO"),mc=function(e,t){var n,i=cc(e),o=0,r=[];for(n in i)n!=fc&&Ms(i,n)&&r.push(n);for(;t.length>o;)Ms(i,n=t[o++])&&(~hc(r,n)||r.push(n));return r},bc="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),wc=Object.keys||function(e){return mc(e,bc)},gc=Object.getOwnPropertySymbols,vc={f:gc},yc={}.propertyIsEnumerable,_c={f:yc},xc=Object.assign,kc=!xc||fs(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=xc({},e)[n]||Object.keys(xc({},t)).join("")!=i})?function(e,t){for(var n=zs(e),i=arguments.length,o=1,r=vc.f,a=_c.f;i>o;)for(var s,c=Ls(arguments[o++]),d=r?wc(c).concat(r(c)):wc(c),l=d.length,u=0;l>u;)a.call(c,s=d[u++])&&(n[s]=c[s]);return n}:xc;Ws(Ws.S+Ws.F,"Object",{assign:kc});var Cc=e(function(e){!function(t){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!==as(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function r(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,i)})}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===(void 0===t?"undefined":as(t))||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var u=setTimeout;o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new d(e,t,i)),i},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function i(r,a){try{if(a&&("object"===(void 0===a?"undefined":as(a))||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(r,e)},n)}t[r]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},o.resolve=function(e){return e&&"object"===(void 0===e?"undefined":as(e))&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},e.exports?e.exports=o:t.Promise||(t.Promise=o)}(is)});window.Promise||(window.Promise=Cc);var Sc={},Ac=[],Mc=[],Tc=0,Ic=1,Pc=2,Dc=3,Nc="__preactattr_",Rc=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Oc=[],Wc=[],Ec=0,Bc=!1,Lc=!1,Fc={};i(I.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),r(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),A(this,Pc)},render:function(){}});var zc=e(function(e,t){function n(e,t){function n(r,a){if(e(r,a))return!0;if(Array.isArray(r))return!(!Array.isArray(a)||r.length!==a.length)&&!!r.every(function(e,t){return n(e,a[t])});if(Array.isArray(a))return!1;if("object"===(void 0===r?"undefined":i(r))){if("object"!==(void 0===a?"undefined":i(a)))return!1;var s=null===r,c=null===a;if(s||c)return s===c;var d=Object.keys(r),l=Object.keys(a);if(d.length!==l.length)return!1;var u=t?n:e;return!!d.every(function(e){return o(r,e)&&o(a,e)&&u(r[e],a[e])})}return!1}return n}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}),Vc=e(function(e,t){function n(e,t){function n(e){var n=o.findIndex(function(n){return t(e,n.key)});if(n>-1){var i=o[n];return n>0&&(o.slice(n,1),o.unshift(i)),i.value}}function i(t,i){n(t)||(o.unshift({key:t,value:i}),o.length>e&&o.pop())}var o=[];return{get:n,put:i}}t.__esModule=!0,t.default=n}),Uc=e(function(e,t){function n(e){var t=void 0;return{get:function(n){if(t&&e(n,t.key))return t.value},put:function(e,n){t={key:e,value:n}}}}t.__esModule=!0,t.default=n}),Hc=e(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return 1===e?(0,c.default)(t):(0,s.default)(e,t)}function o(e,t){var n=t?(0,a.default)(e,t):e;return function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i+=1)if(!n(e[i],t[i]))return!1;return!0}}function r(){for(var e=1,t=function(e,t){return e===t},n=!1,r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];"number"==typeof a[0]&&(e=a.shift()),"function"==typeof a[0]?t=a.shift():void 0===a[0]&&a.shift(),"boolean"==typeof a[0]&&(n=a[0]);var c=i(e,o(t,n));return function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=c.get(n);return void 0===o&&(o=e.apply(e,n),c.put(n,o)),o}}}t.__esModule=!0,t.default=r;var a=n(zc),s=n(Vc),c=n(Uc)}),jc=e(function(e,t){t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(Hc);t.default=n.default}),Yc=function(e){return e&&e.__esModule?e.default:e}(jc),Gc=window.parent,qc=Gc.document,Zc=Gc.location,Kc=window.navigator.userAgent,Qc=Gc.Comm100API,Jc=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,i=arguments[1],o=t[i.type];return void 0===o?n:o(n,i.payload,i.config)}},Xc=function(e,t){for(var n=t.split("."),i=e,o=0;o<n.length;o+=1){if(!i)return;i=i[n[o]]}return i},$c=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ed=function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},td=function(e,t){return new Promise(function(n){return setTimeout(void 0===t?n:D(n,t),e)})},nd=function(e,t){var n=e;Object.keys(t).forEach(function(e){n[e]=t[e]})},id=function(e,t,n){var i=n.ownerDocument,o=i.createElement(e);return nd(o,t),"style"in t&&nd(o.style,t.style),Object.keys(t).forEach(function(e){e.indexOf("data-")<0||(o.dataset?o.dataset[e.substr(5)]=t[e]:o.setAttribute(e,t[e]))}),n.appendChild(o),o},od=function(e,t,n,i){return new Promise(function(o,r){var a=void 0;if(nd(t,{onload:function(){o(a)},onerror:r}),a=id(e,t,n),i)var s=setInterval(function(){i()&&(clearInterval(s),o(a))},100)})},rd=function(e,t){var n=String(e).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i="#",o=void 0,r=void 0;for(r=0;r<3;r+=1)o=parseInt(n.substr(2*r,2),16),o=Math.round(255-t*(255-o)).toString(16),i+=("00"+o).substr(o.length);return i},ad=function(e,t,n){var i=0,o=0,r=0;if(0===t)r=n,i=n,o=n;else{var a=function(e,t,n){var i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;i=a(c,s,e+1/3),o=a(c,s,e),r=a(c,s,e-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*r)]},sd=function(e,t,n){var i=e/255,o=t/255,r=n/255,a=Math.max(i,o,r),s=Math.min(i,o,r),c=0,d=0,l=(a+s)/2;if(a!==s){var u=a-s;switch(d=l>.5?u/(2-a-s):u/(a+s),a){case i:c=(o-r)/u+(o<r?6:0);break;case o:c=(r-i)/u+2;break;case r:c=(i-o)/u+4}c/=6}return[c,d,l]},cd=function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null},dd=function(e){var t=e.toLowerCase(),n=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(t&&n.test(t)){if(4===t.length){for(var i="#",o=1;o<4;o+=1)i+=t.slice(o,o+1).concat(t.slice(o,o+1));t=i}for(var r=[],a=1;a<7;a+=2)r.push(parseInt("0x"+t.slice(a,a+2),16));return r}var s=/^RGB[A]?\(([\d]+),([\d]+),([\d]+)\)/i;if(t&&s.test(t)){return s.exec(t)}return t},ld=function(e,t){var n=dd(e),i=sd(n[0],n[1],n[2]);return 0===i[2]?"#212121":(i[2]*=t,ad(i[0],i[1],i[2]).reduce(function(e,t){var n=e,i=t.toString(16);return 1===i.length&&(i="0"+i),n+=i},"#"))},ud=function(e){if(!e)return!1;var t=cd(e);return(299*t[0]+587*t[1]+114*t[2])/1e3/255>.7},pd=function(e){return e<10?"0"+e:""+e},hd=function(e){var t=e.getHours(),n=e.getMinutes();return pd(t)+":"+pd(n)},fd=function(e){var t=e;return 13===(t.charCode||t.which||t.keyCode)&&!t.shiftKey},md=function(e,t){var n=new RegExp("(&?)"+t+"=([^&]*)(&|$)","i"),i=e.match(n);return null!=i?decodeURIComponent(i[2]):null},bd=function(e){var t=/:\/\/([^\/]+)\/?/.exec(e);return t&&t[1]},wd=function(e){var t=e;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(e)||(t="http://"+e),n("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e)},gd=function(e){return!!e&&("function"==typeof e.then&&"function"==typeof e.catch)},vd=function(e,t,n){var i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,c=function c(){var d=Date.now()-r;d<t&&d>0?s=setTimeout(c,t-d):(s=null,n||(a=e.apply(i,o),s||(i=null,o=null)))};return function(){i=this;for(var d=arguments.length,l=Array(d),u=0;u<d;u++)l[u]=arguments[u];o=l,r=Date.now();var p=n&&!s;return s||(s=setTimeout(c,t)),p&&(a=e.apply(i,o),i=null,o=null),a}},yd=function(e){return e<=0?0:e-(new Date).getTime()},_d=function(e){return function(e){return e}},xd=Kc.toLowerCase(),kd=xd.indexOf("msie ")>=0||xd.indexOf("trident/")>=0,Cd=(xd.indexOf("trident/7.0"),xd.indexOf("msie 10")>=0),Sd=xd.indexOf("msie 9")>=0,Ad=(xd.indexOf("edge"),xd.indexOf("chrome")>=0),Md=xd.toLowerCase().indexOf("iphone")>=0,Td=function(){return void 0!==document.createElement("a").style.animationName||!1}(),Id=function(e,t){var n={};t.forEach(function(e){n[e.toLowerCase()]=e});var i={},o={};return Object.keys(e).forEach(function(t){var r=n[t.toLowerCase()];r?i[r]=e[t]:o[t]=e[t]}),[i,o]},Pd=function(e,t){e&&(e.addEventListener("animationend",t,!1),e.addEventListener("webkitAnimationEnd",t,!1))},Dd=function(e,t){e&&(e.removeEventListener("animationend",t),e.removeEventListener("webkitAnimationEnd",t))},Nd=function(e,t,n){for(var i=0,o=e.length,r=e.split(""),a=-1,s=[],c=0;c<o;c+=1)a=e.charCodeAt(c),(i+=a>=0&&a<=128?1:2)>=t&&i<=t+n&&s.push(r[c]);return s.join("")+" ..."
},Rd=".DayPicker-wrapper,.btn{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.btn,.buttonProgressContainer{position:relative;text-align:center}.controlIndicator::after,.select-box::after,.select-box::before{content:''}.btn,.bubble__operation .btn{max-width:100%}.window--circle .header__agentInfo,.window--classic .header__agentInfo,.window--classic .window__headerBox--team{-webkit-box-orient:vertical;-webkit-box-direction:normal}.btn,.select-box .select{outline:0;font-size:1rem;-webkit-appearance:none}button{margin:0;padding:0;font-family:\"SourceSans Pro\",Arial;-webkit-appearance:none}.btn{text-decoration:none;zoom:1;display:inline-block;margin-bottom:0;font-weight:500;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;line-height:1.5;padding:4px 10px;font-family:\"SourceSans Pro\";border-radius:2px;user-select:none;background-color:inherit}.disabled{opacity:.6;filter:alpha(opacity=60);cursor:default;box-shadow:none!important}.btn-grey:active,.btn-primary:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-primary{color:#000004;background:#000001;border:1px solid #000001}.btn-primary.disabled{background-color:#000001!important;border:1px solid #000001!important}.btn-primary:focus,.btn-primary:hover{background:#000003;border:1px solid #000003;text-decoration:none}.btn-primary:active{background:#000003;border:1px solid #000003}.btn-grey{color:#000;background:#c4c4c4;border:1px solid #c4c4c4}.btn-grey:focus,.btn-grey:hover{background:#afafaf;border:1px solid #afafaf;text-decoration:none}.btn-grey:active{background:#c4c4c4;border:1px solid #c4c4c4}.window--classic .btn{border-radius:2px}.window--circle .btn{border-radius:20px}.window--bubble .btn{border-radius:8px}.buttonProgressBtnAnimated{-webkit-animation-fill-mode:both;animation-fill-mode:both}.buttonProgressBtnDefaultSize{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;width:128px}.buttonProgressContainerLoading .buttonProgressBtnAnimated,.buttonProgressContainerSuccess .buttonProgressBtnAnimated{-webkit-animation-name:form__submit--loading;animation-name:form__submit--loading;-webkit-animation-duration:.4s;animation-duration:.4s;cursor:default}.window--ie .buttonProgressContainerLoading .buttonProgressBtnAnimated{-webkit-animation:none;animation:none;opacity:.65}@-webkit-keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#000001;border:1px solid #000001;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}@keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#000001;border:1px solid #000001;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}.lds-css,.lds-rolling{width:32px;height:32px}.bubble__operation .btn,.header__agentBio,.header__agentName,.header__agentTitle,.title-buttons__operation--text a,.window--classic .header__agentTitle{text-overflow:ellipsis;overflow:hidden}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.buttonProgress__layerSuccess,.lds-css{position:absolute;left:50%;top:50%;display:none}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.lds-css{margin-top:-16px;margin-left:-16px}.buttonProgress__layerSuccess{margin-top:-8px;margin-left:-8px}.buttonProgressContainerLoading .buttonProgress__layerLoading,.buttonProgressContainerLoading .lds-css{display:block;-webkit-animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;cursor:default}.buttonProgressContainerSuccess .buttonProgress__layerLoading,.buttonProgressContainerSuccess .lds-css,.window--ie .buttonProgressContainerLoading .lds-css{display:none}.buttonProgressContainerSuccess .buttonProgress__layerCircle,.buttonProgressContainerSuccess .buttonProgress__layerSuccess{display:block;cursor:default}.container-checkbox,.container-checkboxlist,.horizontal{display:inline-block}.checkbox2,.control,.select-box .select,svg:hover{cursor:pointer}.buttonProgress__submitLoadingPath{fill:#000001}.buttonProgress__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:0;fill:#fff;fill-opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitCirclePath{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:buttonProgress__submitCirclePath-dash;animation-name:buttonProgress__submitCirclePath-dash;-webkit-animation-duration:.5s;animation-duration:.5s}@-webkit-keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}@keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.buttonProgress__submitSuccessPath{fill:#000001;stroke-width:1;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitSuccessPath{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:buttonProgress__submitSuccessPath-animation;animation-name:buttonProgress__submitSuccessPath-animation;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:542ms;animation-delay:542ms}@-webkit-keyframes buttonProgress__submitSuccessPath-animation{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:1}}@keyframes buttonProgress__submitSuccessPath-animation{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:1}}@-webkit-keyframes lds-rolling{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}@keyframes lds-rolling{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}.lds-rolling{position:absolute;border:3px solid #000001;border-top-color:transparent;border-radius:50%;-webkit-animation:lds-rolling .75s linear infinite;animation:lds-rolling .75s linear infinite}.window--ie .lds-rolling{-webkit-animation:none;animation:none}.container-checkbox{position:relative;color:#666;padding-left:18px}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:14px;height:14px;position:absolute;left:0;top:50%;margin-top:-7px}.checkbox+.selected .checkbox3{fill:#000001;cursor:pointer}.checkbox:focus+.selected .checkbox2,.container-checkbox:hover>.selected .checkbox2{fill:#000001}.checkbox2{fill:#ddd}.unselected .checkbox3{fill:#fafafa}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#000001}.checkbox{position:absolute;z-index:-1;opacity:0}.horizontal{margin-right:10px}.control,.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.text{opacity:.6;pointer-events:none}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fafafa}.control{position:relative;padding-left:20px;margin-bottom:5px;font-size:1rem;color:#666}.control input[type=radio]{position:absolute;z-index:-1;opacity:0}.controlIndicator{position:absolute;top:50%;left:0;margin-top:-8px;height:16px;width:16px;border:1px solid #cdcdcd;background-color:#fff}.controlRadio .controlIndicator{border-radius:50%}.control input[type=radio]:focus~.controlIndicator,.control:hover input[type=radio]~.controlIndicator{border-color:#8a8a8a}.control input[type=radio]:checked~.controlIndicator{background:#fff}.control input[type=radio]:disabled~.controlIndicator{background:#e6e6e6;opacity:.6;pointer-events:none}.controlIndicator::after{position:absolute;display:none}.controlRadio .controlIndicator::after{left:3px;top:3px;height:8px;width:8px;border-radius:50%;background:#000001}.control input[type=radio]:checked~.controlIndicator::after{display:block}.controlRadio.horizontal{float:left;margin-right:20px}.select-box{position:relative;padding:3px;height:35px;background:#fff;border-radius:2px}.select-box::before{position:absolute;right:0;top:0;width:35px;height:34px;border-left:1px solid #ddd}.select-box::after{position:absolute;right:13px;top:15px;width:0;height:0;border:6px solid transparent;border-left-width:4px;border-right-width:4px;border-top-color:#a6a6a6}.select-box .select{position:absolute;left:0;right:0;top:0;bottom:0;z-index:9;padding:5px 40px 5px 10px;background:0 0;height:100%;width:100%;color:#000;border:1px solid #ddd;font-family:inherit;-moz-appearance:none;appearance:none}.botform__submitContainer button,.header__agentName{font-family:\"SourceSans Pro Light\",Arial}.input,.multipleText{-webkit-appearance:none;font-size:1rem;outline:0}.select-box .select::-ms-expand{display:none}.select-box .select:focus{border-color:#000001}.window--classic .select-box,.window--classic .select-box .select{border-radius:2px}.window--circle .select-box,.window--circle .select-box .select{border-radius:20px}.window--bubble .select-box,.window--bubble .select-box .select{border-radius:8px}.svg{width:16px;height:16px}.svg--loading{width:22px;height:22px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}.prepend,.prependContainer{display:inline-block}.bubble .btn:first-child,.rating .star{margin-right:10px}.svg.disabled{opacity:.3}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}.input{border:1px solid #ddd;padding:5px 10px;border-radius:2px;transition:border-color ease-in-out .2s}.input:disabled{background-color:#f5f5f5}.input[readOnly]{border:0}input.attachTicket{width:100px;margin-left:5px}.input:not(.input--effect01):focus{border-color:#000001;outline:0}.prepend{line-height:18px;padding:5px 5px 4px;background-color:#fafafa}.prependContainer .input{border-top-left-radius:0;border-bottom-left-radius:0}.prependIcon{float:left;padding:0 6px 0 0}.defaultIcon{display:block;width:24px;height:24px}.inputContainer{position:relative;display:inline-block}.input.input--effect01{border:1px solid #ddd;border-right-color:#000001;padding:5px 10px;border-radius:0}.input__focusBorder{display:block}.input.input--effect01~.input__focusBorder::after,.input.input--effect01~.input__focusBorder::before{content:\"\";position:absolute;top:0;left:0;width:0;height:1px;background-color:#000001}.input.input--effect01~.input__focusBorder::after{top:auto;bottom:0;left:0}.input.input--effect01~.input__focusBorder i::after,.input.input--effect01~.input__focusBorder i::before{content:\"\";position:absolute;top:50%;left:0;width:1px;height:0;background-color:#000001}.input.input--effect01~.input__focusBorder i::after{left:auto;right:0;top:0;bottom:0;background:#ccc;height:100%}.input.input--effect01:focus~.input__focusBorder::after,.input.input--effect01:focus~.input__focusBorder::before{width:100%;transition:156ms;transition-delay:26ms}.input.input--effect01:focus~.input__focusBorder i::after,.input.input--effect01:focus~.input__focusBorder i::before{height:100%;transition:26ms;top:0}.input.input--effect01:focus~.input__focusBorder i::after{height:0;transition-delay:182ms;top:50%}.input--circle,.window--circle .input{border-radius:20px;padding:5px 15px}.input--bubble,.window--bubble .input{border-radius:8px}.input.error,.input.error:focus,.input.error:hover{border-color:#d34747}.input.error~.input__focusBorder i::after,.input.error~.input__focusBorder i::before,.input.error~.input__focusBorder::after,.input.error~.input__focusBorder::before{background:#d34747}input,textarea{-webkit-transform:translate3d(0,0,0)}.multipleText{border:1px solid #ddd;padding:5px;transition:border-color .2s;border-radius:2px;width:100%;overflow:auto}.multipleText:disabled{background-color:#f5f5f5}.multipleText:focus{border-color:#000001;outline:0}.multipleText.error,.multipleText.error:focus,.multipleText.error:hover{border-color:#d34747}.window--classic .multipleText{border-radius:2px}.window--circle .multipleText{border-radius:20px;padding:15px}.window--bubble .multipleText{border-radius:8px;padding:5px 10px}.bubble-box{display:none}.bubble{position:absolute;width:250px;background:#fff;padding:18px 20px 20px;text-align:center;font-size:1rem;line-height:20px;border-radius:4px;box-shadow:0 0 10px rgba(0,0,0,.3);z-index:99}.window--circle .bubble{padding:20px}.window__footer .bubble{font-size:1rem}.bubble::before,.bubble__arrowDown,.bubble__arrowDown::before{content:'';position:absolute;width:0;height:0;border:6px solid transparent;z-index:9}.bubble::after,.bubble__arrowDown::after{content:'';position:absolute;width:0;height:0;border:8px solid transparent;z-index:8}.bubble-up{left:-12px;bottom:35px;-webkit-transform-origin:20px calc(100% + 19px);-ms-transform-origin:20px calc(100% + 19px);transform-origin:20px calc(100% + 19px)}.window--bubble .bubble-up,.window--circle .bubble-up{-webkit-transform-origin:207px calc(100% + 19px);-ms-transform-origin:207px calc(100% + 19px);transform-origin:207px calc(100% + 19px)}.window--bubble .bubble-up{-webkit-transform-origin:177px calc(100% + 19px);-ms-transform-origin:177px calc(100% + 19px);transform-origin:177px calc(100% + 19px)}.window--bubble .chat-input__controlbox--disabled .bubble-up{-webkit-transform-origin:257px calc(100% + 19px);-ms-transform-origin:257px calc(100% + 19px);transform-origin:257px calc(100% + 19px)}.window--bubble.window--rtl .bubble-up,.window--circle.window--rtl .bubble-up{-webkit-transform-origin:42px calc(100% + 19px);-ms-transform-origin:42px calc(100% + 19px);transform-origin:42px calc(100% + 19px)}.window--bubble.window--rtl .chat-input__controlbox--disabled .bubble-up{-webkit-transform-origin:12px calc(100% + 19px);-ms-transform-origin:12px calc(100% + 19px);transform-origin:12px calc(100% + 19px)}.bubble-up .bubble__arrowDown,.window--classic .bubble-up::before{bottom:-12px;left:12px;border-top-color:#fff}.window--bubble .bubble-up::before,.window--circle .bubble-up::before{bottom:-12px;left:207px;border-top-color:#fff;display:none}.window--bubble .chat-input__controlbox--disabled .bubble-up::before{left:252px}.window--bubble.window--rtl .bubble-up::before,.window--circle.window--rtl .bubble-up::before{left:42px}.window--bubble.window--rtl .chat-input__controlbox--disabled .bubble-up::before{left:12px}.bubble__arrowDown::before{border-top-color:#fff;top:-7px;left:-6px}.bubble__arrowDown::after{border:6px solid transparent;border-top-color:rgba(0,0,0,.15);top:-6px;left:-6px}.bubble-down{right:-11px;top:30px;top:calc(100% + 10px);-webkit-transform-origin:calc(100% - 11px) -16px;-ms-transform-origin:calc(100% - 11px) -16px;transform-origin:calc(100% - 11px) -16px}.bubble-down::before{top:-12px;right:16px;border-bottom-color:#fff}.bubble-down::after{top:-16px;right:14px;border-bottom-color:rgba(0,0,0,.08)}.window--classic .bubble-up::after{bottom:-16px;left:10px;border-top-color:rgba(0,0,0,.08)}.window--classic .bubble-down{right:0}.window--classic .bubble-down::before{top:-12px;right:7px}.window--classic .bubble-down::after{top:-16px;right:5px}.window--circle .bubble-down::before{right:18px}.window--circle .bubble-down::after{right:16px}.window--bubble .bubble-down::before{right:7px}.window--bubble .bubble-down,.window--bubble .bubble-down::after{right:5px}.bubble-box--show{display:block}.bubble-box--show .bubble{-webkit-animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both;animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .bubble-box--show .bubble{-webkit-animation:none;animation:none}@-webkit-keyframes showBubble{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showBubble{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}.bubble-close{position:absolute;right:12px;top:10px;cursor:pointer}.bubble__operation{margin-top:10px}.window--bubble .bubble,.window--bubble .bubble__operation .btn{border-radius:8px}.window--circle .bubble,.window--circle .bubble__operation .btn{border-radius:20px}.embedded-end-chatConfirmAction.bubble__operation .btn{max-width:112px}.bubble--title{color:#333;font-size:1rem;margin-bottom:13px;word-wrap:break-word}.bubble--desc{font-size:1rem;color:#666;margin-bottom:10px}.bubble--textarea{position:relative;border-radius:4px;margin-top:15px}.bubble__required{color:#de3939}.rating .bubble__required{position:relative;top:-5px}.bubble--textarea .bubble__required{position:absolute;top:27px;right:-10px}.rating,.rating .star{position:relative}.window--mobile .bubble__arrowDown{display:none}.bubble .multipleText{display:block}.bubble .rating{height:30px}.rating .star{display:inline-block;font-size:2rem;line-height:30px;color:#c8c8c8;cursor:pointer}.rating .star:last-child{margin-right:0}.window--bubble .form-fields--horizonal .rating .star{font-size:1.066667rem;line-height:16px;margin-right:6px}.window--circle .form-fields--horizonal .rating .star{font-size:1.666667rem;line-height:25px}.rating .star.animate{color:#ffd051;-webkit-animation:stretch-bounce 542ms ease-in-out both;animation:stretch-bounce 542ms ease-in-out both}.window--ie .rating .animate.star{-webkit-animation:none;animation:none}.rating .star.hidden{opacity:0}.rating .full::before{display:inline-block;position:relative;float:right;z-index:2}.rating .full{outline:0}.rating .half::before{position:absolute;float:left;z-index:3}.rating .starColour{color:#ffd051;outline:0}.rating .selected::before{display:inline-block;position:absolute;top:0;left:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);opacity:1;z-index:1}.rating .selected.pulse::before{-webkit-transform:scale(3);-ms-transform:scale(3);transform:scale(3);opacity:0}.ratingStars{line-height:30px;height:30px;display:inline-block}.window__headerContainer,.window__headerVessel{-ms-flex-negative:0;flex-shrink:0}.window__header{width:100%;min-height:30px;transition:height 50ms linear}.window--classic .window__header--fadeInDown{-webkit-animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86);animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86)}.window--ie .window--classic .window__header--fadeInDown{-webkit-animation:none;animation:none}.window__headerBox{padding:15px 25px;width:100%}.window__headerBox--onlylogo{min-height:85px}.window__headerBox--fadeInDown{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}.title-buttons__operation{display:block;float:left;padding-left:10px;padding-right:10px}.window--circle:not(.window--embedded) .title-buttons__operation,.window--classic:not(.window--embedded) .title-buttons__operation{line-height:1}.window--mobile .title-buttons__operation{padding:0 9.5px}.title-buttons__operation .icon{cursor:pointer}.title-buttons__operation--text{border-left:2px solid rgba(255,255,255,.5)}.window--circle .title-buttons__operation--text{border-left-color:#a3a3a3;line-height:13px}.window--classic .title-buttons__operation--text{border-left-color:#000007;line-height:13px}.title-buttons__operation--text a{color:#fff;text-decoration:none;cursor:pointer;display:block;max-height:21px;white-space:nowrap}.window--circle .title-buttons__operation--text a{color:#a3a3a3}.window--classic .window__headerBox{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.window--classic .window__headerBox--team{-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.window--classic .header__agent{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.window--classic .header__agent--withlogo{margin-right:10px}.window--classic .title-buttons__operation--text a{color:#000004}.header__teamAvatar--gray .header__teamAvatarImg{filter:gray;-webkit-filter:grayscale(100%)}.window--classic .main-container .window__title{position:absolute;right:2px;top:5px;z-index:999}.window--classic .window__header{background:#000001;box-shadow:0 1px 5px rgba(0,0,0,.15)}.window--classic .icon-close,.window--classic .icon-embedded,.window--classic .icon-minimize,.window--classic .icon-popup{color:#000004;font-size:.8rem}.header__bannerImg{max-height:90px}.window--classic .header__bannerImg{display:block;max-width:calc(100% + 50px);margin:15px -25px -15px}.window--classic .header__agentInfo{overflow:hidden;min-height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;max-width:100%}.window--classic .header__agentInfoNoAvatar{max-width:100%;width:100%;padding-left:0}.window--circle .header__agentInfo{width:100%}.window--classic .header__chatbot{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.window--classic .header__avatar{float:left;margin-right:10px;width:50px;height:50px;-ms-flex-item-align:start;align-self:flex-start}.header__avatarImage{background:#f4f5f6}.window--classic .header__avatarImage{display:block;border-radius:100%;width:50px;height:50px}.header__agent{position:relative}.window--circle .header__agent--compact{height:38px}.header__agent--compact:hover::before{content:'';position:absolute;z-index:99;width:calc(100% + 10px);height:calc(100% + 10px);background:rgba(0,0,0,.1);border-radius:4px;left:-5px;top:-5px;cursor:pointer}.window--circle .header__agent--compact:hover::before{width:100%;height:calc(100% + 6px);left:0;top:-3px;border-radius:10px}.window--classic .header__agent{-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:calc(100% - 75px)}.window--classic .header__agent--fadeInUp{-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window--classic .header__agent--fadeInUp{-webkit-animation:none;animation:none}.window--classic .header__agent--withlogo{float:left;height:50px}.header__agentName,.header__agentTitle{max-width:100%;white-space:nowrap}.window--classic .header__agentName{font-size:1.2rem;line-height:1.4rem;color:#000004;text-shadow:0 1px 1px rgba(0,0,0,.2)}.window--classic .header__agentBio,.window--classic .header__agentTitle{font-size:.933333rem;margin-top:4px;color:#000004;text-shadow:0 1px 1px rgba(0,0,0,.2)}.window--classic .header__agentTitle{line-height:1rem;opacity:.45;white-space:nowrap}.header__agentBio{max-height:80px;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;word-wrap:break-word;width:calc(100% + 60px)}.window--classic .header__agentBio{opacity:.7;padding-left:60px}.window--classic .header__agentBio a{color:#000004;border-bottom:1px solid #000007}.window--classic .header__logo{margin-top:17px;margin-left:auto}.window--classic .header__logoImg{max-height:53px;max-width:170px;display:block}.window--classic .header__teamName{font-size:1.2rem;color:#000004;text-align:center;text-shadow:0 1px 1px rgba(0,0,0,.2)}.window--classic .header__teamAvatar{position:relative;width:170px;height:50px;margin:11px auto 10px}.header__teamAvatarImg{background:#f4f5f6}.window--classic .header__teamAvatarImg{position:absolute;border-radius:100%;box-shadow:0 1px 5px rgba(0,0,0,.3)}.window--classic .header__teamAvatarImg:nth-child(1){left:0;z-index:9}.window--classic .header__teamAvatarImg:nth-child(2){left:60px;z-index:8}.window--classic .header__teamAvatarImg:nth-child(3){left:120px;z-index:7}.window--classic .window__header--prechatWithAvatar{height:126px}.window--classic .header--compact{height:55px}.window--classic .header--compact .header__teamAvatar,.window--classic.animation--chatting .header__teamAvatar{-webkit-transform:translateY(-105px);-ms-transform:translateY(-105px);transform:translateY(-105px)}.window--classic.animation--chatting .header__teamName{-webkit-transform:translateY(-60px);-ms-transform:translateY(-60px);transform:translateY(-60px)}.window--circle .header{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle .header__bannerImg{display:block;max-width:calc(100% + 30px);margin:25px -15px -15px}.window--circle .header__avatar{position:absolute;top:-85px;left:50%;margin-left:-35px}.window--circle .header__avatar--withSideWindow,.window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:calc(50% - 13px)}.window--mobile .window--circle .header__avatar--withSideWindow,.window--mobile .window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:50%}.window--circle .header__avatar--fadeInDown{-webkit-animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window--circle .header__avatar--fadeInDown{-webkit-animation:none;animation:none}.window--circle .header__avatarImage{display:block;border-radius:100%;width:70px;height:70px;border:1px solid #ddd;box-shadow:0 0 10px rgba(0,0,0,.4)}.window--circle .header__agentInfo{text-align:center;margin-top:35px;display:-webkit-box;display:-ms-flexbox;display:flex;display:-webkit-flex;flex-direction:column;-ms-flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.window--circle .header__agentInfoNoAvatar{margin-top:0}.window--circle .header__agentName{max-width:calc(100% - 90px);margin:0 auto;font-size:1.2rem;color:#000;line-height:1}.window--circle .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3);margin-top:4px;margin-bottom:5px;line-height:1rem}.window--bubble .header__agentBio,.window--circle .header__agentBio{line-height:20px;max-height:80px;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.window--circle .header__agentBio{text-align:center;font-size:.933333rem;color:rgba(0,0,0,.5);display:-webkit-box;width:100%}.window--circle .header__agentBio a{color:rgba(0,0,0,.5)}.window--circle .header__teamName{font-size:1.2rem;color:#000;margin-top:38px;text-align:center}.window--circle .header__teamNameNoAvatar{margin-top:10px}.window--circle .header__teamAvatar{position:absolute;left:50%;top:-35px;width:160px;height:70px;margin-bottom:10px;margin-left:-80px;-webkit-animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window--circle .header__teamAvatar{-webkit-animation:none;animation:none}.window--circle .header__teamAvatarImg{position:absolute;border-radius:100%}.window--circle .header__teamAvatarImg:nth-child(1){width:55px;height:55px;z-index:8;top:7px}.window--circle .header__teamAvatarImg:nth-child(2){width:70px;height:70px;left:45px;z-index:9;top:0;box-shadow:0 0 10px rgba(0,0,0,.4)}.window--circle .header__teamAvatarImg:nth-child(3){width:55px;height:55px;right:0;z-index:8;top:7px}.window--circle .icon-close,.window--circle .icon-embedded,.window--circle .icon-minimize,.window--circle .icon-popup{color:#a3a3a3;font-size:.8rem}.window--circle .main-container .window__title{position:absolute;right:13px;top:16px}.window--circle .window__headerBox{min-height:55px;border-bottom:1px solid #ddd;width:calc(100% - 30px);margin:0 auto;padding-left:0;padding-right:0}.window--circle .header-operator{margin-bottom:17px}.window--bubble .window__title{visibility:hidden;opacity:0}.window--bubble:hover .window__title{visibility:visible;opacity:1;transition:opacity .4s cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble .header__avatar{position:absolute;top:-45px;left:50%;margin-left:-42px}.window--bubble .header__avatarImage{display:block;border-radius:100%;width:85px;height:85px;border:1px solid #000004}.window--bubble .header__agentInfo{text-align:center;margin-top:35px}.window--bubble .header__agentName{font-size:1.2rem;color:#000}.window--bubble .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3)}.window--bubble .header__agentBio{font-size:.933333rem;color:rgba(0,0,0,.5);margin-top:5px;display:-webkit-box}.window__formError,.window__formGreeting,.window__ssologinError,.window__ssologinGreeting{line-height:18px;font-size:.933333rem}.window--bubble .icon-close,.window--bubble .icon-embedded,.window--bubble .icon-minimize,.window--bubble .icon-popup{color:#fff;font-size:.8rem}.window--bubble .main-container .window__title{position:absolute;right:0;top:0;z-index:999;background:rgba(0,0,0,.5);padding:2px 3px;border-radius:20px}.window--bubble:not(.window--embedded) .main-container .window__title{top:5px;right:15px}.window--bubble .window__headerBox{padding-bottom:0}.window--bubble .header-operator{border-bottom:1px solid #ddd;padding-bottom:28px}.window--ie .window--classic .window__headerBox--banner{display:block}.window__ssologin{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:28px 40px}.window__ssologinError{color:#de3939;margin-bottom:26px}.window__ssologinGreeting{color:#666;margin-bottom:28px;text-align:center}.window__ssologinForm{text-align:center}.window__ssologinOperation{display:block;margin:0 auto 20px;overflow:hidden;text-overflow:ellipsis}.window__ssologinOperation:last-child{margin-bottom:0}.prechatForm__signinwith,.prechatForm__social{float:left}.prechatForm__social{margin-left:15px;margin-top:2px}.prechatForm__social i{cursor:pointer}.prechatForm__login{color:#666}.prechatForm__divide{position:relative;display:block;text-align:center;margin-top:10px;margin-bottom:25px}.prechatForm__divide::after,.prechatForm__divide::before{border-top:1px solid #ddd;width:41%;position:absolute;top:11px;content:''}.prechatForm__divide::before{left:0}.prechatForm__divide::after{right:0}.window--bubble .window__form.window__ssologin{padding:28px 30px 30px;margin-top:35px}.loading{display:block;background-size:50px}.icon-facebook{margin-right:10px;color:#39599c}.window--rtl .icon-facebook{margin-left:10px}.icon-googleplus{color:#ce3829}.window__formContainer--bubble{overflow:hidden;overflow-y:auto;padding-right:5px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin-top:35px}.window__form{overflow:auto;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;padding:27px 40px 0;overflow-x:hidden}.window__form--animation{-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window__form--animation{-webkit-animation:none;animation:none}.window--mobile .window__form{padding:27px 25px 30px}.window--bubble .window__form{margin-left:10px;padding:28px 30px;border:1px solid #ddd;border-radius:8px 8px 8px 0;width:auto;background-color:#fff;-ms-flex-negative:0;flex-shrink:0;position:relative;overflow:visible}.window--mobile .window--bubble .window__form{margin-bottom:10px}.withSideWin.window--mobile .window--bubble .window__form{margin-bottom:45px}.window--mobile .window--bubble .icon-bubble-content,.window--mobile .window--bubble .icon-bubble-line{left:10px}.window--bubble .window__form .icon-bubble-content,.window--bubble .window__form .icon-bubble-line{position:absolute}.window--bubble .window__form .icon-bubble-content{left:-9px}.window--bubble .window__form .icon-bubble-line{left:-10px}.window--bubble .icon-bubble-content::before{color:#fff}.window--bubble .window__form .icon-bubble-content .bubblecontent1{fill:#fff}.window--bubble .window__form .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .icon-bubble-line::before{color:#ddd}.window__formGreeting{color:#666;margin-bottom:25px;word-wrap:break-word;word-break:break-word}.window__formGreeting a{color:#666;border-bottom:1px solid rgba(102,102,102,.6)!important}.window__chat .window__formGreeting{text-align:center}.window__formError{color:#de3939;margin-bottom:26px}.form-fields .box-field{margin-bottom:15px}.form-fields .box-field input[type=file]{width:100%}.form-fields.form-fields--horizonal .box-field input[type=file]{width:calc(100% - 80px)}.form-fields--horizonal .box-field{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;position:relative}.form__inputContainer{position:relative;text-align:center}.fieldControl__Ticket{display:-webkit-box;display:-ms-flexbox;display:flex}.form-fields--horizonal .fieldControl__Ticket{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0;line-height:35px}.window--bubble .form-fields:not(.form-fields--horizonal) .fieldControl__Ticket .form__input--ie10{width:120px}.fieldControl__Ticket .form__inputContainer,.form-fields--horizonal .form__inputContainer,.form-fields--horizonal .multipleText,.form-fields--horizonal .select-box{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.form-fields .field-name{margin-bottom:7px;color:#666;word-wrap:break-word;word-break:break-word}.form-fields .field-control{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.form-fields.form-fields--horizonal .field-control,.form-fields.form-fields--horizonal .fieldControl__Ticket{-ms-flex-negative:1;flex-shrink:1}.form-fields--horizonal .field-name{margin-bottom:0;margin-right:10px;-ms-flex-preferred-size:80px;flex-basis:80px;-ms-flex-negative:0;flex-shrink:0}.form-fields--horizonal .form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0}.form-fields .field__requiredTag{margin-left:7px;color:#de3939}.form-fields .field__requiredMsg{background:rgba(222,57,57,.9);padding:4px 10px;color:#fff;position:relative;left:7px;font-size:.933333rem;border-radius:2px}.form-fields .field__requiredMsg::before{content:'';position:absolute;left:-9px;top:8px;width:0;height:0;border:5px solid transparent;border-right-color:rgba(222,57,57,.9)}.window--rtl .form-fields .field__requiredMsg{left:0}.window--rtl .form-fields .field__requiredMsg::before{left:auto;right:-9px;border-right-color:transparent;border-left-color:rgba(222,57,57,.9)}.form-fields--horizonal .field__requiredMsg{position:absolute;left:0;bottom:-28px;z-index:9;border-radius:2px}.form-fields--horizonal .field__requiredMsg::before{left:14px;top:-10px;border-right-color:transparent;border-bottom-color:rgba(222,57,57,.9)}.form__input{height:35px;width:100%}.form__textarea{height:auto}.form__submitContainer{position:relative;text-align:center;margin-top:30px;padding-bottom:30px}.form__submit{width:160px}.form__submitContainer--loading .form__submit{-webkit-animation-name:form__submit--loading;animation-name:form__submit--loading;-webkit-animation-duration:167ms;animation-duration:167ms}.form__layer-circle,.form__layer-success{position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);display:none}.form__submitContainer--loading .form__layer-circle,.form__submitContainer--loading .form__layer-success{display:block}.form__submitContainer--loading .form__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:100;fill:#fff;fill-opacity:0;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:form__submitCirclePath-dash;animation-name:form__submitCirclePath-dash;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:167ms;animation-delay:167ms}.window_botform{width:225px;padding:0!important;overflow:visible}.window--ie .window_botform{width:calc(100% - 4px)}.window--classic .window_botform{min-width:180px}.window--circle .window_botform{width:calc(96%);min-width:174px}.window--bubble .window_botform{margin-left:0;background-color:transparent;border:0}.window_botform .select-box .select[disabled]{color:#888;background-color:#f5f5f5;cursor:default}.window_botform .botform_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.botform__submitContainer{text-align:center;padding:10px 0 2px}.botform__submitContainer button{padding:5px 18px;border:1px solid #000001;border-radius:5px;color:#fff;margin:0 5px;cursor:pointer}.window--bubble .botform__submitContainer button,.window--circle .botform__submitContainer button{margin:0 4px;padding:5px 15px}.window--circle .botform__submitContainer button.btn-submit{background-color:#000004;border-color:#000004;color:#000001}.window--circle .botform__submitContainer button.btn-cancel{background-color:#000001;border-color:#000004;color:#000004}.window--bubble .botform__submitContainer button.btn-submit{background-color:#000004;border-color:#000004;color:#000001}.window--bubble .botform__submitContainer button.btn-cancel{background-color:#000001;border-color:#000004;color:#000004}.window--bubble .window_botform .botform_title,.window--bubble .window_botform .container-checkbox,.window--bubble .window_botform .control,.window--bubble .window_botform .form-fields .field-name,.window--circle .window_botform .botform_title,.window--circle .window_botform .container-checkbox,.window--circle .window_botform .control,.window--circle .window_botform .form-fields .field-name{color:#000004}.window--bubble .window_botform .input[readOnly],.window--circle .window_botform .input[readOnly]{border:1px solid #ddd}.botform__submitContainer button.btn-submit{background-color:#000001;color:#fff}.botform__submitContainer button.btn-cancel{background-color:#fff;color:#000001}.botform__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.botconfirm_list{min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window--bubble li p:first-child,.window--circle li p:first-child{color:#000004}@-webkit-keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}@keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.form__submitContainer--loading .form__submitSuccessPath{fill:#000001;stroke-width:1;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);opacity:0;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:form__submitSuccessPath-animation;animation-name:form__submitSuccessPath-animation;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-delay:542ms;animation-delay:542ms}@-webkit-keyframes form__submitSuccessPath-animation{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:1}}@keyframes form__submitSuccessPath-animation{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:0}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;opacity:1}}.window__chat{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;width:100%}.window__chat--animation{-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window__chat--animation{-webkit-animation:none;animation:none}.window__chatSystemMessage{color:#bbb;font-size:1rem;margin-bottom:17px;text-align:center;-webkit-animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);animation:message--show 458ms cubic-bezier(.785,.135,.15,.86)}.window__chatSystemMessage a,.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href],.window__chatSystemMessage a[href]:hover{color:#bbb;border-bottom:solid 1px rgba(187,187,187,.6)}.window__chatAgent,.window__chatVisitor{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:10px;-webkit-animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window--ie .window--bubble .window__chatSystemMessage,.window--ie .window__chatAgent,.window--ie .window__chatVisitor{-webkit-animation:none;animation:none}.window__chatVisitor{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{float:left;margin-right:10px}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;background:#f4f5f6}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.agentMessage__pciSubmit{background:url(images/pci.svg) left center no-repeat;background-size:53px 34px;height:53px;text-align:center}.agentMessage__pciSubmit .form__submit{width:70px;margin-top:10px}.agentMessage__pciSubmit .btn-grey{margin-left:7px}.window__chatAgentMessage p{margin:0}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:1rem;line-height:18px;padding:10px 15px;border-radius:4px;max-width:calc(100% - 45px);word-wrap:break-word;word-break:break-word}.window--circle .window__chatAgentMessage,.window--circle .window__chatVisitorMessage{max-width:calc(100% - 65px);padding:10px 15px}.window__chatMessageOrignal{display:block;opacity:.5}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img{margin-top:3px;display:block;max-width:100%;max-height:100%}.window--bubble .window__chatAgentMessage a,.window--circle .window__chatAgentMessage a{color:#000004;border-bottom:solid 1px #000007}.window--classic .window__chatAgentMessage a{color:#000005;border-bottom:solid 1px #000008}.window--classic .window__chatAgentMessage a:active,.window--classic .window__chatAgentMessage a:focus,.window--classic .window__chatAgentMessage a:hover{border-bottom:solid 1px #000008}.chat-message--img{overflow:hidden;max-width:200px;max-height:200px}.chat-message--img img{display:block;max-width:100%!important;max-height:100%!important}.window__chatVisitorMessage{float:right;background:#fff;color:#3c3c3c}.window__chatVisitorMessage a,.window__chatVisitorMessage a[href]:hover{color:#3c3c3c;border-bottom:solid 1px rgba(60,60,60,.6)}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage .icon-close{float:right;margin-left:9px;margin-top:4px}@-webkit-keyframes message--show{0%{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes message--show{0%{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.window__chatAgentName,.window__chatVisitorName{margin-bottom:5px;font-family:'SourceSans Pro Bold'}.window--classic .window__chat{padding:20px}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--classic .window__chatAgentMessage{float:left;max-width:calc(100% - 95px)}.window--classic .chat-message--img{padding:0}.window--circle .chat-message--sending::after,.window--classic .chat-message--sending::after{content:'';display:block;width:22px;height:22px;position:absolute;left:-32px;top:10px;background:url(images/loading.svg) left center no-repeat;background-size:100%}.window--classic .window__chatAgentMessage{background:#000002;color:#000005}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px}.window__chatAgentMessage--file .icon-sendfile{color:#000005}.window__chatVisitorMessage--file .icon-sendfile{color:#3c3c3c}.window--classic .window__chatAgentMessage::before{position:absolute;width:0;height:0;content:'';top:7px;border:4px solid transparent;border-right-color:#000002;left:-8px}.window--classic .window__chatVisitorMessage{float:right;border:1px solid #ddd;color:#3c3c3c}.window--classic .window__chatVisitorMessage::after,.window--classic .window__chatVisitorMessage::before{position:absolute;width:0;height:0;content:'';top:7px;border:4px solid transparent}.window--classic .window__chatVisitorMessage::before{border-left-color:#ccc;right:-9px}.window--classic .window__chatVisitorMessage::after{border-left-color:#fff;right:-8px}.window_chatError{position:absolute;z-index:99;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);padding:13px 38px 13px 15px;line-height:18px;border-radius:4px;box-shadow:0 0 5px rgba(0,0,0,.1)}.window--classic .window_chatError{bottom:90px;width:calc(100% - 40px)}.window--bubble .window_chatError,.window--circle .window_chatError{bottom:60px;width:100%;border-radius:20px}.window--bubble .window_chatError{border-radius:8px}.window_chatErrorClose{position:absolute;right:15px;top:50%;font-size:1.6rem;margin-top:-9px;cursor:pointer}.window_chatError--mitigate{background:#ffe8c4;border:1px solid #ffdeb0;color:#ee8835}.window_chatError--urgency{background:#ffebeb;border:1px solid #fdd;color:#de3939}.window--circle .window__chatAgentMessage{background:#000001;float:left;color:#000004;border-radius:20px}.window--circle .window__chatVisitorMessage{border:1px solid #ddd;border-radius:20px}.window--circle .agentMessage__avatar{position:relative;z-index:8}.window--circle .window__chatAgentMessage.chat-message--img{padding:15px}.window--circle .window__chatAgentMessage.window__chatMessageNoAvatar.chat-message--img{padding-left:15px}.window--circle .window__chat{padding:20px 15px}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--circle .window__chatMessageNoAvatar{margin-left:0;padding-left:15px;display:block;min-height:auto}.window--bubble .window__chatMessageNoAvatar{margin-left:50px}.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--bubble .window__chat>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.window--bubble .window__chatVisitor{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px}.window--bubble .window__chatAgentMessage{background:#000001;border:1px solid #000001;float:left;color:#000004;border-radius:8px 8px 8px 0;max-width:calc(100% - 100px)}.window--bubble .window__chatSystemMessage{display:-webkit-box;display:-ms-flexbox;display:flex;text-align:left;color:#3c3c3c;position:relative;left:50px;font-size:1rem;line-height:18px;margin-top:0;margin-bottom:10px;word-wrap:break-word;word-break:break-word;max-width:calc(100% - 100px)}.window--bubble .window__chatSystemMessage a{color:#3c3c3c}.window--bubble .window__chatSystemMessageContent{background:#f0f0f0;border:1px solid #ddd;padding:10px 15px;border-radius:8px 8px 8px 0}.window--ie .window--bubble .window__chatSystemMessageContent{width:100%}.window--bubble .icon-bubble-content,.window--bubble .icon-bubble-line{position:absolute;width:10px}.window--bubble .chat-message--img .icon-bubble-content,.window--bubble .chat-message--img .icon-bubble-line,.window--bubble .chat-message--img .icon-bubble-line-right{display:none}.window--bubble .icon-bubble-content .svgPath,.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .icon-bubble-line{bottom:-1px}.window--bubble .icon-bubble-content,.window--bubble .window__chatSystemMessage .icon-bubble-line{bottom:0}.window--bubble .window__chatAgentMessage .icon-bubble-content,.window--bubble .window__chatSystemMessage .icon-bubble-content{left:-9px}.window--bubble .window__chatAgentMessage .icon-bubble-line{left:-10px}.window--bubble .window__chatSystemMessage .icon-bubble-line{left:-9px}.window--bubble .window__chatVisitorMessage .icon-bubble-content{right:-9px}.window--bubble .window__chatVisitorMessage .icon-bubble-line{right:-10px}.window--bubble .window__chatVisitorMessage .icon-bubble-line-right{position:absolute;width:10px;right:-9px;bottom:-1px}.window--bubble .window__chatSystemMessage .icon-bubble-content::before{color:#f0f0f0}.window--bubble .window__chatSystemMessage .icon-bubble-content .bubblecontent1{fill:#f0f0f0}.window--bubble .window__chatSystemMessage .icon-bubble-line::before{color:#ddd}.window--bubble .window__chatSystemMessage .icon-bubble-line .bubbleline1{fill:#f0f0f0;stroke:#ddd;stroke-width:2px}.window--bubble .window__chatVisitorMessage .icon-bubble-line-right .bubblelineright1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .window__chatVisitorMessage .icon-bubble-line-right .bubblelineright0{fill:#fff}.window--bubble .window__chatAgentMessage .icon-bubble-content::before,.window--bubble .window__chatAgentMessage .icon-bubble-line::before{color:#000001}.window--bubble .window__chatAgentMessage .icon-bubble-line .bubbleline1{fill:#000001;stroke:#000001;stroke-width:1px}.window--bubble .window__chatVisitorMessage .icon-bubble-content,.window--bubble .window__chatVisitorMessage .icon-bubble-line{left:auto;-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.window--bubble .window__chatVisitorMessage .icon-bubble-content::before{color:#fff}.window--bubble .window__chatVisitorMessage .icon-bubble-line::before{color:#ddd}.window--bubble .window__chatVisitorMessage .icon-bubble-content .bubblecontent1{fill:#fff}.window--bubble .window__chatVisitorMessage .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .window__chatVisitorMessage{border:1px solid #ddd;border-radius:8px 8px 0;max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .agentMessage__avatar{position:relative;z-index:9;margin-right:5px;margin-bottom:2px}.window--bubble .agentMessage__avatarImg{width:45px;height:45px}.window--bubble .window__chatAgentMessage.chat-message--img,.window--bubble .window__chatVisitorMessage.chat-message--img{padding:0;border-radius:8px;background:0 0;border:none}.window--bubble .window__chat{padding:0 15px 10px 0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.window--bubble .window__chatAgentMessage--file{color:#000004}.chatMessage__questionList{margin-top:5px;padding-left:20px;list-style-type:decimal}.chatMessage__questionList a{color:#000}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc}.window__chatAgentMessage .btn{margin-top:5px;font-size:.866667rem;padding:2px 10px;max-width:180px;overflow:hidden;text-overflow:ellipsis}.window--bubble .window__chatAgentMessage .btn,.window--circle .window__chatAgentMessage .btn,.window--classic .window__chatAgentMessage .btn{border-bottom:none!important}.window--mobile .window__chatAgentMessage .btn{max-width:100%}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{float:left;margin-left:10px}.window--bubble .chatMessage__chatBotRate{-ms-flex-item-align:start;align-self:flex-start}.chatMessage__chatBotRate>div{width:20px;height:20px;border-radius:20px;background-color:#ddd;cursor:pointer;font-size:10px}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#fff}.chatMessage__chatBotRate>div:hover{background-color:#afafaf}.chatMessage__chatBotRate>div.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>div.chatMessage__chatBotRate--selected:hover{background-color:#888;cursor:default}.chatMessage__chatBotRate>div.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>div.chatMessage__chatBotRate--disabled:hover{background-color:#eee;cursor:default}.chatMessage__chatBotRate>div.chatMessage__chatBotRateLast{margin-top:5px}.chatMessage__chatBotRateSplitLine{margin:15px 0 10px;border-top:1px dashed #bbb;clear:both}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:30px;line-height:30px;text-align:center;padding-right:15px;padding-left:15px;cursor:pointer}.window__chatWithAgent:hover{opacity:.9}.window__chatWithAgent--above{position:absolute;top:-40px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border:1px solid #000002;background-color:#fff;color:#000;border-radius:2px;box-shadow:0 0 15px rgba(0,0,0,.1)}.window__chatWithAgent--bottom{position:absolute;bottom:0;left:15px;color:#000004;font-size:.866667rem;padding-left:24px}.window--bubble .window__chatWithAgent--bottom{left:0}.window__chatWithAgent--bottom .icon{font-size:.8rem;position:absolute;top:10px;left:0}.window--bubble .chatMessage__questionList a,.window--circle .chatMessage__questionList a{color:#000004;border-bottom-color:#000007}.window--classic .window__chatAgentMessage .btn{color:#000004}.window--bubble .window__chatAgentMessage .btn,.window--circle .window__chatAgentMessage .btn{color:#000001;background:#fff;border-radius:20px}.window--bubble .window__chatWithAgent--above,.window--circle .window__chatWithAgent--above{border-radius:4px}.window--bubble .window__chatWithAgent--bottom,.window--circle .window__chatWithAgent--bottom{color:#000001}.window--bubble .window__chatAgentMessage .btn{border-radius:8px}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005}.window--bubble .dot__element,.window--circle .dot__element{background:#000004}.window__chat .dot__element:last-child{margin-right:0}.amimated-infinite{-webkit-animation-iteration-count:infinite}@-webkit-keyframes dot__element--loadingAnimation{0%,100%,50%{-webkit-transform:translateY(0);transform:translateY(0)}25%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}}@keyframes dot__element--loadingAnimation{0%,100%,50%{-webkit-transform:translateY(0);transform:translateY(0)}25%{-webkit-transform:translateY(-8px);transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{-webkit-animation-name:dot__element--loadingAnimation;animation-name:dot__element--loadingAnimation;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:60px;height:60px;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.pciImageWrapper{width:53px;height:34px;background:url(images/pci.svg) center no-repeat;background-size:53px 34px;border:0;position:absolute;bottom:45px;left:20px}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-webkit-transform:translateY(450px);-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@-webkit-keyframes fadeInUp--windowFormContainer{0%{opacity:0;-webkit-transform:translateY(375px);transform:translateY(375px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;-webkit-transform:translateY(375px);transform:translateY(375px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.window__ssoLogin{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-overflow-scrolling:touch;overflow-y:scroll}.window__ssoLogin iframe{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.chatInputContainer{position:relative;z-index:99;-ms-flex-negative:0;flex-shrink:0;height:80px}.chatInputContainer--fadeInUp{-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .chatInputContainer--fadeInUp{-webkit-animation:none;animation:none}.window__chatInputControl{display:block;width:100%;height:100%;padding-top:0;padding-bottom:0;border:none;font-size:1rem;color:#000;outline:0}.chatInput--ripple{position:absolute;border-radius:50%;width:50px;height:50px;background:#ddd;-webkit-animation:chatInput--ripple 2s;animation:chatInput--ripple 2s}@-webkit-keyframes chatInput--ripple{from{-webkit-transform:scale(1);transform:scale(1);opacity:.4}to{-webkit-transform:scale(100);transform:scale(100);opacity:0}}@keyframes chatInput--ripple{from{-webkit-transform:scale(1);transform:scale(1);opacity:.4}to{-webkit-transform:scale(100);transform:scale(100);opacity:0}}.window__chatSender{position:absolute;bottom:14px;right:20px;width:40px;height:40px;border:1px solid #ddd;padding:7px;border-radius:100%;top:50%;margin-top:-20px}.window__chatSender--active{border-color:#000002}.window__chatSender--active:hover{box-shadow:0 0 10px rgba(0,0,0,.15);cursor:pointer}.window--mobile .window__chatSender--active{box-shadow:none}.window__chatSenderSVG{margin-top:2px}.window__chatSenderSVGPath{fill-rule:evenodd;clip-rule:evenodd;fill:#bbb}.window__chatSender--active .window__chatSenderSVGPath{fill:#000001}.window__chatSender .icon-input-send{color:#bbb;font-size:1.333333rem;margin-top:3px;margin-right:3px}.window__chatSender--active .icon-input-send{color:#000001}.window--classic .chatInputContainer{background:#fff;height:auto}.window--classic .chatInputContainer--active .window__chatInputControl,.window--classic .window__chatInputControl:focus{border-top-color:#000002;box-shadow:0 0 60px rgba(0,0,0,.08);transition:all 292ms cubic-bezier(.785,.135,.15,.86)}.window__chatInput--Drag::before{position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:rgba(250,245,205,.85);z-index:99;text-align:center;color:#d2b067;font-size:2.133333rem}.window--classic .chat-input__controlbox{border-top:1px solid #ddd;background:#fff}.window--classic .chatInputContainer--active .chat-input__controlbox{border-top-color:#000002}.window--classic .window__chatInputControl{border:none;background-color:transparent;padding:8px 75px 8px 10px;max-height:100px;min-height:70px;overflow-y:hidden;overflow-x:hidden;height:70px;line-height:inherit}.window--bubble .window__chatInputControl,.window--circle .window__chatInputControl{background-color:#fff;max-height:85px;line-height:21px;overflow-y:hidden;overflow-x:hidden}.window--circle .chatInputContainer{height:auto;margin-left:15px;margin-right:15px}.window--circle .window__chatInputControl{height:21px;border:none;padding:0}.window--circle .window__chatInput--Drag::before{border-radius:20px}.window--circle .chatInputContainer--active .chat-input__controlbox{border-color:#000001;box-shadow:0 0 30px rgba(0,0,0,.08);transition:all 292ms cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--circle .chatInputContainer--active .chat-input__controlbox{box-shadow:none}.window--mobile .window--circle .chatInputContainer--active .footer__operation{-webkit-transform:none;-ms-transform:none;transform:none}.window--circle .chat-input__controlbox{position:relative;border:1px solid #ddd;border-radius:20px;padding:9px 20px;background:#fff}.window--bubble .chatInputContainer--active .chat-input__controlbox,.window--circle .chatInputContainer--active .chat-input__controlbox{overflow-x:hidden}.window--bubble .chatInputContainer{height:auto}.window--bubble .window__chatInputControl{height:21px;border:none;padding:0}.footer,.footer-text-single-line{height:30px}.window--bubble.window-rtl .window__chatInputControl{overflow-x:hidden}.window--bubble .window__chatInput--Drag::before{border-radius:8px}.window--bubble .chat-input__controlbox{position:relative;border:1px solid #ddd;border-radius:8px;padding:9px 15px;background:#fff}.window--bubble .chatInputContainer--active .chat-input__controlbox{border-color:#000001;box-shadow:0 0 30px rgba(0,0,0,.08);transition:all 292ms cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .chatInputContainer--active .chat-input__controlbox{box-shadow:none}.window--bubble .chatInputContainer--typed .footer__operation,.window--circle .chatInputContainer--typed .footer__operation{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.window--bubble.window--rtl .chatInputContainer--typed .footer__operation,.window--circle.window--rtl .chatInputContainer--typed .footer__operation{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%)}.window--mobile .window--bubble .chatInputContainer--typed .footer__operation,.window--mobile .window--circle .chatInputContainer--typed .footer__operation{-webkit-transform:none;-ms-transform:none;transform:none}.window--bubble .chat-input__controlbox .bubble-box--show .bubble,.window--circle .chat-input__controlbox .bubble-box--show .bubble{position:fixed;bottom:74px;left:auto;right:35px;z-index:9}.window--bubble.window--embedded .chat-input__controlbox .bubble-box--show .bubble,.window--circle.window--embedded .chat-input__controlbox .bubble-box--show .bubble{bottom:80px}.window--bubble.window--rtl .chat-input__controlbox .bubble-box--show .bubble,.window--circle.window--rtl .chat-input__controlbox .bubble-box--show .bubble{left:40px}.window--bubble .chat-input__controlbox--disabled,.window--bubble .chat-input__controlbox--disabled .window__chatInputControl,.window--circle .chat-input__controlbox--disabled,.window--circle .chat-input__controlbox--disabled .window__chatInputControl{background:#ebebeb}.window--bubble .chat-input__controlbox--disabled,.window--circle .chat-input__controlbox--disabled{position:static}.footer{position:relative;-ms-flex-negative:0;flex-shrink:0;z-index:999;width:100%;line-height:30px;text-align:right;padding-left:15px;padding-right:15px;font-size:.8rem}.window--bubble .footer{padding-left:0;padding-right:0}.footer__svg{position:relative;line-height:1}.footer__svg--disabled{opacity:.5}.footer__svgPath{fill:#000004;width:16px;height:16px}.footer__svgRatePath1{fill:none;stroke:#000004;stroke-miterlimit:10}.footer__svgRatePath2{fill:none}.footer__svg:not(.footer__svg--disabled) svg:hover{cursor:pointer}.footer__svg--disabled svg:hover{cursor:default}.footer__svg:not(.footer__svg--disabled) svg:hover .footer__sendemail1,.footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathSendFile1,.footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVideo1,.footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice1,.footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgRatePath2{fill:rgba(255,255,255,.3)}.footer__svgPathSendFile1,.footer__svgPathVideo1{fill:none}.footer__svgPathSendFile2{fill:none;stroke:#000004;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.footer__print3,.footer__print4,.footer__svgPathVideo2{fill:#000004}.window--bubble .footer__svgPathVideo2,.window--circle .footer__svgPathVideo2{fill:#fff}.footer__print1,.footer__svgPathVideo3{fill:none;stroke:#000004;stroke-miterlimit:10}.footer__print0,.footer__print2,.footer__svgPathVoice1{fill:none}.footer__svgPathVoice2{fill:none;stroke:#000004;stroke-miterlimit:10}.footer__svgPathVoice3{fill:#a3a3a3}.window--classic .footer__svgPathVoice3{fill:#000004}.footer__sendemail1{fill:none}.footer__sendemail2{fill:none;stroke:#000004;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.window--classic .window__footer{color:#000004;background:#000001;-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .window--classic .window__footer{-webkit-animation:none;animation:none}.window--classic .footer__svg{float:left;margin-right:10px;margin-top:7px;width:16px;height:16px}.window--classic .footer__operation{height:30px;float:left;-webkit-animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) .4s both;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) .4s both}.window--ie .window--classic .footer__operation{-webkit-animation:none;animation:none}.window--bubble .footer,.window--circle .footer{color:rgba(0,0,0,.3)}.window--bubble .footer__print1,.window--bubble .footer__svgPathSendFile2,.window--bubble .footer__svgPathVideo3,.window--bubble .footer__svgPathVoice2,.window--bubble .footer__svgRatePath1,.window--circle .footer__print1,.window--circle .footer__svgPathSendFile2,.window--circle .footer__svgPathVideo3,.window--circle .footer__svgPathVoice2,.window--circle .footer__svgRatePath1{stroke:#a3a3a3}.window--bubble .footer__print0,.window--bubble .footer__print3,.window--bubble .footer__sendemail1,.window--circle .footer__print0,.window--circle .footer__print3,.window--circle .footer__sendemail1{fill:#a3a3a3}.window--bubble .footer__print1,.window--bubble .footer__print2,.window--bubble .footer__print4,.window--circle .footer__print1,.window--circle .footer__print2,.window--circle .footer__print4{fill:none}.window--bubble .footer__sendemail2,.window--bubble .footer__svgPathVoice3,.window--circle .footer__sendemail2,.window--circle .footer__svgPathVoice3{stroke:transparent}.window--bubble .footer__svgPathVideo1,.window--bubble .footer__svgPathVoice2,.window--bubble .footer__svgRatePath2,.window--circle .footer__svgPathVideo1,.window--circle .footer__svgPathVoice2,.window--circle .footer__svgRatePath2{fill:#a3a3a3}.window--bubble .footer__operation,.window--circle .footer__operation{position:absolute;right:0;top:12px;padding-right:10px;transition:-webkit-transform 292ms cubic-bezier(.785,.135,.15,.86);transition:transform 292ms cubic-bezier(.785,.135,.15,.86);transition:transform 292ms cubic-bezier(.785,.135,.15,.86),-webkit-transform 292ms cubic-bezier(.785,.135,.15,.86)}.window--bubble .footer__operation>ul,.window--circle .footer__operation>ul{background:#fff}.window--bubble .chat-input__controlbox--disabled .footer__operation>ul,.window--circle .chat-input__controlbox--disabled .footer__operation>ul{background:0 0}.window--bubble.window--rtl .footer__operation,.window--circle.window--rtl .footer__operation{right:auto;left:0;padding-right:0;padding-left:15px}.window--bubble .footer__svg,.window--circle .footer__svg{float:left;margin-right:10px;width:16px;height:16px}.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__print0,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__sendemail1,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVideo1,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice1,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice2,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice3,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgRatePath2,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__print0,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__sendemail1,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVideo1,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice1,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice2,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice3,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgRatePath2{fill:#828282}.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathSendFile2,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice2,.window--bubble .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgRatePath1,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathSendFile2,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgPathVoice2,.window--circle .footer__svg:not(.footer__svg--disabled) svg:hover .footer__svgRatePath1{stroke:#828282}.poweredby a{color:#000004;text-decoration:none}.window--circle .poweredby a{color:#bbb}.window--bubble .poweredby a{color:#979797}.invitation{position:fixed;z-index:2147483637;cursor:pointer;right:30px;bottom:125px;width:250px;border:1px solid #ddd;background:#fff}.invitation--bubble{border-radius:8px}.invitation--classic{border-radius:4px}.invitation--circle{border-radius:20px}.invitation__name{font-size:1rem;color:#000;font-weight:700;font-family:\"SourceSans Pro Bold\";padding:.947368rem 1.315789rem 0}.invitation__message{font-size:1rem;line-height:18px;padding:0 1.315789rem;margin-bottom:1.315789rem;color:#666;max-height:180px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:10;-webkit-box-orient:vertical}.invitation__close{position:absolute;top:2px;right:5px;font-size:1.333333rem;color:#333;line-height:1;cursor:pointer}.invitation__type{height:35px;line-height:35px;padding:0 25px;background:#f0f0f0;color:#bbb;font-size:.933333rem}.invitation::after,.invitation::before{content:'';position:absolute;width:0;height:0}.invitation::before{right:20px;bottom:-22px;border:11px solid transparent;border-top-color:#ddd}.invitation::after{right:22px;bottom:-18px;border:9px solid transparent;border-top-color:#f0f0f0}@-webkit-keyframes invitation-show{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-show{0%{-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}}.invitation-show{-webkit-animation-name:invitation-show;animation-name:invitation-show;-webkit-animation-duration:375ms;animation-duration:375ms}@-webkit-keyframes invitation-showType{0%{-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes invitation-showType{0%{-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}.invitation-showType{-webkit-animation-name:invitation-showType;animation-name:invitation-showType;-webkit-animation-duration:.25s;animation-duration:.25s;-webkit-animation-delay:125ms;animation-delay:125ms}@-webkit-keyframes invitation-showmessage{0%{opacity:0}100%{opacity:1}}@keyframes invitation-showmessage{0%{opacity:0}100%{opacity:1}}.invitation-showmessage{-webkit-animation-name:invitation-showmessage;animation-name:invitation-showmessage;-webkit-animation-duration:167ms;animation-duration:167ms;-webkit-animation-delay:292ms;animation-delay:292ms;white-space:pre-wrap;word-break:break-word}.article-title,.window--mobile .window--circle .chatInputContainer:not(.chatInputContainer--active) .window__chatInputControl{white-space:nowrap}.modal--classic{border-radius:4px}.modal--circle{border-radius:20px}.modal--bubble{border-radius:8px}.modal--mobile__mask{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.3)}.modal--mobile{position:absolute;left:50%;top:50%;background:#fff;box-shadow:0 5px 10px rgba(0,0,0,.2);width:300px;-webkit-animation:showinvitation .4s forwards cubic-bezier(.785,.135,.15,.86);animation:showinvitation .4s forwards cubic-bezier(.785,.135,.15,.86)}@-webkit-keyframes showinvitation{0%{-webkit-transform:scale(0) translate(-50%,-50%);transform:scale(0) translate(-50%,-50%);-webkit-transform-origin:0 0;transform-origin:0 0}100%{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);-webkit-transform-origin:0 0;transform-origin:0 0}}@keyframes showinvitation{0%{-webkit-transform:scale(0) translate(-50%,-50%);transform:scale(0) translate(-50%,-50%);-webkit-transform-origin:0 0;transform-origin:0 0}100%{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);-webkit-transform-origin:0 0;transform-origin:0 0}}.modal__invitation-title{color:#fff;background:#4f4f4f;height:30px;line-height:30px;padding-left:15px;padding-right:15px;font-size:.933333rem;border-top-left-radius:2px;border-top-right-radius:2px}.modal__invitation-message{font-size:21px;color:#000;text-align:center;padding:24px 30px;font-family:SourceSans Pro Bold,Arial}.modal__invitation-operation{text-align:center;padding:0 30px 30px}.modal__invitation-operation .btn{margin-left:10px}.modal__invitation-operation .btn:first-child{margin-left:0}.window--mobile{font-size:16px}.window--mobile .window--bubble .window__chatOperationPlus,.window--mobile .window--bubble .window__chatSender,.window--mobile .window--circle .window__chatOperationPlus,.window--mobile .window--circle .window__chatSender,.window--mobile .window--classic .window__chatOperationPlus{display:block}.window--mobile .chatInputContainer{overflow:initial;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px 0 5px 15px}.window--mobile .chatInputContainer--withplus{padding-left:0}.window--mobile .chat-time{display:block}.window--mobile .footer__operation{position:absolute;bottom:60px;left:4px;top:auto;right:auto;padding-right:0;background-color:#fff;border:1px solid #ddd;box-shadow:0 0 15px rgba(0,0,0,.2);-webkit-transform-origin:0 160px;-ms-transform-origin:0 160px;transform-origin:0 160px;padding-bottom:7px;padding-top:7px}.window--mobile .window--classic .footer__operation{height:auto;border-radius:4px;z-index:2147483000;-webkit-animation:none;animation:none}.window--mobile .footer__operation::after,.window--mobile .footer__operation::before{content:'';position:absolute;left:7px;width:0;height:0}.window--mobile .window--bubble .footer__operation--show,.window--mobile .window--circle .footer__operation--show,.window--mobile .window--classic .footer__operation--show{-webkit-animation:footer__operationScale 333ms cubic-bezier(.785,.135,.15,.86) both;animation:footer__operationScale 333ms cubic-bezier(.785,.135,.15,.86) both}@-webkit-keyframes footer__operationScale{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes footer__operationScale{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}.window--mobile .footer__operation::before{z-index:9;bottom:-14px;border:8px solid transparent;border-top-color:#fff}.window--mobile .footer__operation::after{z-index:8;bottom:-16px;border:8px solid transparent;border-top-color:#ddd}.window--mobile .footer__operation .footer__svg{float:none;display:block;height:30px;line-height:30px;width:auto;margin-top:0;margin-right:0;padding-left:10px;padding-right:20px;color:#000;font-size:15px}.window--ie9.window--classic .header__agentInfo,.window--ie9.window--classic .header__avatar{float:left}.window--circle .window__chatSenderSVGPath,.window--mobile .window__footer{display:none}.window--mobile .footer__operation .footer__svg .svg{float:left;margin-top:7px;margin-right:10px}.window--mobile .window--classic .footer__operation li:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.window--mobile .window--classic .footer__operation li:last-child{border-bottom-right-radius:4px}.window--mobile .window--circle .footer__operation li:first-child{border-top-left-radius:10px;border-top-right-radius:10px}.window--mobile .window--circle .footer__operation li:last-child{border-bottom-right-radius:10px}.window--mobile .window--bubble .footer__operation li:first-child{border-top-left-radius:8px;border-top-right-radius:8px}.window--mobile .window--bubble .footer__operation li:last-child{border-bottom-right-radius:8px}.footer__operation li:not(.footer__svg--disabled):focus,.window--mobile .footer__operation li:not(.footer__svg--disabled):active{background-color:#000002}.window--mobile{background-color:rgba(0,0,0,.15);-webkit-backface-visibility:hidden}.window--mobileHorizontal .window--embedded,.window--mobileVertical .window--embedded{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.window--mobileVertical .window--embedded.window--circle.window--bio{top:45px;height:calc(100% - 45px)}.window--mobileVertical .window--embedded.window--circle{height:100%}.window--mobile .window--classic .chatInputContainer{background:#000001}.window--mobile .chat-input__controlbox{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:7px 15px}.window--mobile .window--classic .chat-input__controlbox{padding:7px 10px;border-top:none;border-radius:4px}.window--mobile .window--classic .window__chatInputControl{padding:0;height:21px;line-height:21px;min-height:21px;box-shadow:none}.window--mobile .window__chatSender .icon-input-send{color:#000004;font-size:1.5625rem;margin-top:5px}.window--mobile .window__chatSender--active .icon-input-send{color:#000004}.window--mobile .window--bubble .window__chatSender .icon-input-send,.window--mobile .window--circle .window__chatSender .icon-input-send{color:#bbb}.window--mobile .window--bubble .window__chatSender--active .icon-input-send,.window--mobile .window--circle .window__chatSender--active .icon-input-send{color:#000001}.window--mobile .window__chatSender{position:static;margin-top:0;right:0;border:none;-webkit-transform:rotateY(180deg);transform:rotateY(180deg);bottom:5px;padding:0 5px;height:auto}.window--mobile .window__chatSenderSVGPath{fill:#000004}.window--mobile .footer__sendemail1,.window--mobile .footer__svgPathVideo1,.window--mobile .footer__svgPathVoice1,.window--mobile .footer__svgPathVoice2,.window--mobile .footer__svgPathVoice3,.window--mobile .footer__svgRatePath2,.window--mobile .window--classic .footer__svgPathVoice3{fill:#bbb!important}.window--mobile .footer__svgPathSendFile2,.window--mobile .footer__svgPathVideo3,.window--mobile .footer__svgPathVoice2,.window--mobile .footer__svgRatePath1{stroke:#bbb!important}.window--mobile .footer__sendemail2,.window--mobile .footer__svgPathVoice3{stroke:transparent!important}.window--mobile .footer__operation li:active .footer__svgPathSendFile2,.window--mobile .footer__operation li:active .footer__svgPathVideo3,.window--mobile .footer__operation li:active .footer__svgPathVoice2,.window--mobile .footer__operation li:active .footer__svgRatePath1{stroke:#000001!important}.window--mobile .footer__operation li:active .footer__sendemail1,.window--mobile .footer__operation li:active .footer__svgPathVideo1,.window--mobile .footer__operation li:active .footer__svgPathVoice1,.window--mobile .footer__operation li:active .footer__svgPathVoice2,.window--mobile .footer__operation li:active .footer__svgPathVoice3,.window--mobile .footer__operation li:active .footer__svgRatePath2{fill:#000001!important}.window--mobile .window__chatOperationPlusBox{-ms-flex-preferred-size:40px;flex-basis:40px}.window--mobile .window__chatOperationPlus{width:20px;height:20px;margin:0 auto}.window--mobile .window__chatOperationPlus .icon-plus{font-size:1.3125em;color:#fff}.article-summary,.article-title{font-size:14px;text-overflow:ellipsis;-webkit-text-size-adjust:100%}.window--mobile .window--classic .window__chatAgentMessage{max-width:calc(100% - 87px)}.window--mobileHorizontal .window--bubble.whole-window,.window--mobileVertical .window--bubble.whole-window{top:0;height:calc(100% - 0px)}.window--mobile .window--circle .main-container{height:100%}.window--mobile .window--circle .chatInputContainer{background:#fff;margin:0;border-top:1px solid #ddd}.window--mobile .window--circle .chat-input__controlbox{border-radius:20px}.window--mobile .window--circle .window__chatInputControl{padding:0;height:21px;line-height:21px;min-height:21px}.window--mobile .window--bubble .window__chatSenderSVGPath,.window--mobile .window--circle .window__chatSenderSVGPath{display:block;fill:#ddd}.window--mobile .window--circle .window__chatOperationPlus .icon-plus{color:#bbb!important}.window--mobile .window--bubble .window__chatOperationPlus .icon-plus[active=true],.window--mobile .window--circle .window__chatOperationPlus .icon-plus[active=true]{color:#000001!important}.window--mobile .window--circle .footer__operation{border-radius:10px;z-index:2147483000}.window--mobile .window--bubble .footer__operation>ul,.window--mobile .window--circle .footer__operation>ul{background:0 0}.window--mobile .window--bubble .chatInputContainer{background:#fff;border-top:1px solid #ddd}.window--mobile.window--ipad .window--bubble .chatInputContainer{border-top:none}.window--mobile .window--bubble .chat-input__controlbox{border-radius:8px;padding:7px 10px}.window--mobile .bubble-box--show .bubble::after,.window--mobile .bubble::before,.window--mobile .window__chatWithAgent--bottom{display:none}.window--mobile .window--bubble .window__chatOperationPlus .icon-plus{color:#bbb!important}.window--mobile .window--bubble .footer__operation{border-radius:8px;z-index:2147483000}.window--mobile .window--bubble.window--rtl .footer__operation{padding-left:0;left:15px}.window--mobile .window__chatSender--active .window__chatSenderSVGPath{fill:#000001}.window--mobile .window--classic .window__chatSender--active .window__chatSenderSVGPath{fill:#fff}.window--mobile .window_chatError{position:absolute;z-index:2147483000;width:calc(100% - 40px)}.window--mobileHorizontal .window--embedded.window--circle{top:40px;height:calc(100% - 40px)}.window--mobile .window--bubble .window__chat{-ms-flex-negative:1;flex-shrink:1;padding-left:10px;padding-right:16px}.window--mobile .bubble-box{position:fixed;background:rgba(0,0,0,.3);top:0;bottom:0;left:0;right:0;height:100%;width:100%;z-index:999}.window--mobile.window--ipad .bubble-box{top:30px;height:calc(100% - 30px)}.window--mobile.window--ipad .window--bubble .bubble-box,.window--mobile.window--ipad .window--circle .bubble-box{top:0;height:100%}.window--mobile .bubble-box--show .bubble{left:50%;top:50%;bottom:auto;-webkit-transform:scale(1) translate(-50%,-50%);-ms-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;-webkit-animation:showBubble--mobile 333ms cubic-bezier(.785,.135,.15,.86) both;animation:showBubble--mobile 333ms cubic-bezier(.785,.135,.15,.86) both}@-webkit-keyframes showBubble--mobile{0%{-webkit-transform:scale(0) translate(-50%,-50%);transform:scale(0) translate(-50%,-50%)}100%{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}}@keyframes showBubble--mobile{0%{-webkit-transform:scale(0) translate(-50%,-50%);transform:scale(0) translate(-50%,-50%)}100%{-webkit-transform:scale(1) translate(-50%,-50%);transform:scale(1) translate(-50%,-50%)}}.window--mobile+.chatButtonMask.chatButtonMask--top{width:100px}.window--mobile .window--bubble.whole-window .main-container{overflow:initial}.greeting-message__kb{margin-bottom:10px}.kbsearch-input__container{position:relative}.kbsearch-input{width:100%;height:35px}.kbsearch-input::-ms-clear{display:none}input::-webkit-search-cancel-button{display:none}.kbsearch-icon{display:inline-block;position:absolute;right:10px;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);cursor:pointer;width:30px;height:35px}.window--rtl .kbsearch-icon{left:10px;right:auto}.kbsearch-icon i{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%)}.kbsearch-window__chatWithAgent{position:fixed;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);bottom:50px}.window--bubble .kbsearch-window__chatWithAgent{bottom:50px}.window--bubble:not(.window--embedded) .kbsearch-window__chatWithAgent{position:absolute;bottom:30px}.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:20px}.window--ie .window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:80px}.window--ie .window--embeddend.window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:50px}.mobileSidewindow.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:55px}.kbsearch-window__form{position:relative;height:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.window__formContainer--bubble .kbsearch-window__form{height:auto}.article-list-container{margin-top:20px;margin-bottom:70px;position:relative}.article-item,.article-summary{margin-bottom:15px}.article-title{font-family:\"SourceSans Pro Bold\";color:#329fd9;overflow:hidden;cursor:pointer}.article-summary{font-family:\"SourceSans Pro\";color:#666;line-height:20px;max-height:40px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.article-cuttingline{border-top:1px dashed #ddd}.kb-highlight{background-color:#ffff1c}.window--bubble .window__form .icon-bubble-line__div{bottom:-1px;overflow:hidden;height:16px;position:absolute;width:10px;left:-10px}.window--bubble .window__form .icon-bubble-line__div .icon-bubble-line{left:0;bottom:0}.kbsearch-window__chatWithAgent .btn{width:135px;min-height:32px}.window--embedded.window--circle--sidewindow .kbsearch-window__chatWithAgent{left:calc(50% - 12.5px)}.window--mobile .window--embedded.window--circle--sidewindow .kbsearch-window__chatWithAgent{left:50%}.window--embedded.window--classic--sidewindow .kbsearch-window__chatWithAgent{left:calc(50% - 15px)}.window--mobile .window--embedded.window--classic--sidewindow .kbsearch-window__chatWithAgent{left:50%}.DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;user-select:none;padding-bottom:1rem;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.DayPicker-Months{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.window--bubble .DayPicker-Months,.window--circle .DayPicker-Months{color:#666}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:1rem .5rem 0}.DayPicker-NavButton{position:absolute;cursor:pointer;top:1rem;right:1.5rem;margin-top:2px;color:#8b9898;width:1.25rem;height:1.25rem;display:inline-block;background-size:50%;background-repeat:no-repeat;background-position:center}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{margin-right:1.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC)}.DayPicker-NavButton--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==)}.DayPicker-NavButton--interactionDisabled{display:none}.DayPicker-Caption{padding:0 .5rem;display:table-caption;text-align:left;margin-bottom:.5rem}.DayPicker-Caption>div{font-size:1.15rem;font-weight:500}.DayPicker-Weekdays{margin-top:1rem;display:table-header-group}body,html,ol,ul{margin:0}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:.5rem;font-size:.875em;text-align:center;color:#8b9898}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day,.DayPicker-WeekNumber{display:table-cell;padding:.5rem;vertical-align:middle;cursor:pointer}.DayPicker-Day{text-align:center;outline:0}.DayPicker-WeekNumber{text-align:right;min-width:1rem;font-size:.75em;color:#8b9898;border-right:1px solid #eaecec}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5rem}.DayPicker-TodayButton{border:none;background-image:none;background-color:transparent;box-shadow:none;cursor:pointer;color:#4a90e2;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;color:#666;background-color:#000001;border-radius:100%}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;border-radius:50%}.DayPickerInput{position:relative}.DayPickerInput .form__input[disabled]{color:#888}.DayPickerInput-OverlayWrapper{position:absolute;z-index:99;top:-265px;left:0;width:225px}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15)}@media all and (-webkit-min-device-pixel-ratio:0){::-webkit-scrollbar{height:8px;width:8px}.window__chat:hover::-webkit-scrollbar-thumb,.window__form:hover::-webkit-scrollbar-thumb,.window__formContainer:hover::-webkit-scrollbar-thumb,textarea:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.window__chat,.window__form{width:calc(100% - 4px)}.window--bubble .window__chat{padding-right:11px}.window--circle .window__chat,.window--classic .window__chat{padding-right:16px}.window__form{padding-right:36px}.window--bubble .window__form{padding-right:26px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:#fff}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}}::-webkit-input-placeholder{color:#bbb}::-moz-placeholder{color:#bbb}:-ms-input-placeholder{color:#bbb}*{box-sizing:border-box;-webkit-overflow-scrolling:touch}.window--bubble.whole-window .main-container,.window--classic.whole-window .main-container,body{overflow:hidden}::after,::before{box-sizing:border-box}html{font-size:15px;-webkit-text-size-adjust:100%}body{font-family:\"SourceSans Pro\",Arial;line-height:1.42857143}h1,h2,h3{font-weight:400;font-family:\"SourceSans Pro Bold\"}.clearfix::after{content:\"\";display:block;clear:both}.main-container,.window--bubble{display:-webkit-box;display:-ms-flexbox;-ms-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal}.clear{clear:both}a{color:#000001;cursor:pointer;text-decoration:none}a[href]:active,a[href]:focus,a[href]:hover{outline:0!important;border-bottom:1px solid #000007;text-decoration:none}input,textarea{font-family:inherit}ol,ul{list-style-type:none;padding:0}b,strong{font-family:SourceSans Pro Bold,Arial}textarea{resize:none}.animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.animated.infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animated.hinge{-webkit-animation-duration:2s;animation-duration:2s}.animated-delayFrames7{-webkit-animation-delay:292ms;animation-delay:292ms}.animated-delayFrames10{-webkit-animation-delay:417ms;animation-delay:417ms}.animated-delayFrames13{-webkit-animation-delay:542ms;animation-delay:542ms}.amimated-infinite{animation-iteration-count:infinite}.transform-origin-00{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes main-container--fadeOut{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}99%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(620px);transform:translateY(620px)}}@keyframes main-container--fadeOut{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}99%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(620px);transform:translateY(620px)}}@-webkit-keyframes main-container--fadeIn{0%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes main-container--fadeIn{0%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,50%,0);transform:translate3d(0,50%,0)}to{opacity:1;-webkit-transform:none;transform:none}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,50%,0);transform:translate3d(0,50%,0)}to{opacity:1;-webkit-transform:none;transform:none}}.fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}.fadeInUp--window__form{-webkit-animation-duration:292ms;animation-duration:292ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-delay:625ms;animation-delay:625ms}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{-webkit-animation-name:at-ripple;animation-name:at-ripple}@-webkit-keyframes yAxisWindow{100%{opacity:1}}@keyframes yAxisWindow{100%{opacity:1}}.window--minimized{-webkit-animation:window--minimized .5s forwards cubic-bezier(.785,.135,.15,.86);animation:window--minimized .5s forwards cubic-bezier(.785,.135,.15,.86)}@-webkit-keyframes window--minimized{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}99%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes window--minimized{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}99%{opacity:0;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}}.animation--chatting.window--animated .header{transition:height 416ms cubic-bezier(.785,.135,.15,.86) .4s}.animation--chatting .prechatHeader,.animation--waiting .prechatHeader{opacity:0;-webkit-transform:translateY(-140px);-ms-transform:translateY(-140px);transform:translateY(-140px);transition:all 416ms cubic-bezier(.785,.135,.15,.86) 1.792s}.window--minimized .chat{-webkit-animation:none;animation:none;opacity:0;transition:opacity 208ms cubic-bezier(.785,.135,.15,.86)}.window--minimized .chatInputContainer,.window--minimized .footer{-webkit-animation:fadeoutdown 167ms cubic-bezier(.785,.135,.15,.86) both;animation:fadeoutdown 167ms cubic-bezier(.785,.135,.15,.86) both}@-webkit-keyframes fadeoutdown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes fadeoutdown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%)}}@-webkit-keyframes animation-translateY-Up{0%{-webkit-transform:translateY(0);transform:translateY(0);overflow:hidden}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes animation-translateY-Up{0%{-webkit-transform:translateY(0);transform:translateY(0);overflow:hidden}100%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}.animation-translateY-Up{-webkit-animation-duration:458ms;animation-duration:458ms;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-timing-function:cubic-bezier(.785,.135,.15,.86);-webkit-animation-name:animation-translateY-Up;animation-name:animation-translateY-Up;-webkit-animation-delay:1.209s;animation-delay:1.209s}.whole-window{position:absolute;z-index:10;width:100%;height:100%;box-shadow:0 0 30px rgba(0,0,0,.15)}.window--bubble.whole-window .main-container{position:relative}.window--embedded{right:30px;bottom:0;width:calc(100% - 60px);height:calc(100% - 30px)}.window--circle--sidewindow,.window--classic--sidewindow{box-shadow:4px 0 20px rgba(0,0,0,.15)}.window--embedded.window--circle--sidewindow,.window--embedded.window--classic--sidewindow{width:calc(100% - 30px)}.window--ipad .window--embedded{right:0;width:100%}.window--ipad .window--bubble.window--embedded{bottom:0;height:100%}.window--bubble.window--embedded{height:100%}.window--bubble{display:flex;flex-direction:column;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.main-container{display:flex;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;background-repeat:no-repeat;background-position:center bottom;background-color:#fff;background-size:cover}.loading-circle{fill:#a3a3a3}#comm100-audio-chat-window{transition:width .25s cubic-bezier(.785,.135,.15,.86)}.window--classic,.window--classic .main-container{border-top-left-radius:4px;border-top-right-radius:4px}.window--bio.window--circle,.window--circle,.window--circle .main-container{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle{height:100%;top:0}.window--bio.window--circle{height:calc(100% - 45px);top:45px}.window--embedded.window--circle{height:calc(100% - 45px);top:auto}.window--circle.window-noavator{top:0;height:100%}.window--circle.window--embedded.window-noavator{top:unset;height:calc(25%)}.window--bubble{position:absolute;background:0 0;box-shadow:none}.window--bubble:not(.window--embedded){padding-left:15px;padding-right:15px}.window--mobile .window--bubble:not(.window--embedded){padding-left:0;padding-right:0}.window--rtl .container-checkbox,.window--rtl .control{padding-left:0;padding-right:20px}.window--bubble .main-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:0 0;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-negative:0;flex-shrink:0;position:static;bottom:0;height:auto}.window--bubble.window--rtl .window__chatSystemMessageContent,.window--rtl .knowlegedbase__content,.window--rtl .window__chatAgentMessage,.window--rtl .window__chatInputControl,.window--rtl .window__chatSystemMessage,.window--rtl .window__chatVisitorMessage,.window--rtl .window__form,.window--rtl .window__formContainer,.window--rtl .window__formGreeting,.window--rtl .window_chatError{direction:rtl}.window--bubble.window--rtl .window__chatSystemMessage{direction:ltr}.window--rtl .controlIndicator{right:0;left:auto}.window--rtl .container-checkbox i{right:0;left:auto}@media (-webkit-min-device-pixel-ratio:0){.window--rtl .window__chat,.window--rtl .window__form{width:calc(100% - 12px);margin-left:10px;padding-right:40px}}.window--ie9.window--circle .window__form,.window--ie9.window--classic .window__form{height:calc(100% - 156px);padding-bottom:30px}.window--ie9 .chat-time{margin-top:15px}.window--ie9 .window__chatAgentMessage,.window--ie9 .window__chatVisitorMessage{max-width:calc(100% - 105px)}.window--ie9.window--circle .window__chatAgentMessage,.window--ie9.window--circle .window__chatVisitorMessage{max-width:calc(100% - 70px)}.window--ie9.window--bubble .window__chatAgentMessage .btn{max-width:100%}.window--ie9.chat-time{padding-top:10px}.window--ie9 .chatInputContainer{position:absolute;bottom:30px;width:100%}.window--ie9.window--bubble .chatInputContainer{position:relative;bottom:0}.window--ie9.window--circle .chatInputContainer{width:calc(100% - 30px)}.window--ie9 .window__chat{position:absolute;right:0}.window--ie9.window--bubble .window__chat{position:static;bottom:90px}.window--ie9 .buttonProgressContainerSuccess .buttonProgressBtnAnimated{opacity:.65}.window--ie9 .buttonProgress__layerCircle,.window--ie9 .buttonProgress__layerLoading,.window--ie9 .buttonProgress__layerSuccess,.window--ie9 .lds-css{display:none!important}.window--ie9 .window__footer{position:absolute;bottom:0}.window--ie9.window--bubble .window__footer{position:static}.window--ie9 .multipleText{overflow:auto}.window--ie9.window--bubble .window__chatVisitorMessage .icon-bubble-content,.window--ie9.window--bubble .window__chatVisitorMessage .icon-bubble-line{display:none}.window--ie9.window--bubble .window__chatAgent{position:relative}.window--ie9.window--bubble .agentMessage__avatar{position:absolute;bottom:0}.window--ie9.window--bubble .window__chatAgentMessage{margin-left:50px}.window--ie9.window--bubble .window__chatSystemMessage{float:none}.window--ie9 .rating .star.animate{color:#ffd051}.window--ie9 .select-box .select{padding:5px 10px}.window--ie9 .form-fields .box-field iframe{height:30px}.window--ie9 .window__formContainer--bubble{overflow-y:auto!important}.window--ie9 .chatButton--maximizedAsChatting{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.window--ie9.window--classic .header__agent--withlogo{max-width:calc(100% - 170px)}.window--ie9.window--classic .header__logo{float:right}.window--ie9.window--classic .header__agentInfo{max-width:calc(100% - 60px)}.window--ie9.window--classic .window__header--withBio{height:136px}.window--ie9.window--classic .window__header--noBio{height:126px}.window--ie9.window--circle .window__header--noBio,.window--ie9.window--circle .window__header--withBio,.window--ie9.window--circle .window__headerBox{height:136px}.window--ie9.window--classic .window__chat--withBio{max-height:calc(100% - 236px)}.window--ie9.window--classic .window__chat--noBio{max-height:calc(100% - 226px)}.window--ie9.window--circle .window__chat--withBio{max-height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--noBio{max-height:calc(100% - 185px)}.window--ie9.window--bubble .main-container{overflow:auto;overflow-x:hidden}.window--ie9 .window_botform{width:calc(100% - 4px)}",Od='@font-face{font-family:icons;src:url({FONT_URL_PREFIX}/icons.eot?0251583d015a11c393c8d237d6d0088e?#iefix) format("embedded-opentype"),url({FONT_URL_PREFIX}/icons.woff?0251583d015a11c393c8d237d6d0088e) format("woff"),url({FONT_URL_PREFIX}/icons.ttf?0251583d015a11c393c8d237d6d0088e) format("truetype"),url({FONT_URL_PREFIX}/icons.svg?0251583d015a11c393c8d237d6d0088e#icons) format("svg")}.icon{font-family:icons!important;font-style:normal;font-weight:400!important;display:inline-block;vertical-align:baseline;text-align:center;text-transform:none;text-rendering:auto;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bot-active:before{content:"\\f101"}.icon-bot:before{content:"\\f102"}.icon-bubble-active:before{content:"\\f103"}.icon-bubble-content-copy:before{content:"\\f104"}.icon-bubble-content:before{content:"\\f105"}.icon-bubble-content1:before{content:"\\f106"}.icon-bubble-line-copy:before{content:"\\f107"}.icon-bubble-line:before{content:"\\f108"}.icon-bubble-line1:before{content:"\\f109"}.icon-bubble:before{content:"\\f10a"}.icon-close:before{content:"\\f10b"}.icon-coBrowsing-active:before{content:"\\f10c"}.icon-coBrowsing:before{content:"\\f10d"}.icon-drag:before{content:"\\f10e"}.icon-embedded:before{content:"\\f10f"}.icon-facebook:before{content:"\\f110"}.icon-googleplus:before{content:"\\f111"}.icon-helpful:before{content:"\\f112"}.icon-input-send:before{content:"\\f113"}.icon-kb-active:before{content:"\\f114"}.icon-kb-search:before{content:"\\f115"}.icon-kb:before{content:"\\f116"}.icon-kbSearch-active:before{content:"\\f117"}.icon-kbSearch:before{content:"\\f118"}.icon-media-active:before{content:"\\f119"}.icon-media:before{content:"\\f11a"}.icon-minimize:before{content:"\\f11b"}.icon-not-helpful:before{content:"\\f11c"}.icon-plus:before{content:"\\f11d"}.icon-popup:before{content:"\\f11e"}.icon-rating-full:before{content:"\\f11f"}.icon-rating-half:before{content:"\\f120"}.icon-sendfile:before{content:"\\f121"}.icon-video:before{content:"\\f122"}.icon-voice-active:before{content:"\\f123"}.icon-voice:before{content:"\\f124"}',Wd="chatbotHighConfidenceAnswer",Ed="chatbotSendGreetingMessage",Bd="name",Ld="email",Fd="comment",zd=1e4,Vd="waiting",Ud="invited",Hd="chatting",jd="chatted",Yd="classic",Gd="circle",qd="bubble",Zd=function(e){
return"window--"+e},Kd="prelogin",Qd="prechat",Jd="chat",Xd="postchat",$d="offline",el="kb",tl="done",nl=Math.pow(2,0),il=Math.pow(2,1),ol=Math.pow(2,2),rl=Math.pow(2,3),al=Math.pow(2,4),sl=Math.pow(2,5),cl="opening",dl="open",ll="restoring",ul="restored",pl="minimized",hl="minimizing",fl="close",ml=function(e){return e.app.isReady},bl=function(e){return"main"===e.app.server},wl=function(e){return e.app.isPoppedOut},gl=function(e){return e.app.banned},vl=function(e){return e.app.isActive},yl=function(e){return!e.app.isActive},_l=function(e){return e.app.isOpenerExists},xl=function(e){return e.app.server},kl=function(e,t){return/^https?:/.test(t)?t:null==e.configuration?t:null==t?null:[bl(e)?e.configuration.url:e.configuration.standbyUrl,t].join(/^\//.test(t)?"":"/")},Cl=function(e){return/^(https?:\/\/)?([^\/]*)/gi.exec(e)[2]},Sl=function(e,t){if(/^https?:/.test(t))return t;if(null==e.configuration)return t;var n=bl(e)?e.configuration.webrtcSignalingServiceUrl:e.configuration.standbyUrl;return[Cl(n),t].join(/^\//.test(t)?"":"/")},Al=function(e){return e.configuration.standbyUrl},Ml=function(e){return e.configuration.features.department},Tl=function(e){return e.configuration.heartbeat.online},Il=function(e){return e.configuration.heartbeat.offline},Pl=function(e){return e.configuration.heartbeat.stopAfter},Dl=function(e){return e.configuration.facebookAppId},Nl=function(e){return e.configuration.googlePlusAppId},Rl=function(e){return e.configuration.attachmentMaxSize},Ol=function(e){return e.configuration.attachmentMaxCount},Wl=function(e){return e.configuration.frequencyLimit},El=function(e){return e.configuration.messageLengthLimit},Bl=function(e){return e.configuration.isChinaIP},Ll=function(e){return e.configuration.features.removePoweredby},Fl=function(e){return e.configuration.kbAPIUrl},zl=function(e){return function(t){var n=t.configuration.features;return void 0===n[e]||n[e]}},Vl=zl("sendFile"),Ul=zl("heartbeat"),Hl=zl("autoInvitation"),jl=function(e){return!!e.configuration.features.hideAgentName&&e.configuration.features.hideAgentName},Yl=!0,Gl=!0,ql={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":as(e))+". Please use a boolean."):(Yl=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":as(e))+". Please use a boolean."):(Gl=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){"undefined"==typeof window||as(window)},deprecated:function(e,t){},extractVersion:function(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)},detectBrowser:function(e){var t=e&&e.navigator,n={};if(n.browser=null,n.version=null,void 0===e||!e.navigator)return n.browser="Not a browser.",n;if(t.mozGetUserMedia)n.browser="firefox",n.version=this.extractVersion(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)if(e.webkitRTCPeerConnection)n.browser="chrome",n.version=this.extractVersion(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!t.userAgent.match(/Version\/(\d+).(\d+)/))return n.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",n;n.browser="safari",n.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=this.extractVersion(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.mediaDevices||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=this.extractVersion(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}},Zl={log:ql.log,deprecated:ql.deprecated,disableLog:ql.disableLog,disableWarnings:ql.disableWarnings,extractVersion:ql.extractVersion,shimCreateObjectURL:ql.shimCreateObjectURL,detectBrowser:ql.detectBrowser.bind(ql)},Kl=Zl.log,Ql=function(e){var t=Zl.detectBrowser(e),n=e&&e.navigator,i=function(e){if("object"!==(void 0===e?"undefined":as(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===as(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var r={};"number"==typeof i.ideal?(r[o("min",n)]=i.ideal,t.optional.push(r),r={},r[o("max",n)]=i.ideal,t.optional.push(r)):(r[o("",n)]=i.ideal,t.optional.push(r))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=i.exact):["min","max"].forEach(function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=i[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===as(e.audio)){var r=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};e=JSON.parse(JSON.stringify(e)),r(e.audio,"autoGainControl","googAutoGainControl"),r(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"===as(e.video)){var a=e.video.facingMode;a=a&&("object"===(void 0===a?"undefined":as(a))?a:{ideal:a});var s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){delete e.video.facingMode;var c;if("environment"===a.exact||"environment"===a.ideal?c=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(c=["front"]),c)return n.mediaDevices.enumerateDevices().then(function(t){t=t.filter(function(e){return"videoinput"===e.kind});var n=t.find(function(e){return c.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!n&&t.length&&-1!==c.indexOf("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=a.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=i(e.video),Kl("chrome: "+JSON.stringify(e)),o(e)})}e.video=i(e.video)}return Kl("chrome: "+JSON.stringify(e)),o(e)},r=function(e){return{name:{PermissionDeniedError:"NotAllowedError",InvalidStateError:"NotReadableError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotReadableError",MediaDeviceKillSwitchOn:"NotReadableError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},a=function(e,t,i){o(e,function(e){n.webkitGetUserMedia(e,t,function(e){i&&i(r(e))})})};n.getUserMedia=a;var s=function(e){return new Promise(function(t,i){n.getUserMedia(e,t,i)})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:s,enumerateDevices:function(){return new Promise(function(t){var n={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:n[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),n.mediaDevices.getUserMedia){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return o(e,function(e){return c(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(r(e))})})}}else n.mediaDevices.getUserMedia=function(e){return s(e)};void 0===n.mediaDevices.addEventListener&&(n.mediaDevices.addEventListener=function(){Kl("Dummy mediaDevices.addEventListener called.")}),void 0===n.mediaDevices.removeEventListener&&(n.mediaDevices.removeEventListener=function(){Kl("Dummy mediaDevices.removeEventListener called.")})},Jl=Zl.log,Xl={shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(i){var o;o=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===i.track.id}):{track:i.track};var r=new Event("track");r.track=i.track,r.receiver=o,r.transceiver={receiver:o},r.streams=[t.stream],n.dispatchEvent(r)}),t.stream.getTracks().forEach(function(i){var o;o=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(e){return e.track&&e.track.id===i.id}):{track:i};var r=new Event("track");r.track=i,r.receiver=o,r.transceiver={receiver:o},r.streams=[t.stream],n.dispatchEvent(r)})},n.addEventListener("addstream",n._ontrackpoly)),t.apply(n,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){var o=this,r=n.apply(o,arguments);return r||(r=t(o,e),o._senders.push(r)),r};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;i.apply(t,arguments);var n=t._senders.indexOf(e);-1!==n&&t._senders.splice(n,1)}}var o=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;n._senders=n._senders||[],o.apply(n,[e]),e.getTracks().forEach(function(e){n._senders.push(t(n,e))})};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],r.apply(t,[e]),e.getTracks().forEach(function(e){var n=t._senders.find(function(t){return t.track===e});n&&t._senders.splice(t._senders.indexOf(n),1)})}}else if("object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSourceObject:function(e){var t=e&&e.URL;"object"===(void 0===e?"undefined":as(e))&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var n=this;if(this._srcObject=e,this.src&&t.revokeObjectURL(this.src),!e)return void(this.src="");this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){n.src&&t.revokeObjectURL(n.src),n.src=t.createObjectURL(e)})}}))},shimAddTrackRemoveTrack:function(e){function t(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],o=e._streams[i.id];n=n.replace(new RegExp(o.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}function n(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var i=e._reverseStreams[t],o=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),o.id)}),new RTCSessionDescription({type:t.type,sdp:n})}var i=Zl.detectBrowser(e);if(!(e.RTCPeerConnection.prototype.addTrack&&i.version>=64)){var o=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=o.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},t.getTracks().forEach(function(e){if(n.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!n._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());n._streams[t.id]=i,n._reverseStreams[i.id]=t,t=i}r.apply(n,[t])};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},a.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var o=[].slice.call(arguments,1);if(1!==o.length||!o[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(i.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");i._streams=i._streams||{},i._reverseStreams=i._reverseStreams||{};var r=i._streams[n.id];if(r)r.addTrack(t),Promise.resolve().then(function(){i.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);i._streams[n.id]=a,i._reverseStreams[a.id]=n,i.addStream(a)}return i.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(n){var i=e.RTCPeerConnection.prototype[n];e.RTCPeerConnection.prototype[n]=function(){var e=this,n=arguments;return arguments.length&&"function"==typeof arguments[0]?i.apply(e,[function(i){var o=t(e,i);n[0].apply(null,[o])},function(e){n[1]&&n[1].apply(null,e)},arguments[2]]):i.apply(e,arguments).then(function(n){return t(e,n)})}});var s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this;return arguments.length&&arguments[0].type?(arguments[0]=n(e,arguments[0]),s.apply(e,arguments)):s.apply(e,arguments)};var c=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=this,n=c.get.apply(this);return""===n.type?n:t(e,n)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===t.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==t)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");t._streams=t._streams||{};var n;Object.keys(t._streams).forEach(function(i){t._streams[i].getTracks().find(function(t){return e.track===t})&&(n=t._streams[i])}),n&&(1===n.getTracks().length?t.removeStream(t._reverseStreams[n.id]):n.removeTrack(e.track),t.dispatchEvent(new Event("negotiationneeded")))}}},shimPeerConnection:function(e){var t=Zl.detectBrowser(e);if(e.RTCPeerConnection){var n=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var r=e.iceServers[o];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(Zl.deprecated("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,i.push(r)):i.push(e.iceServers[o])}e.iceServers=i}return new n(e,t)},e.RTCPeerConnection.prototype=n.prototype,Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return n.generateCertificate}})}else e.RTCPeerConnection=function(t,n){return Jl("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,n)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}});var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,n){var o=this,r=arguments;if(arguments.length>0&&"function"==typeof e)return i.apply(this,arguments);if(0===i.length&&(0===arguments.length||"function"!=typeof arguments[0]))return i.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var c=function(e){r[1](s(a(e)))};return i.apply(this,[c,arguments[0]])}return new Promise(function(e,t){i.apply(o,[function(t){e(s(a(t)))},t])}).then(t,n)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,i=new Promise(function(i,o){n.apply(t,[e[0],i,o])});return e.length<2?i:i.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===as(arguments[0])){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,o){n.apply(e,[i,o,t])})}return n.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},$l={shimMediaStream:Xl.shimMediaStream,shimOnTrack:Xl.shimOnTrack,shimAddTrackRemoveTrack:Xl.shimAddTrackRemoveTrack,shimGetSendersWithDtmf:Xl.shimGetSendersWithDtmf,shimSourceObject:Xl.shimSourceObject,shimPeerConnection:Xl.shimPeerConnection,shimGetUserMedia:Ql},eu=e(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},t.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},t.matchPrefix=function(e,n){return t.splitLines(e).filter(function(e){return 0===e.indexOf(n)})},t.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:n[t[i]]=t[i+1]}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),e.ufrag&&(t.push("ufrag"),t.push(e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},t.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},i=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<i.length;o++)t=i[o].trim().split("="),n[t[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){i.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substr(t+1,i-t-1),n.value=e.substr(i+1)):n.attribute=e.substr(t+1),n},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.getIceParameters=function(e,n){var i=t.splitLines(e);return i=i.concat(t.splitLines(n)),{usernameFragment:i.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:i.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e),o=i[0].split(" "),r=3;r<o.length;r++){var a=o[r],s=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(s){var c=t.parseRtpMap(s),d=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(c.parameters=d.length?t.parseFmtp(d[0]):{},c.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach(function(e){n.headerExtensions.push(t.parseExtmap(e))}),n},t.writeRtpDescription=function(e,n){var i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(function(e){i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)});var o=0;return n.codecs.forEach(function(e){e.maxptime>o&&(o=e.maxptime)}),o>0&&(i+="a=maxptime:"+o+"\r\n"),i+="a=rtcp-mux\r\n",n.headerExtensions.forEach(function(e){i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){var n,i=[],o=t.parseRtpParameters(e),r=-1!==o.fecMechanisms.indexOf("RED"),a=-1!==o.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,d=t.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});d.length>0&&d[0].length>1&&d[0][0]===c&&(n=d[0][1]),o.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{ssrc:n}};i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:n,mechanism:a?"red+ulpfec":"red"},i.push(t))}}),0===i.length&&c&&i.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?950*parseInt(l[0].substr(5),10)-16e3:void 0,i.forEach(function(e){e.maxBitrate=l})),i},t.parseRtcpParameters=function(e){var n={},i=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var o=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=0===o.length;var r=t.matchPrefix(e,"a=rtcp-mux");return n.mux=r.length>0,n},t.parseMsid=function(e){var n,i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};var o=t.matchPrefix(e,"a=ssrc:").map(function(e){return t.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return o.length>0?(n=o[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n){var i=void 0!==n?n:2;return"v=0\r\no=thisisadapterortc "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,i,o){var r=t.writeRtpDescription(e.kind,n);if(r+=t.writeIceParameters(e.iceGatherer.getLocalParameters()),r+=t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===i?"actpass":"active"),r+="a=mid:"+e.mid+"\r\n",e.direction?r+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?r+="a=sendrecv\r\n":e.rtpSender?r+="a=sendonly\r\n":e.rtpReceiver?r+="a=recvonly\r\n":r+="a=inactive\r\n",e.rtpSender){var a="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n";r+="a="+a,r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,r+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return r+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(r+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),r},t.getDirection=function(e,n){for(var i=t.splitLines(e),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e),i=n[0].split(" ");return{kind:i[0].substr(2),port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.exports=t}),tu=function(e,t){var n=function(n){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onicegatheringstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this.localDescription=null,this.remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy){var r=new Error("rtcpMuxPolicy 'negotiate' is not supported");throw r.name="NotSupportedError",r}switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=W(n.iceServers||[],t),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers=new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy});else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=eu.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0};return n.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),"function"==typeof this.onicegatheringstatechange&&this.onicegatheringstatechange(e)},n.prototype.getConfiguration=function(){return this._config},n.prototype.getLocalStreams=function(){return this.localStreams},n.prototype.getRemoteStreams=function(){return this.remoteStreams},n.prototype._createTransceiver=function(e){var t=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&t)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return this.transceivers.push(n),n},n.prototype.addTrack=function(t,n){for(var i,o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(i=this.transceivers[o]);return i||(i=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),i.track=t,i.stream=n,i.rtpSender=new e.RTCRtpSender(t,i.dtlsTransport),i.rtpSender},n.prototype.addStream=function(e){var n=this;if(t>=15025)e.getTracks().forEach(function(t){n.addTrack(t,e)});else{var i=e.clone();e.getTracks().forEach(function(e,t){var n=i.getTracks()[t];e.addEventListener("enabled",function(e){n.enabled=e.enabled})}),i.getTracks().forEach(function(e){n.addTrack(e,i)})}},n.prototype.removeTrack=function(t){if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(e){return e.rtpSender===t});if(!n){var i=new Error("Sender was not created by this connection.");throw i.name="InvalidAccessError",i}var o=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(o)&&this.localStreams.indexOf(o)>-1&&this.localStreams.splice(this.localStreams.indexOf(o),1),this._maybeFireNegotiationNeeded()},n.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var n=t.getSenders().find(function(t){
return t.track===e});n&&t.removeTrack(n)})},n.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},n.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},n.prototype._createIceGatherer=function(t,n){var i=this;if(n&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var o=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(o,"state",{value:"new",writable:!0}),this.transceivers[t].candidates=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;o.state=n?"completed":"gathering",null!==i.transceivers[t].candidates&&i.transceivers[t].candidates.push(e.candidate)},o.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),o},n.prototype._gather=function(t,n){var i=this,o=this.transceivers[n].iceGatherer;if(!o.onlocalcandidate){var r=this.transceivers[n].candidates;this.transceivers[n].candidates=null,o.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&n>0)){var r=new Event("icecandidate");r.candidate={sdpMid:t,sdpMLineIndex:n};var a=e.candidate,s=!a||0===Object.keys(a).length;s?"new"!==o.state&&"gathering"!==o.state||(o.state="completed"):("new"===o.state&&(o.state="gathering"),a.component=1,r.candidate.candidate=eu.writeCandidate(a));var c=eu.splitSections(i.localDescription.sdp);c[r.candidate.sdpMLineIndex+1]+=s?"a=end-of-candidates\r\n":"a="+r.candidate.candidate+"\r\n",i.localDescription.sdp=c.join("");var d=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||(i.dispatchEvent(r),"function"==typeof i.onicecandidate&&i.onicecandidate(r)),d&&(i.dispatchEvent(new Event("icecandidate")),"function"==typeof i.onicecandidate&&i.onicecandidate(new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){r.forEach(function(e){var t=new Event("RTCIceGatherEvent");t.candidate=e,o.onlocalcandidate(t)})},0)}},n.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null);n.onicestatechange=function(){t._updateConnectionState()};var i=new e.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){t._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},n.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var n=this.transceivers[e].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[e].iceTransport);var i=this.transceivers[e].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[e].dtlsTransport)},n.prototype._transceive=function(e,n,i){var o=E(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(o.encodings=e.sendEncodingParameters,o.rtcp={cname:eu.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(o.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(o)),i&&e.rtpReceiver&&o.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),o.encodings=e.recvEncodingParameters,o.rtcp={cname:e.rtcpParameters.cname,compound:e.rtcpParameters.compound},e.sendEncodingParameters.length&&(o.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(o))},n.prototype.setLocalDescription=function(e){var t=this,n=arguments;if(!B("setLocalDescription",e.type,this.signalingState))return new Promise(function(i,o){var r=new Error("Can not set local "+e.type+" in state "+t.signalingState);r.name="InvalidStateError",n.length>2&&"function"==typeof n[2]&&n[2].apply(null,[r]),o(r)});var i,o;if("offer"===e.type)i=eu.splitSections(e.sdp),o=i.shift(),i.forEach(function(e,n){var i=eu.parseRtpParameters(e);t.transceivers[n].localCapabilities=i}),this.transceivers.forEach(function(e,n){t._gather(e.mid,n)});else if("answer"===e.type){i=eu.splitSections(t.remoteDescription.sdp),o=i.shift();var r=eu.matchPrefix(o,"a=ice-lite").length>0;i.forEach(function(e,n){var i=t.transceivers[n],a=i.iceGatherer,s=i.iceTransport,c=i.dtlsTransport,d=i.localCapabilities,l=i.remoteCapabilities;if(!(eu.isRejected(e)&&1===!eu.matchPrefix(e,"a=bundle-only").length||i.isDatachannel)){var u=eu.getIceParameters(e,o),p=eu.getDtlsParameters(e,o);r&&(p.role="server"),t.usingBundle&&0!==n||(t._gather(i.mid,n),"new"===s.state&&s.start(a,u,r?"controlling":"controlled"),"new"===c.state&&c.start(p));var h=E(d,l);t._transceive(i,h.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(e){a&&a.apply(null),e()})},n.prototype.setRemoteDescription=function(n){var i=this,o=arguments;if(!B("setRemoteDescription",n.type,this.signalingState))return new Promise(function(e,t){var r=new Error("Can not set remote "+n.type+" in state "+i.signalingState);r.name="InvalidStateError",o.length>2&&"function"==typeof o[2]&&o[2].apply(null,[r]),t(r)});var r={};this.remoteStreams.forEach(function(e){r[e.id]=e});var a=[],s=eu.splitSections(n.sdp),c=s.shift(),d=eu.matchPrefix(c,"a=ice-lite").length>0,l=eu.matchPrefix(c,"a=group:BUNDLE ").length>0;this.usingBundle=l;var u=eu.matchPrefix(c,"a=ice-options:")[0];switch(this.canTrickleIceCandidates=!!u&&u.substr(14).split(" ").indexOf("trickle")>=0,s.forEach(function(o,s){var u=eu.splitLines(o),p=eu.getKind(o),h=eu.isRejected(o)&&1===!eu.matchPrefix(o,"a=bundle-only").length,f=u[0].substr(2).split(" ")[2],m=eu.getDirection(o,c),b=eu.parseMsid(o),w=eu.getMid(o)||eu.generateIdentifier();if("application"===p&&"DTLS/SCTP"===f)return void(i.transceivers[s]={mid:w,isDatachannel:!0});var g,v,y,_,x,k,C,S,A,M,T,I=eu.parseRtpParameters(o);h||(M=eu.getIceParameters(o,c),T=eu.getDtlsParameters(o,c),T.role="client"),C=eu.parseRtpEncodingParameters(o);var P=eu.parseRtcpParameters(o),D=eu.matchPrefix(o,"a=end-of-candidates",c).length>0,N=eu.matchPrefix(o,"a=candidate:").map(function(e){return eu.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===n.type||"answer"===n.type)&&!h&&l&&s>0&&i.transceivers[s]&&(i._disposeIceAndDtlsTransports(s),i.transceivers[s].iceGatherer=i.transceivers[0].iceGatherer,i.transceivers[s].iceTransport=i.transceivers[0].iceTransport,i.transceivers[s].dtlsTransport=i.transceivers[0].dtlsTransport,i.transceivers[s].rtpSender&&i.transceivers[s].rtpSender.setTransport(i.transceivers[0].dtlsTransport),i.transceivers[s].rtpReceiver&&i.transceivers[s].rtpReceiver.setTransport(i.transceivers[0].dtlsTransport)),"offer"!==n.type||h)"answer"!==n.type||h||(g=i.transceivers[s],v=g.iceGatherer,y=g.iceTransport,_=g.dtlsTransport,x=g.rtpReceiver,k=g.sendEncodingParameters,S=g.localCapabilities,i.transceivers[s].recvEncodingParameters=C,i.transceivers[s].remoteCapabilities=I,i.transceivers[s].rtcpParameters=P,N.length&&"new"===y.state&&(!d&&!D||l&&0!==s?N.forEach(function(e){L(g.iceTransport,e)}):y.setRemoteCandidates(N)),l&&0!==s||("new"===y.state&&y.start(v,M,"controlling"),"new"===_.state&&_.start(T)),i._transceive(g,"sendrecv"===m||"recvonly"===m,"sendrecv"===m||"sendonly"===m),!x||"sendrecv"!==m&&"sendonly"!==m?delete g.rtpReceiver:(A=x.track,b?(r[b.stream]||(r[b.stream]=new e.MediaStream),F(A,r[b.stream]),a.push([A,x,r[b.stream]])):(r.default||(r.default=new e.MediaStream),F(A,r.default),a.push([A,x,r.default]))));else{g=i.transceivers[s]||i._createTransceiver(p),g.mid=w,g.iceGatherer||(g.iceGatherer=i._createIceGatherer(s,l)),N.length&&"new"===g.iceTransport.state&&(!D||l&&0!==s?N.forEach(function(e){L(g.iceTransport,e)}):g.iceTransport.setRemoteCandidates(N)),S=e.RTCRtpReceiver.getCapabilities(p),t<15019&&(S.codecs=S.codecs.filter(function(e){return"rtx"!==e.name})),k=g.sendEncodingParameters||[{ssrc:1001*(2*s+2)}];var R=!1;if("sendrecv"===m||"sendonly"===m){if(R=!g.rtpReceiver,x=g.rtpReceiver||new e.RTCRtpReceiver(g.dtlsTransport,p),R){var O;A=x.track,b?(r[b.stream]||(r[b.stream]=new e.MediaStream,Object.defineProperty(r[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(A,"id",{get:function(){return b.track}}),O=r[b.stream]):(r.default||(r.default=new e.MediaStream),O=r.default),F(A,O),a.push([A,x,O]),g.associatedRemoteMediaStreams.push(O)}}else g.rtpReceiver&&g.rtpReceiver.track&&(g.associatedRemoteMediaStreams.forEach(function(e){var t=e.getTracks().find(function(e){return e.id===g.rtpReceiver.track.id});t&&z(t,e)}),g.associatedRemoteMediaStreams=[]);g.localCapabilities=S,g.remoteCapabilities=I,g.rtpReceiver=x,g.rtcpParameters=P,g.sendEncodingParameters=k,g.recvEncodingParameters=C,i._transceive(i.transceivers[s],!1,R)}}),void 0===this._dtlsRole&&(this._dtlsRole="offer"===n.type?"active":"passive"),this.remoteDescription={type:n.type,sdp:n.sdp},n.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+n.type+'"')}return Object.keys(r).forEach(function(t){var n=r[t];if(n.getTracks().length){if(-1===i.remoteStreams.indexOf(n)){i.remoteStreams.push(n);var o=new Event("addstream");o.stream=n,e.setTimeout(function(){i.dispatchEvent(o),"function"==typeof i.onaddstream&&i.onaddstream(o)})}a.forEach(function(t){var o=t[0],r=t[1];if(n.id===t[2].id){var a=new Event("track");a.track=o,a.receiver=r,a.transceiver={receiver:r},a.streams=[n],e.setTimeout(function(){i.dispatchEvent(a),"function"==typeof i.ontrack&&i.ontrack(a)})}})}}),e.setTimeout(function(){i&&i.transceivers&&i.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&e.iceTransport.addRemoteCandidate({})})},4e3),new Promise(function(e){o.length>1&&"function"==typeof o[1]&&o[1].apply(null),e()})},n.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},n.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),"function"==typeof this.onsignalingstatechange&&this.onsignalingstatechange(t)},n.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(!1!==t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t.dispatchEvent(e),"function"==typeof t.onnegotiationneeded&&t.onnegotiationneeded(e)}},0))},n.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),"function"==typeof this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},n.prototype.createOffer=function(){var n,i=this,o=arguments;1===arguments.length&&"function"!=typeof arguments[0]?n=arguments[0]:3===arguments.length&&(n=arguments[2]);var r=this.transceivers.filter(function(e){return"audio"===e.kind}).length,a=this.transceivers.filter(function(e){return"video"===e.kind}).length;if(n){if(n.mandatory||n.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==n.offerToReceiveAudio&&(r=!0===n.offerToReceiveAudio?1:!1===n.offerToReceiveAudio?0:n.offerToReceiveAudio),void 0!==n.offerToReceiveVideo&&(a=!0===n.offerToReceiveVideo?1:!1===n.offerToReceiveVideo?0:n.offerToReceiveVideo)}for(this.transceivers.forEach(function(e){"audio"===e.kind?--r<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});r>0||a>0;)r>0&&(this._createTransceiver("audio"),r--),a>0&&(this._createTransceiver("video"),a--);var s=eu.writeSessionBoilerplate(this._sdpSessionId,this._sdpSessionVersion++);this.transceivers.forEach(function(n,o){var r=n.track,a=n.kind,s=eu.generateIdentifier();n.mid=s,n.iceGatherer||(n.iceGatherer=i._createIceGatherer(o,i.usingBundle));var c=e.RTCRtpSender.getCapabilities(a);t<15019&&(c.codecs=c.codecs.filter(function(e){return"rtx"!==e.name})),c.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1")});var d=n.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];r&&t>=15019&&"video"===a&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),n.wantReceive&&(n.rtpReceiver=new e.RTCRtpReceiver(n.dtlsTransport,a)),n.localCapabilities=c,n.sendEncodingParameters=d}),"max-compat"!==this._config.bundlePolicy&&(s+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",this.transceivers.forEach(function(e,t){s+=O(e,e.localCapabilities,"offer",e.stream,i._dtlsRole),s+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===i.iceGatheringState||0!==t&&i.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,s+="a="+eu.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))});var c=new e.RTCSessionDescription({type:"offer",sdp:s});return new Promise(function(e){if(o.length>0&&"function"==typeof o[0])return o[0].apply(null,[c]),void e();e(c)})},n.prototype.createAnswer=function(){var n=this,i=arguments,o=eu.writeSessionBoilerplate(this._sdpSessionId,this._sdpSessionVersion++);this.usingBundle&&(o+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n");var r=eu.splitSections(this.remoteDescription.sdp).length-1;this.transceivers.forEach(function(e,i){if(!(i+1>r)){if(e.isDatachannel)return void(o+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+e.mid+"\r\n");if(e.stream){var a;"audio"===e.kind?a=e.stream.getAudioTracks()[0]:"video"===e.kind&&(a=e.stream.getVideoTracks()[0]),a&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1})}var s=E(e.localCapabilities,e.remoteCapabilities);!s.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,o+=O(e,s,"answer",e.stream,n._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(o+="a=rtcp-rsize\r\n")}});var a=new e.RTCSessionDescription({type:"answer",sdp:o});return new Promise(function(e){if(i.length>0&&"function"==typeof i[0])return i[0].apply(null,[a]),void e();e(a)})},n.prototype.addIceCandidate=function(e){var t,n;if(e&&""!==e.candidate){if(void 0===e.sdpMLineIndex&&!e.sdpMid)throw new TypeError("sdpMLineIndex or sdpMid required");if(this.remoteDescription){var i=e.sdpMLineIndex;if(e.sdpMid)for(var o=0;o<this.transceivers.length;o++)if(this.transceivers[o].mid===e.sdpMid){i=o;break}var r=this.transceivers[i];if(r){if(r.isDatachannel)return Promise.resolve();var a=Object.keys(e.candidate).length>0?eu.parseCandidate(e.candidate):{};if("tcp"===a.protocol&&(0===a.port||9===a.port))return Promise.resolve();if(a.component&&1!==a.component)return Promise.resolve();if((0===i||i>0&&r.iceTransport!==this.transceivers[0].iceTransport)&&(L(r.iceTransport,a)||(t=new Error("Can not add ICE candidate"),t.name="OperationError")),!t){var s=e.candidate.trim();0===s.indexOf("a=")&&(s=s.substr(2)),n=eu.splitSections(this.remoteDescription.sdp),n[i+1]+="a="+(a.type?s:"end-of-candidates")+"\r\n",this.remoteDescription.sdp=n.join("")}}else t=new Error("Can not add ICE candidate"),t.name="OperationError"}else t=new Error("Can not add ICE candidate without a remote description"),t.name="InvalidStateError"}else for(var c=0;c<this.transceivers.length&&(this.transceivers[c].isDatachannel||(this.transceivers[c].iceTransport.addRemoteCandidate({}),n=eu.splitSections(this.remoteDescription.sdp),n[c+1]+="a=end-of-candidates\r\n",this.remoteDescription.sdp=n.join(""),!this.usingBundle));c++);var d=arguments;return new Promise(function(e,n){t?(d.length>2&&"function"==typeof d[2]&&d[2].apply(null,[t]),n(t)):(d.length>1&&"function"==typeof d[1]&&d[1].apply(null),e())})},n.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],n=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};return new Promise(function(i){var o=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=n(e[t]),o.set(t,e[t])})}),t&&t.apply(null,o),i(o)})})},n},nu=function(e){var t=e&&e.navigator,n=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},i=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e).catch(function(e){return Promise.reject(n(e))})}},iu={shimGetUserMedia:nu,shimPeerConnection:function(e){var t=Zl.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){n.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCPeerConnection=tu(e,t.version)},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}},ou=Zl.log,ru=function(e){var t=Zl.detectBrowser(e),n=e&&e.navigator,i=e&&e.MediaStreamTrack,o=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},r=function(e,i,r){var a=function(e){if("object"!==(void 0===e?"undefined":as(e))||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i=e[n]="object"===as(e[n])?e[n]:{ideal:e[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.exact||t.push(n),void 0!==i.exact&&("number"==typeof i.exact?i.min=i.max=i.exact:e[n]=i.exact,delete i.exact),void 0!==i.ideal){e.advanced=e.advanced||[];var o={};"number"==typeof i.ideal?o[n]={min:i.ideal,max:i.ideal}:o[n]=i.ideal,e.advanced.push(o),delete i.ideal,Object.keys(i).length||delete e[n]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(ou("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),ou("ff37: "+JSON.stringify(e))),n.mozGetUserMedia(e,i,function(e){r(o(e))})},a=function(e){return new Promise(function(t,n){r(e,t,n)})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:a,addEventListener:function(){},removeEventListener:function(){}}),n.mediaDevices.enumerateDevices=n.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var s=n.mediaDevices.enumerateDevices.bind(n.mediaDevices);n.mediaDevices.enumerateDevices=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return c(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(o(e))})}}if(!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var d=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},l=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":as(e))&&"object"===as(e.audio)&&(e=JSON.parse(JSON.stringify(e)),d(e.audio,"autoGainControl","mozAutoGainControl"),d(e.audio,"noiseSuppression","mozNoiseSuppression")),l(e)},i&&i.prototype.getSettings){var u=i.prototype.getSettings;i.prototype.getSettings=function(){var e=u.apply(this,arguments);return d(e,"mozAutoGainControl","autoGainControl"),d(e,"mozNoiseSuppression","noiseSuppression"),e}}if(i&&i.prototype.applyConstraints){var p=i.prototype.applyConstraints;i.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":as(e))&&(e=JSON.parse(JSON.stringify(e)),d(e,"autoGainControl","mozAutoGainControl"),d(e,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[e])}}}n.getUserMedia=function(e,i,o){if(t.version<44)return r(e,i,o);Zl.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(i,o)}},au={shimOnTrack:function(e){"object"!==(void 0===e?"undefined":as(e))||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.transceiver={receiver:n.receiver},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}}),"object"===(void 0===e?"undefined":as(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"===(void 0===e?"undefined":as(e))&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=Zl.detectBrowser(e);if("object"===(void 0===e?"undefined":as(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(n,i){if(t.version<38&&n&&n.iceServers){for(var o=[],r=0;r<n.iceServers.length;r++){var a=n.iceServers[r];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var c={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(c.username=a.username,c.credential=a.credential),o.push(c)}else o.push(n.iceServers[r])}n.iceServers=o}return new e.mozRTCPeerConnection(n,i)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var n=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,n,a){return r.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=i(e)),t.version<53&&!n)try{e.forEach(function(e){e.type=o[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,n){e.set(n,Object.assign({},t,{type:o[t.type]||t.type}))})}return e}).then(n,a)}}},shimRemoveStream:function(e){"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;Zl.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&-1!==e.getTracks().indexOf(n.track)&&t.removeTrack(n)})})}},su={shimOnTrack:au.shimOnTrack,shimSourceObject:au.shimSourceObject,shimPeerConnection:au.shimPeerConnection,shimRemoveStream:au.shimRemoveStream,shimGetUserMedia:ru},cu={shimLocalStreamsAPI:function(e){if("object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(n){n.id===e&&(t=n)}),this._remoteStreams&&this._remoteStreams.forEach(function(n){n.id===e&&(t=n)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var n=this;e.getTracks().forEach(function(i){t.call(n,i,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,n){n&&(this._localStreams?-1===this._localStreams.indexOf(n)&&this._localStreams.push(n):this._localStreams=[n]),t.call(this,e,n)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var n=this,i=e.getTracks();this.getSenders().forEach(function(e){-1!==i.indexOf(e.track)&&n.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){"object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),"onaddstream"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){var t=e.streams[0];if(this._remoteStreams||(this._remoteStreams=[]),!(this._remoteStreams.indexOf(t)>=0)){this._remoteStreams.push(t);var n=new Event("addstream");n.stream=e.streams[0],this.dispatchEvent(n)}}.bind(this))}}))},shimCallbacksAPI:function(e){if("object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,o=t.setLocalDescription,r=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var i=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[i]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],o=i.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o};var s=function(e,t,n){var i=o.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i};t.setLocalDescription=s,s=function(e,t,n){var i=r.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.setRemoteDescription=s,s=function(e,t,n){var i=a.apply(this,[e]);return n?(i.then(t,n),Promise.resolve()):i},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var r=e.iceServers[o];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(Zl.deprecated("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,i.push(r)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"===(void 0===e?"undefined":as(e))&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var n=this;if(e){var i=n.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveAudio||i||n.addTransceiver("audio");var o=n.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&o?"sendrecv"===o.direction?o.setDirection("sendonly"):"recvonly"===o.direction&&o.setDirection("inactive"):!0!==e.offerToReceiveVideo||o||n.addTransceiver("video")}return t.apply(n,arguments)}}},du={shimCallbacksAPI:cu.shimCallbacksAPI,shimLocalStreamsAPI:cu.shimLocalStreamsAPI,shimRemoteStreamsAPI:cu.shimRemoteStreamsAPI,shimGetUserMedia:cu.shimGetUserMedia,shimRTCIceServerUrls:cu.shimRTCIceServerUrls,shimTrackEventTransceiver:cu.shimTrackEventTransceiver,shimCreateOfferLegacy:cu.shimCreateOfferLegacy},lu={shimRTCIceCandidate:function(e){if(!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){
"object"===(void 0===e?"undefined":as(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&(e=JSON.parse(JSON.stringify(e)),e.candidate=e.candidate.substr(2));var n=new t(e),i=eu.parseCandidate(e.candidate),o=Object.assign(n,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o},V(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"===(void 0===e?"undefined":as(e))&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var n=t.createObjectURL.bind(t),i=t.revokeObjectURL.bind(t),o=new Map,r=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++r;return o.set(t,e),Zl.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return n(e)},t.revokeObjectURL=function(e){i(e),o.delete(e)};var a=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return a.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,a.set.apply(this,[e])}});var s=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),s.apply(this,arguments)}}}},uu=(function(e,t){var n=e&&e.window,i={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);var r=Zl.log,a=Zl.detectBrowser(n),s={browserDetails:a,extractVersion:Zl.extractVersion,disableLog:Zl.disableLog,disableWarnings:Zl.disableWarnings},c=$l||null,d=iu||null,l=su||null,u=du||null,p=lu||null;switch(a.browser){case"chrome":if(!c||!c.shimPeerConnection||!i.shimChrome)return r("Chrome shim is not included in this adapter release."),s;r("adapter.js shimming chrome."),s.browserShim=c,p.shimCreateObjectURL(n),c.shimGetUserMedia(n),c.shimMediaStream(n),c.shimSourceObject(n),c.shimPeerConnection(n),c.shimOnTrack(n),c.shimAddTrackRemoveTrack(n),c.shimGetSendersWithDtmf(n),p.shimRTCIceCandidate(n);break;case"firefox":if(!l||!l.shimPeerConnection||!i.shimFirefox)return r("Firefox shim is not included in this adapter release."),s;r("adapter.js shimming firefox."),s.browserShim=l,p.shimCreateObjectURL(n),l.shimGetUserMedia(n),l.shimSourceObject(n),l.shimPeerConnection(n),l.shimOnTrack(n),l.shimRemoveStream(n),p.shimRTCIceCandidate(n);break;case"edge":if(!d||!d.shimPeerConnection||!i.shimEdge)return r("MS edge shim is not included in this adapter release."),s;r("adapter.js shimming edge."),s.browserShim=d,p.shimCreateObjectURL(n),d.shimGetUserMedia(n),d.shimPeerConnection(n),d.shimReplaceTrack(n);break;case"safari":if(!u||!i.shimSafari)return r("Safari shim is not included in this adapter release."),s;r("adapter.js shimming safari."),s.browserShim=u,p.shimCreateObjectURL(n),u.shimRTCIceServerUrls(n),u.shimCallbacksAPI(n),u.shimLocalStreamsAPI(n),u.shimRemoteStreamsAPI(n),u.shimTrackEventTransceiver(n),u.shimGetUserMedia(n),u.shimCreateOfferLegacy(n),p.shimRTCIceCandidate(n);break;default:r("Unsupported browser!")}}({window:is.window}),window.navigator),pu=window.RTCPeerConnection,hu=window.RTCSessionDescription,fu=window.RTCIceCandidate;window!==window.parent&&(uu.mediaDevices&&window.parent.navigator.mediaDevices&&(window.parent.navigator.mediaDevices.getUserMedia=uu.mediaDevices.getUserMedia,window.parent.navigator.mediaDevices.enumerateDevices=uu.mediaDevices.enumerateDevices),window.parent.RTCPeerConnection=window.RTCPeerConnection,window.parent.RTCSessionDescription=window.RTCSessionDescription,window.parent.RTCIceCandidate=window.RTCIceCandidate,window.parent.MediaStream=window.MediaStream,window.parent.MediaStreamTrack=window.MediaStreamTrack,uu=window.parent.navigator,pu=window.parent.RTCPeerConnection,hu=window.parent.RTCSessionDescription,fu=window.parent.RTCIceCandidate);var mu,bu,wu,gu=uu.mediaDevices&&uu.mediaDevices.getUserMedia,vu=Kc.indexOf("edge")>=0,yu=!!window.RTCPeerConnection&&!!gu&&!vu,_u={batchAction:"batchAction",uploadFileAction:"uploadFileAction",getConfig:"getConfig",setCustomVariables:"setCustomVariables",newVisitor:"newVisitor",pageVisit:"pageVisit",getChatButton:"getChatButton",getIfOnline:"getIfOnline",checkIfOnline:"checkIfOnline",checkAutoInvitation:"checkAutoInvitation",confirmAutoInvitation:"confirmAutoInvitation",acceptAutoInvitation:"acceptAutoInvitation",refuseAutoInvitation:"refuseAutoInvitation",checkManualInvitation:"checkManualInvitation",refuseManualInvitation:"refuseManualInvitation",manualInvitationShowed:"manualInvitationShowed",submitSSOInfo:"submitSSOInfo",submitPrechat:"submitPrechat",socialLogin:"socialLogin",requestChat:"requestChat",sendChatMessages:"sendChatMessages",getChatMessages:"getChatMessages",getChatQueue:"getChatQueue",setVisitorStatus:"setVisitorStatus",submitRating:"submitRating",emailTranscript:"emailTranscript",sendFile:"sendFile",endChat:"endChat",submitPostChat:"submitPostChat",submitOfflineMessage:"submitOfflineMessage",chatBotAnswerHelpful:"chatBotAnswerHelpful",chatBotSelectQuestion:"chatBotSelectQuestion",prechatHeartbeat:"prechatHeartbeat",offlineMessageHeartbeat:"offlineMessageHeartbeat",enterOfflineMessage:"enterOfflineMessage",checkManuallyInvited:"checkManuallyInvited",closeWindow:"closeWindow",getDepartments:"getDepartments",getAgents:"getAgents",checkBan:"checkBan",systemProcessingHeartbeat:"systemProcessingHeartbeat",restoreChat:"restoreChat",checkBBSCode:"checkBBSCode",checkDynamicCampaign:"checkDynamicCampaign",getDynamicCampaign:"getDynamicCampaign",pageHeartbeat:"pageHeartbeat",getChatWindowConfig:"getChatWindowConfig",getCustomVariables:"getCustomVariables",visitorHandleBotForm:"visitorHandleBotForm"},xu=function(e,t){return{type:_u.uploadFileAction,action:e,file:t}},ku=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],i=arguments[3],o=arguments[4],r=arguments[5],a=arguments[6],s=arguments[7],c=s.firstVisitTime,d=s.visitTimes;return{type:_u.newVisitor,campaignId:e,visitorId:t||0,referrer:n,landingPage:i,timezone:o,screenResolution:r,ifSupportWebrtc:a,firstVisitTime:c||(new Date).getTime(),visitTimes:d||0}},Cu=function(e,t){return{type:_u.pageVisit,campaignId:e,page:t}},Su=function(){return{type:_u.getConfig}},Au=function(e,t){return{type:_u.setCustomVariables,customVariables:e,campaignId:t}},Mu=function(e){return{type:_u.getIfOnline,campaignId:e}},Tu=function(e){return{type:_u.checkIfOnline,campaignId:e}},Iu=function(e){return{type:_u.checkAutoInvitation,campaignId:e}},Pu=function(e,t){return{type:_u.confirmAutoInvitation,campaignId:e,invitationId:t}},Du=function(e){return{type:_u.checkManualInvitation,campaignId:e}},Nu=function(e,t,n){return{type:t?_u.refuseManualInvitation:_u.refuseAutoInvitation,campaignId:e,invitationId:t?void 0:n}},Ru=function(e){return{type:_u.manualInvitationShowed,invitationId:e}},Ou=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:_u.getChatButton,campaignId:e,alreadyCampaignId:t}},Wu=function(e,t){return{type:_u.submitSSOInfo,info:e,campaignId:t}},Eu=function(e,t){return{type:_u.submitPrechat,form:e,campaignId:t}},Bu=function(){return{type:_u.prechatHeartbeat}},Lu=function(){return{type:_u.offlineMessageHeartbeat}},Fu=function(){return{type:_u.enterOfflineMessage}},zu=function(e){return{type:_u.checkManuallyInvited,chatGuid:e}},Vu=function(e,t,n){var i=t.attachment,o={type:_u.submitOfflineMessage,campaignId:e,form:cs({},t,{attachment:void 0}),source:n};return i?xu(o,i):o},Uu=function(e){return xu({type:_u.sendFile,formId:e.formId},e)},Hu=function(e,t,n){return{type:_u.submitPostChat,chatId:e,form:t,campaignId:n}},ju=function(e,t){return{type:_u.submitRating,chatId:e,rating:t}},Yu=function(e){return{type:_u.emailTranscript,email:e}},Gu=function(e){return{type:_u.socialLogin,socialType:e.source,name:e.name,email:e.email,avatar:e.avatar,profileUrl:e.profile}},qu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3],o=arguments[4];return{type:_u.requestChat,campaignId:e,source:t,isPrechatDone:n,isSupportWebrtc:yu,ticketId:i,departmentId:o}},Zu=function(){return{type:_u.closeWindow}},Ku=function(e){return{type:_u.endChat,chatGuid:e}},Qu=function(e,t){return{type:_u.getChatMessages,chatGuid:e,fromId:t}},Ju=function(e){return{type:_u.getChatQueue,chatGuid:e}},Xu=function(e,t){return{type:_u.sendChatMessages,chatGuid:e,messages:t}},$u=function(e,t,n){return{type:_u.chatBotAnswerHelpful,ifHelpful:e,actionGuid:t,intentId:n}},ep=function(e){return{type:_u.chatBotSelectQuestion,question:e}},tp=function(e){return{type:_u.chatBotSelectQuestion,question:{questionId:e.questionId,questionName:e.questionName},senderType:e.senderType,senderId:e.senderId,clickType:e.clickType}},np=function(e){return cs({type:_u.visitorHandleBotForm},e)},ip=function(e){return cs({type:_u.visitorHandleBotForm},e)},op=function(e){return cs({type:_u.visitorHandleBotForm},e)},rp=function(){return{type:_u.getDepartments}},ap=function(){return{type:_u.getAgents}},sp=function(e){var t=e.filter(function(e){return!!e});return 0===t.length?null:1===t.length?t[0]:{type:_u.batchAction,actions:t}},cp=function e(t,n){null!=n&&(n.type===_u.batchAction?n.actions?n.actions.forEach(function(n){return e(t,n)}):n.payload&&n.payload.forEach(function(n){return e(t,n)}):t(n))},dp=function(e,t){var n=null;return cp(function(e){e.type===t&&(n=e)},e),n},lp=function e(t,n){if(null==n)return null;var i=t(n);if(i.type===_u.batchAction){if(i.actions)return{type:i.type,actions:i.actions.map(function(n){return e(t,n)})};if(i.payload)return{type:i.type,payload:i.payload.map(function(n){return e(t,n)})}}return i},up=function(e){return{type:_u.checkBan,visitorId:e}},pp=function(){return{type:_u.systemProcessingHeartbeat}},hp=function(){return{type:_u.restoreChat}},fp=function(){return{type:_u.checkBBSCode}},mp=function(){return{type:_u.checkDynamicCampaign}},bp=function(){return{type:_u.getDynamicCampaign}},wp=function(){return{type:_u.pageHeartbeat}},gp=function(){return{type:_u.getChatWindowConfig}},vp=function(){return{type:_u.getCustomVariables}},yp=function(e){return e.page.campaignId},_p=function(e){return e.window?e.window.id:e.page.campaignId},xp=function(e){return e.page.chatGroup},kp=function(e){return e.page.buttons},Cp=function(e){return e.page.siteId},Sp=function(e){return e.page.windowStatus},Ap=function(e){return Object.keys(e.page.buttons)},Mp=function(e){return e.page.visitor.guid},Tp=function(e){return e.page&&{title:e.page.title,url:e.page.url}},Ip=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.page.requestChatAction?cs({},e.page.requestChatAction,{campaignId:t}):qu(t,{type:"button",page:Tp(e)})},Pp=function(e){var t=Ip(e);return t&&t.source},Dp=function(e){return(Pp(e)||{}).type},Np=function(e){return(Pp(e)||{}).invitationId},Rp=function(e,t){return e.page.buttons[t]},Op=function(e){return"mobile"===e.page.platform||"ipad"===e.page.platform},Wp=function(e){return"ipad"===e.page.platform},Ep=function(e){return Object.keys(e.page.buttons).map(function(t){var n=e.entities.buttons.entities[t];if(!n)return null;var i=Cp(e);return cs({},n,{chatWindowLink:kl(e,hb(i,t))})}).filter(function(e){return e})},Bp=function(e,t){return e.isHideOffline&&!t[e.id]},Lp=function(e){return e!==fl&&e!==cl},Fp=function(e,t){var n=e.type;return("float"===n||"adaptive"===n)&&Lp(t)},zp=Yc(1)(function(e,t,n){return e.filter(function(e){return!Bp(e,t)&&!Fp(e,n)})}),Vp=function(e){return Ep(e).filter(function(e){return!e.isHidden})},Up=function(e){var t=Vp(e),n=kp(e),i=Sp(e);return zp(t,n,i)},Hp=function(e){return e.page.skipPreChat},jp=function(e){return e.page.height},Yp=function(e){return e.page.width},Gp=function(e){return e.page.orientation},qp=function(e){return e.page.isDynamicCampaign},Zp=function(e){var t=Xc(e,"page.url");return t?bd(t):""},Kp=function(e){return Xc(e,"window")},Qp=function(e,t){return function(n){var i=Kp(n);return i?e(i,n):t}},Jp=Qp(function(e){return e.chatStatus},"none"),Xp=function(e){var t=e.window;return t.tab!==Jd&&t.tab!==Xd?null:t.chatStatus!==Hd&&t.chatStatus!==Ud&&t.chatStatus!==jd?null:t.isChatBot?null:0===t.involvedAgents.length?null:e.entities.agents.entities[t.involvedAgents[0]]},$p=function(e){var t=e.window;return t.tab===Jd||t.isChatBot&&t.tab===Xd?t.chatStatus!==Hd&&t.chatStatus!==Vd&&t.chatStatus!==jd?null:t.isChatBot?e.window.chatBot||{}:null:null},eh=function(e){var t=$p(e);return t?t.agentButton:""},th=Qp(function(e,t){if(!t.entities)return!1;if(!t.entities.campaigns)return!1;var n=t.entities.campaigns;return n.fetchStatus[e.id]===tl&&!!n.entities[e.id]},!1),nh=function(e){return Xc(e,"window.tab")},ih=Qp(function(e){return e.sideWindowItems},[]),oh=function(e){return Xc(e,"window.id")},rh=Qp(function(e,t){return t.entities.campaigns.entities[t.window.id]},null),ah=function(e){return e.entities.campaigns.entities[e.window.id].mainColor},sh=function(e){var t=e.entities.campaigns.entities[e.window.id].chat.texture;return t?"url("+t+")":null},ch=Qp(function(e){return e.ssoUrl},""),dh=Qp(function(e){return e.showPrelogin},!1),lh=Qp(function(e){return e.isChatBot},!1),uh=function(e){var t=Xc(e,"window");return!!t&&(t.isChatBot&&t.chatStatus===Hd&&!t.chatWithAgentClicked)},ph=function(e){return e.window.chatBot},hh=Yc(1)(function(e,t,n,i,o){return function(r){var a=t.entities[n],s=ph(o);if("agent"===r.sender.type){var c=e.entities[r.sender.id];return cs({},r,{sender:c||{name:a.languages.operatorDefaultName}})}if("chatbotRequestQuestionGuid"===r.type||"chatbot"===r.sender.type)return cs({},r,{sender:{name:s?s.name:"",avatar:s?s.avatar:""}});if("visitorRequestChat"===r.type)return cs({},r,{queuePosition:i.position,estimatedWaitTime:i.waitTime});if("agentJoinChat"===r.type||"agentEndChat"===r.type||"agentTransferChat"===r.type){var d=e.entities[r.sender.id];return cs({},r,{sender:d||{name:a.languages.operatorDefaultName}})}return r}}),fh=function(e){return function(t){return"creditCardMasked"!==t.type&&"pendingAccept"!==t.type&&"pendingAudioRequesting"!==t.type&&"pendingHangup"!==t.type&&"pendingVideoRequesting"!==t.type&&"pendingSubmitSecureForm"!==t.type&&"pendingCancelSecureForm"!==t.type&&"pendingGetSecureFormFailure"!==t.type&&"visitorTyping"!==t.type&&"pendingVisitorIsTyping"!==t.type&&(("systemPromoteOfflineMesage"!==t.type||e===Vd)&&(!!t.content&&("string"==typeof t.content?t.content:"string"==typeof t.content.fileName?t.content.fileName:"string"==typeof t.content.name?t.content.name:"string"==typeof t.content.text?t.content.text:null!==t.content.text&&("object"===as(t.content)&&Object.keys(t.content).length>0))))}},mh=Yc(1)(function(e,t,n,i,o,r,a){return o.map(hh(e,t,n,i,a)).filter(fh(r))}),bh=Qp(function(e,t){var n=e.messages,i=t.entities,o=i.agents,r=i.campaigns,a=e.id,s=e.queue,c=e.chatStatus;return mh(o,r,a,s,n,c,t)}),wh=Qp(function(e){return e.messages},[]),gh=Qp(function(e){return e.queue},{}),vh=Qp(function(e){return e.involvedAgents},[]),yh=Qp(function(e){return e.audioVideoAgentId},0),_h=Qp(function(e){return e.chatGuid}),xh=Qp(function(e){return e.chatId}),kh=Qp(function(e){return e.visitorTyping},!1),Ch=Qp(function(e){return e.draft},""),Sh=Qp(function(e){return e.maxId},-1),Ah=Qp(function(e){return e.error}),Mh=Qp(function(e){return e.warning}),Th=Qp(function(e){return e.maxReadId},-1),Ih=Qp(function(e,t){for(var n=bh(t),i=e.maxReadId,o=0,r=n.length-1;r>=0;r-=1){var a=n[r];if(a.id<=i)break;if(void 0!==a.id&&Vb(a)&&(o+=1)>=99)return 99}return o},0),Ph=Qp(function(e,t){var n=bh(t);if(!(Ih(t)<=0))for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(Vb(o))return o}}),Dh=Qp(function(e,t){var n=bh(t);if(Ih(t)<=0)return 0;for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(Vb(o))return o.id}return 0}),Nh=function(e){var t=Xc(e,"page.requestChatAction.source.page.url");return"https://www.comm100.com/powered-by/?customer="+(bd(t)||"")},Rh=function(e){return e.window&&e.window.messages&&e.window.messages.find(function(e){return"agentRefuseChat"===e.type})},Oh=Qp(function(e,t){var n=rh(t).style===Yd,i=(ol&rh(t).chat.tools)===ol,o=(sl&rh(t).chat.tools)===sl;if(e.tab!==Jd)return!1;switch(e.chatStatus){case Hd:return!0;case Vd:return!!e.allowWaitingSendMessage&&!e.isChatBot;case jd:return(!n||Op(t))&&(i||o)&&!Rh(t)&&!e.isChatBot;case Ud:return!0;default:return!1}},!1),Wh=Qp(function(e){if(e.tab!==Jd)return!1;switch(e.chatStatus){case Hd:return!0;case Vd:return!!e.allowWaitingSendMessage;case jd:return!1;case Ud:default:return!0}},!1),Eh=function(e){return e.window&&e.window.messages&&e.window.messages.find(function(e){return"visitorFile"===e.type})},Bh=function(e){return e.window&&e.window.messages&&e.window.messages.find(function(e){return"visitorSetEmail"===e.type})},Lh=function(e){var t=Xc(e,"window.involvedAgents");return t&&t.length>0},Fh=Qp(function(e){return e.chatStatus===Hd},!1),zh=Qp(function(e){return e.chatStatus===Ud},!1),Vh=function(e){var t=vh(e);if(0!==t.length){var n=t[0];return e.entities.agents.entities[n]}},Uh=function(e){var t=vh(e);if(0!==t.length){var n=yh(e);if(n>0)return e.entities.agents.entities[n];if(t.length>1)return{avatar:kl(e,"/images/avatar.png"),name:""};var i=t[0];return e.entities.agents.entities[i]}},Hh=function(e){var t=zh(e);if(Fh(e)||t){if(t){if("manualInvitation"!==e.page.requestChatAction.source.type)return;return Vh(e)}var n=$p(e);return n||Vh(e)}},jh=function(e){var t=Hh(e);return t?t.avatar:t},Yh=function(e){var t=Uh(e);return t?t.avatar:""},Gh=function(e){var t=Uh(e);return t?t.name:""},qh=Qp(function(e){return e.chatStatus===Vd||e.chatStatus===Hd},!1),Zh=Qp(function(e){return e.chatStatus===Hd&&e.isChatBot},!1),Kh=Qp(function(e){return e.chatStatus===Vd&&e.isChatBot},!1),Qh=Qp(function(e){return e.ifHideBio},!1),Jh=Qp(function(e){return e.chatWithAgentClicked},!1),Xh=Qp(function(e){return e.fileUploadCount},0),$h=function(e,t){return Xc(e,"window.fields."+t)},ef=Qp(function(e){return e.disabled},!1),tf=function(e){var t=rh(e);return t&&t.notification},nf=function(e){var t=e.window,n=Xc(e,"page.windowStatus");return t&&(t.tab===Jd||t.tab===el||"loading"===t.tab||"ssoLogin"===t.tab||t.tab===Kd||t.tab===Qd||t.tab===$d)&&(n===dl||n===ul)&&!!t.sideWindowSelectedTab},of=function(e){var t=Xp(e);return!!t&&t.isSupportWebrtc},rf=function(e){return Xc(e,"window.sideWindowItems")},af=Qp(function(e){return e.audio_video_disabled},!1),sf=function(e){return Xc(e,"window.showChatWindowInSidewindow")},cf=function(e){return Xc(e,"window.sideWindowSelectedTab")},df=function(e){return rh(e).customCSS},lf=Qp(function(e){return e.vChatStatus},"notStart"),uf=Qp(function(e){return e.audioVideoChatStartTime},0),pf=Qp(function(e){return e.isFocused},!1),hf=Qp(function(e){return e.frequencyLimitState},!1),ff=Qp(function(e){return e.autoEjectTranscript},!1),mf=function(e){var t=rh(e);return t&&t.isRTL},bf=function(e){var t=Xp(e);return!(!t||!t.bio)&&(!Qp(function(e){return e.ifHideBio},!1)(e)&&rh(e).header.showBio)},wf=Qp(function(e){return e.kbChatWithAgentClicked},!1),gf=function(e){return Xc(e,"window.kb.activeArticle")},vf=function(e,t){return Xc(e,"entities.kbArticles.entities."+t)},yf=function(e){return Xc(e,"window.kbConfig.id")},_f=function(e){return Xc(e,"window.kbConfig.greetingMessage")},xf=function(e){return Xc(e,"window.kbConfig.maxCount")},kf=function(e){return Xc(e,"window.kb.notFoundStr")},Cf=function(e){return Xc(e,"window.kb.isLoading")},Sf=function(e){return Xc(e,"window.kbConfig.notShowContent")},Af=function(e){return Xc(e,"window.bot.activeBot")},Mf=function(e,t){if(Jp(e)!==Hd)return!0;var n=e.window.messages;if(n.some(function(e){return e.content&&e.content.GUID===t&&("visitorCancelBotForm"===e.type||"visitorSubmitBotForm"===e.type)}))return!0;var i=n.findIndex(function(e){return e.content.GUID===t});return n.slice(i).some(function(e){return"agentAcceptChat"===e.type||"agentJoinChat"===e.type})},Tf=function(e,t){if(Jp(e)!==Hd)return!0;var n=e.window.messages;if(n.some(function(e){return e.content&&e.content.GUID===t&&("visitorCancelBotForm"===e.type||"visitorConfirmBotForm"===e.type)}))return!0;var i=n.findIndex(function(e){return e.content.GUID===t});return n.slice(i).some(function(e){return"agentAcceptChat"===e.type||"agentJoinChat"===e.type})},If=function(e){return e.window?e.window.cobrowsing:"none"},Pf=function(e){return"running"===If(e)},Df=function(e){return"requesting"===If(e)},Nf=function(e){return e.window.cobrowseSessionCode},Rf=function(e){return e.window.cobrowseGroupId},Of=function(e){return e.window.cobrowseAgent},Wf=function(e,t){return Xc(e,"entities.campaigns.entities."+t)},Ef=function(e,t){return Xc(e,"entities.campaigns.entities."+t)},Bf=function(e,t){var n=Xc(e,"entities.campaigns.entities."+t+".chat.tools");return void 0===n?0:n},Lf=function(e,t){return ol&Bf(e,t)&&(e.window.chatStatus===jd||e.window.chatStatus===Hd)},Ff=function(e,t){return nl&Bf(e,t)&&e.window.chatStatus!==jd},zf=function(e,t){return il&Bf(e,t)&&e.window.chatStatus!==jd},Vf=function(e,t){return rl&Bf(e,t)&&e.window.chatStatus!==jd&&Xc(e,"configuration.features.audioVideoChat")&&yu},Uf=function(e,t){return al&Bf(e,t)&&e.window.chatStatus!==jd&&Xc(e,"configuration.features.audioVideoChat")&&yu},Hf=function(e,t){return sl&Bf(e,t)&&!Rh(e)&&!Op(e)},jf=function(e,t){var n=rh(e);if(n.postchat){return n.postchat.map(function(t){return e.entities.fields.entities[t]}).find(function(e){return e.type===t})}return null},Yf=function(e){return jf(e,"rating")},Gf=function(e){return jf(e,Fd)},qf=function(e){return e&&Object.keys(e)||[]},Zf=function(e,t){return e.entities.agents.entities[t]},Kf=function(e){return qf(e.entities.agents.entities)},Qf=function(e){return Kf(e).length},Jf=function(e){return Kf(e).reduce(function(t,n){return t.concat([Zf(e,n)])},[])},Xf=function(e){var t=Jf(e).sort(function(e,t){return e.index-t.index}).map(function(e){return e.avatar}).filter(function(e){return e}),n=null;switch(t.length){case 0:return null;case 1:n=[t[0],kl(e,"/images/avatar-male.png"),kl(e,"/images/avatar-female.png")];break;case 2:n=[].concat(t,[kl(e,"/images/avatar-male.png")]).filter(function(e){return e});break;case 3:n=t.slice(0,3);break;default:n=t.slice(0,3)}return rh(e).style===Gd&&(n=[n[1],n[0],n[2]]),n},$f=function(e,t){return e.entities.buttons.entities[t]},em=function(e,t){return $f(e,t).type},tm=function(e,t){var n=$f(e,t);return n&&n.customOffline},nm=function(e,t){return!!e.entities.buttons&&$f(e,t).isEmbeddedWindow},im=function(e){return e.entities.departments.entities},om=function(e,t){return $f(e,t).iframeStyle},rm=function(e,t){var n=$f(e,t);if(n)return n.customJs},am=function(e){var t=Xc(e,"window.kb.articles");return t&&t.map(function(t){var n=e.entities.kbArticles.entities[t];return{id:n.id,title:n.title,summary:n.summary}})},sm="popupImage",cm="embeddedWindow",dm="bubble",lm="mobile",um=Math.pow(2,0),pm=Math.pow(2,1),hm=Math.pow(2,2),fm=Yc(1)(function(e,t,n){var i={};return i.id=t.id,i.winType=n,i.isManual=t.isManual,i.type=dm,i.campaignId=e,i.message=t.text,i.textTypeHere=t.textTypeHere,i.messageCount=t.messageCount,t.agent&&(i.agentName=t.agent.name,i.avatar=t.agent.avatar),i.agent=t.agent,i}),mm=Yc(1)(function(e,t){var n={};return n.id=t.id,n.type=lm,n.campaignId=e,n.message=t.text,n.acceptText=t.acceptText,n.refuseText=t.refuseText,n.themeColor=t.themeColor,n.title=t.title,n.agent=t.agent,n}),bm=Yc(1)(function(e,t){var n={};if(n.id=t.id,n.type=sm,n.image=t.image,n.message=t.text,n.fontSize=t.fontSize,n.color=t.color,n.themeColor=t.themeColor,n.fontFamily=t.fontFamily,n.ifModal=t.ifModal,t.fontStyle){var i=t.fontStyle;n.fontWeight=i&um?"bold":"",n.fontStyle=i&pm?"italic":"",n.textDecoration=i&hm?"underline":""}return n.messageArea={left:t.textArea[0],top:t.textArea[1],width:t.textArea[2],height:t.textArea[3]},n.closeArea={left:t.closeArea[0],top:t.closeArea[1],width:t.closeArea[2],height:t.closeArea[3]},n.textAlign=t.textAlign,t.position&&(n.position=t.position),n.isManual=t.isManual,n.campaignId=e,n.agent=t.agent,n}),wm=function(e){return e.page&&e.page.invitation},gm=Yc(1)(function(e){return Object.keys(e).sort(function(e,t){return e-t}).map(function(t){var n=e[t];return{value:n.id,label:n.name,isOnline:n.isOnline}})}),vm={custom:{}},ym=function(e,t,n,i){return t.configuration.features[n]?e:e.filter(function(e){return t.entities.fields.entities[e].type!==i})},_m=function(e,t,n){var i=void 0;"prechat"===t?i="prechat":"postchat"===t?i="postchat":"offline"===t&&(i="offline");var o=e.entities.campaigns.entities[n];if(o&&o[i]){var r=o[i];return r=ym(r,e,"department","department"),r=ym(r,e,"ticket","ticket"),r.map(function(t){var n=e.entities.fields.entities[t],i="";if("department"===n.type){var r=e.entities.departments.entities;n=cs({},n,{options:gm(r)})}var a=e.window?e.window.fields:vm,s=void 0;if(s=n.type===Bd?a.name:n.type===Ld?a.email:"phone"===n.type?a.phone:"company"===n.type?a.company:"product"===n.type?a.product:"department"===n.type?a.department:"rating"===n.type?a.rating:n.type===Fd?a.comment:"subject"===n.type?a.subject:"content"===n.type?a.content:"attachment"===n.type?a.attachment:"ticket"===n.type?a.ticketId:a.custom[n.label],s=null!=n.value?n.value:s,n.isRequired&&(!s||Array.isArray(s)&&0===s.length||"department"===n.type&&-1===s)&&(i=o.languages.promptRequired),n.type===Ld&&s&&!vb(s)&&(i=o.languages.promptInvalidEmail),"attachment"===n.type&&"undefined"!=typeof File&&s instanceof File){var c=Rl(e);s.size>Math.pow(1024,2)*c&&(i=o.languages.promptFileSizeExceed.replace("{fileSize}",c))}return cs({},n,{value:s,error:n.customError||i})})}return[]},xm=function(e,t){return e.window.forms[t]},km=function(e){var t=e.entities.campaigns.entities[e.window.id];return t&&t.prechat?t.prechat.map(function(t){return e.entities.fields.entities[t]}):[]},Cm=function(e){var t={text:!0,textarea:!0,radio:!0,checkbox:!0,select:!0,"checkbox-list":!0,attachment:!0,rating:!0};return km(e).filter(function(e){return t[e.type]})},Sm=function(e){var t=_p(e);if(Bf(e,t)<1)return!1;var n=e.window;return!(!n||n.isChatBot)&&("postchat"!==nh(e)&&(n.chatStatus===Hd||n.chatStatus===jd))},Am=function(e){return e.configuration.features.ga},Mm=function(e,t){return Xc(e,"entities.campaigns.entities."+t+".style")},Tm=function(e){var t=oh(e);return Mm(e,t)},Im=function(e){return e.configuration.customVariables},Pm=function(e){return e.configuration.customVariableResult},Dm=function(e){return e.configuration.features.hideCreditCard},Nm=function(e){return e.configuration.features.showTypingContent},Rm=function(e){return e.entities.campaigns.entities[e.window.id].languages},Om=function(e){var t=e.entities;if(!t)return!1;var n=t.campaigns.entities;if(!e.window||!n)return!1;var i=n[e.window.id];return!!i&&!!i.languages},Wm=function(e){return function(t,n){var i=Rm(t),o=e[n];if(o)return i[o]}},Em=Wm((mu={},mu.prechat="greetingPreChatWindow",mu.postchat="greetingRating",mu.offline="greetingOfflineMessageWindow",mu)),Bm=function(e){return"horizontal"===e.entities.campaigns.entities[e.window.id].formStyle},Lm=Wm((bu={},bu.prechat="buttonStartChat",bu.postchat="buttonSubmit",bu.offline="buttonSubmit",bu)),Fm=function(e,t){if(!(t<=0)){return Rm(e).embeddedWindowNewMessages.replace("{count}",t)}},zm=function(e){return Rm(e).writeReply},Vm=function(e){var t=oh(e),n=Ef(e,t).mainColor;return Pb(n)},Um=function(e){var t=e.entities.campaigns.entities[e.window.id];return!!t.socialLogin&&t.socialLogin.facebook},Hm=function(e){var t=e.entities.campaigns.entities[e.window.id];return!!t.socialLogin&&t.socialLogin.googlePlus},jm=function(e){return e.entities.campaigns.entities[e.window.id].chat.showAvatar},Ym=function(e){var t=e.entities.campaigns.entities[e.window.id],n=t.header,i=n.showAvatar,o=n.type;return!!i||!(!lh(e)||"banner"!==o)},Gm=function(e){return e.entities.campaigns.entities[e.window.id].sounds},qm=function(e,t){if(e.window){var n=Gm(e);return n&&n[t]}},Zm=function(e){return e.configuration.standbyUrl+"/moderator.aspx?siteId="+Cp(e)},Km=function(e){var t=xp(e),n=Cp(e),i=Mp(e);return kl(e,["/visitor.ashx?",n?"siteId="+n:"",t?"&chatGroup="+t:"",i?"&visitorGuid="+i:""].join(""))},Qm=function(e){return bl(e)?e.page.visitor.id:e.page.visitor.standbyId},Jm=function(e){return e.page.visitor.id},Xm=function(e){return e.page.visitor.standbyId},$m=function(e){return"manualInvitation"===Dp(e)&&Jp(e)===Ud},eb=function(e){return rm(e,yp(e))},tb=function(e){return wl(e)&&null==Dp(e)},nb=function(e){return _l(e)&&wl(e)&&nm(e,_p(e))&&!tb(e)&&!kd},ib=function(e){return(e.entities.campaigns.entities[_p(e)]||{}).languages},ob=function(e,t){var n=ib(e);return n&&n[t]},rb=function(e){return e.configuration?[e.configuration.downloadUrl,"?siteId="+Cp(e),"&chatId="+xh(e),"&chatGuid="+_h(e),"&visitorId="+Qm(e),"&TranscriptPDF=1"].join(""):""},ab=function(e){var t=Of(e);if(!t)return"";var n=Zf(e,t);return n?n.name:""},sb=function(e){return function(t){return Rm(t)[e]}},cb=sb("cobrowseAllowControl"),db=sb("cobrowseStop"),lb=function(e){var t=Rm(e).cobrowseAgentWait,n=ab(e);return t.replace(/{name}/g,n)},ub=sb("cobrowseNotes"),pb=function(e){return Ef(e,yp(e))},hb=function(e,t){return"/ChatWindow.aspx?siteId="+e+"&planId="+t},fb=function(e){return e?Object.keys(e).reduce(function(t,n){try{var i=Qc.call(e[n]);if(void 0===i)return t;var o=t;return o[n]=null===i?i:i.toString(),o}catch(e){return t}},{}):null},mb=function(){return(new Date).getTimezoneOffset()},bb=function(){return screen.width+"x"+screen.height},wb=/(?:www\.|(?:https?|ftp|news|rtsp|mms):\/\/)[\w$%][\w_!~*'();?:@&=+$,%#-.\/]*[\w_!~*'();?:@&=+$%#-]\/?/gi,gb=/^[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$/,vb=function(e){return gb.test(e)},yb=function(e){return e.replace(/(?:3[4|7]\d{2}\s{0,1}\d{6}\s{0,1}\d{1}|3[0|6|8]\d{3}\s{0,1}\d{4}\s{0,1}\d{1}|(?:6011\s{0,1}\d{4}\s{0,1}|65\d{2}\s{0,1}\d{4}\s{0,1}|622(?:(?:1\s{0,1}2[6-9]|1\s{0,1}[3-9]\d|[2-8]\d{2})\d{2}\s{0,1}|9\s{0,1}2[0-5]\d{2}\s{0,1}|9\s{0,1}[0-1]\d{3}))\d{4}\s{0,1}|(?:2014|2149)\s{0,1}\d{7}\s{0,1}|(?:(?:3088|3096|3112|3158|3337)\s{0,1}\d{4}\s{0,1}|35(?:2[89]\s{0,1}\d{4}\s{0,1}|[3-8]\d\s{0,1}\d{4}\s{0,1}))\d{4}\s{0,1}|5[1-5]\d{2}\s{0,1}\d{4}\s{0,1}\d{4}\s{0,1}|4\d{3}\s{0,1}\d{4}\s{0,1}\d(?:\d{3})?\s{0,1})(\d{4})/g,function(e,t){for(var n="",i=0;i<e.length;i+=1)n+="*";return n+t})},_b=function(e){var t=e;t.left="50%",t.top="50%",t.transform="translate(-50%, -50%)"},xb=function(e){var t=e;t.left="50%",t.transform="translateX(-50%)"},kb=function(e){var t=e;t.top="50%",t.transform="translateY(-50%)"},Cb=function(e){return void 0!==e.px?e.px:e.percent+"%"},Sb=function(e,t){var n=e.xoffset,i=e.yoffset,o={position:"fixed",zIndex:t,fontSize:0};return"bottomMiddle"===e.type&&(o.bottom=Cb(i),xb(o)),"topMiddle"===e.type&&(o.top=Cb(i),xb(o)),"leftMiddle"===e.type&&(o.left=Cb(n),kb(o)),"rightMiddle"===e.type&&(o.right=Cb(n),kb(o)),"topLeft"===e.type&&(o.left=Cb(n),o.top=Cb(i)),"topRight"===e.type&&(o.right=Cb(n),o.top=Cb(i)),"bottomLeft"===e.type&&(o.left=Cb(n),o.bottom=Cb(i)),"bottomRight"===e.type&&(o.right=Cb(n),o.bottom=Cb(i)),"centered"===e.type&&_b(o),"leftBottom"===e.type&&(o.bottom="5%",o.left=0,o.transform="translateY(5%)"),"rightBottom"===e.type&&(o.bottom="5%",o.right=0,o.transform="translateY(5%)"),o},Ab=function(){return{title:qc.title,url:Zc.href.toString()}},Mb=function(e,t){if(!t)return e;var n=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},i=e;i=n(i,"#000001",t);var o=rd(t,.2),r=ld(t,.9),a=ud(t)?"#3c3c3c":"#ffffff",s=ud(t)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",c=ud(o)?"#3c3c3c":"#ffffff",d=ud(o)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)";return i=n(i,"#000002",o),i=n(i,"#000006",r),i=n(i,"#000003",t),i=n(i,"#000004",a),i=n(i,"#000005",c),i=n(i,"#000007",s),i=n(i,"#000008",d)},Tb=function(){return function(e,t){
return e("/images/"+t)}}(),Ib=function(){var e=void 0,t=void 0;return function(n,i){if(n&&e)return e;if(!n&&t)return t;var o=[{family:"",filename:"Regular"},{family:" Italic",filename:"It"},{family:" Bold",filename:"Semibold"},{family:" Light",filename:"Light"}].map(function(e){var t=e.family,n=e.filename;return'@font-face {font-family: "SourceSans Pro'+t+'";src: url('+i("/fonts/SourceSansPro-"+n+".woff")+") format('woff'),url("+i("/fonts/SourceSansPro-"+n+".ttf")+") format('truetype'),url("+i("/fonts/SourceSansPro-"+n+".svg#SourceSans-Pro-"+n)+") format('svg')}"}).join("")+Od.replace(/[{]FONT_URL_PREFIX[}]/g,i("/fonts"));return n?e=o:t=o,o}}(),Pb=Yc(1)(function(e){return ud(e)?"black":"white"}),Db=function(e){return/^(https?:)?\/\//.test(e)?e:e&&"http://"+e},Nb=function(){var e=0;return function(){return e+=1}},Rb=function(){return/ipad/i.test(Kc)?"ipad":/mobile|android/i.test(Kc)?"mobile":"desktop"},Ob=function(){var e=Rb();return"mobile"===e||"ipad"===e},Wb=function(e){return Object.keys(e||{}).reduce(function(t,n){if(0===n.indexOf("CUSTOM!")){var i;return cs({},t,(i={},i[n.substr("CUSTOM!".length)]=e[n],i))}return t},{})},Eb=function(e){var t=e;return Object.keys(t).forEach(function(e){Array.isArray(t[e])&&(t[e]=t[e].join("\u2299"))}),t},Bb=function(e){var t=cs({},e);return Eb(t),"ticketId"in t&&(t.ticketId=""===t.ticketId||Number.isNaN(+t.ticketId)?void 0:+t.ticketId),"department"in t&&(t.department=""===t.department||Number.isNaN(+t.department)?-1:+t.department),t.custom&&(t.custom=cs({},t.custom),Eb(t.custom)),t},Lb=function(e,t,i,o){if(t&&i){if(new RegExp(t+"/kb/[\\d]+-[\\d]+-a[\\d]+","i").test(e)){if(e.match(/\/kb\/([\d]+)-[\d]+-a[\d]+\/?/i)[1]===""+o){var r=e.match(/\/kb\/[\d]+-[\d]+-a([\d]+)\/?/i)[1];return n("a",{rel:"noopener noreferrer",onClick:function(){i(r)}},e)}}}var a=e;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(e)||(a="http://"+e),n("a",{href:a,target:"_blank",rel:"noopener noreferrer"},e)},Fb=function(e,t,n,i,o){if(e){for(var r=e,a=[],s=r.search(/\r\n|\r|\n/);s>=0;)a=a.concat(Q(r.substring(0,s),function(e){return Lb(e,n,i,o)})),a.push(t),r=r.slice(s).replace(/\r\n|\r|\n/,""),s=r.search(/\r\n|\r|\n/);return a=a.concat(Q(r,function(e){return Lb(e,n,i,o)}))}return[""]},zb=["agentSendText","agentAddInvitationText","agentJoinChat","chatbotJoinChat","agentSendFile","agentSendImage","agentSendUrl","agentAcceptChat","agentRefuseChat","visitorNotRespond","agentEndChat","agentPromoteToUser","agentPromoteToContact","agentEndChat","agentTransferChatToDepartment","agentAcceptTransfer","agentRefuseTransfer","visitorNotRespondAndEndChat","agentVideoChatRequest","agentVideoChatCancelRequest","agentVideoChatAccept","agentVideoChatRefuse","agentVideoChatStop","systemVideoChatNoAnswer","systemVideoChatEnd","agentAudioChatRequest","agentAudioChatCancelRequest","agentAudioChatAccept","agentAudioChatRefuse","agentAudioChatStop","visitorAudioChatRequest","visitorAudioChatCancelRequest","visitorAudioChatAccept","visitorAudioChatRefuse","visitorAudioChatStop","visitorVideoChatRequest","visitorVideoChatCancelRequest","visitorVideoChatAccept","visitorVideoChatRefuse","visitorVideoChatStop","systemAudioChatNoAnswer","systemAudioChatEnd","agentRequestSecureForm",Wd,"botSignIn","botForm","cobrowseRequest","cobrowseAccept","cobrowseRefuse","cobrowseEnd","cobrowseNoAnswer","cobrowseCancel"],Vb=function(e){return zb.indexOf(e.type)>=0},Ub=function(){return void 0===window.File},Hb=["agentSendUrl","visitorAddTextMessage","agentSendText","agentAddInvitationText","autoInvMsg","agentTyping","visitorTyping","pendingVisitorIsTyping","agentSendImage","agentSendFile","visitorSendFile","visitorSendImage","agentSendImageStart","visitorRequestChat","systemPromoteOfflineMesage","systemStartChatbot","chatbotBadAnswer",Wd,Ed,"chatbotPossibleAnswer","chatbotRequestQuestionGuid","visitorText","visitorImage","visitorFile","agentRequestSecureForm","systemIfSupportWebrtc","startChatAgain","downloadTranscript","botSignIn","botForm","botConfirmForm","visitorCancelBotForm","visitorSubmitBotForm","visitorConfirmBotForm"],jb=function(e){return yu&&("systemAudioChatEnd"===e||"systemVideoChatEnd"===e||"systemAudioChatNoAnswer"===e||"systemVideoChatNoAnswer"===e||"visitorAudioChatAccept"===e||"visitorAudioChatCancelRequest"===e||"visitorAudioChatRefuse"===e||"visitorAudioChatStop"===e||"agentAudioChatAccept"===e||"agentAudioChatCancelRequest"===e||"agentAudioChatRefuse"===e||"agentAudioChatStop"===e||"visitorVideoChatAccept"===e||"visitorVideoChatCancelRequest"===e||"visitorVideoChatRefuse"===e||"visitorVideoChatStop"===e||"agentVideoChatAccept"===e||"agentVideoChatCancelRequest"===e||"agentVideoChatRefuse"===e||"agentVideoChatStop"===e)},Yb=function(e){return Hb.indexOf(e.type)<0},Gb=function(e,t,n){return[Ib(t,n),Mb(Rd,e)].join("")},qb=function(e){return e.filter(function(e){return"number"==typeof e.id}).reduce(function(e,t){var n,i=e;return t.type===Bd?i.name=t.value:t.type===Ld?i.email=t.value:"phone"===t.type?i.phone=t.value:"company"===t.type?i.company=t.value:"product"===t.type?i.product=t.value:"department"===t.type?i.department=t.value:"rating"===t.type?i.rating=t.value:t.type===Fd?i.comment=t.value:"subject"===t.type?i.subject=t.value:"content"===t.type?i.content=t.value:"attachment"===t.type?i.attachment=t.value:"ticket"===t.type?i.ticketId=t.value:i.custom?i.custom[t.id]=t.value:i.custom=(n={},n[t.id]=t.value,n),i},{})},Zb=function(e,t,n){return e&&{name:e.name,avatar:(n||t.showAvatar)&&e.avatar,title:t.showTitle&&e.title,bio:t.showBio&&("<div>&nbsp;</div>"===e.bio?null:e.bio)}},Kb=function(e,t){return{team:t.header.showTeam&&t.languages.teamName,avatars:t.header.showAvatars&&Xf(e)}},Qb=function(e,t,n){return{agent:Zb(Xp(e)||$p(e),t.header,n)}},Jb=function(e){return{banner:e.header.banner}},Xb=function(e,t){return{logo:t.header.logo}},$b=function(e,t){return t.header.showAvatar||t.header.logo?{logo:t.header.logo,agent:Qb(e,t).agent}:{ifViewHeaderBox:!1}},ew=function(e,t,n){var i=lh(t);return"agent"===e?Qb(t,n,!1):i&&"banner"===e?Qb(t,n,!0):"logo"===e?$b(t,n):"banner"===e?Jb(n):{}},tw=function(e,t,n){if("agent"===e){return"loading"===Kp(t).tab?{}:Kb(t,n)}return"logo"===e?Xb(0,n):"banner"===e?Jb(n):{}},nw=function(e,t,n){if(e===qd)return{ifViewHeader:!1};var i=Kp(t),o=Lh(t),r=n.header.type;return i.tab===Jd&&(o||i.isChatBot)&&(i.chatStatus===Hd||i.chatStatus===jd||i.chatStatus===Ud&&"manualInvitation"===Dp(t)||i.isChatBot)||i.tab===Xd?ew(r,t,n):tw(r,t,n)},iw=Yc(1)(function(e){var t,n;if(null==e)return[];for(var i=[],o=(t={},t.audioIncoming="visitorAudioChatRefuse",t.audioChatting="visitorAudioChatStop",t.audioRequesting="visitorAudioChatCancelRequest",t.videoIncoming="visitorVideoChatRefuse",t.videoChatting="visitorVideoChatStop",t.videoRequesting="visitorVideoChatCancelRequest",t),r=(n={},n.visitorText="visitorAddTextMessage",n.creditCardMasked="visitorCreditCardMasked",n.pendingAudioRequesting="visitorAudioChatRequest",n.pendingVideoRequesting="visitorVideoChatRequest",n.pendingSubmitSecureForm="visitorSubmitSecureForm",n.pendingCancelSecureForm="visitorCancelSecureForm",n.pendingGetSecureFormFailure="visitorGetSecureFormFailure",n.pendingCobrowseAccept="cobrowseAccept",n.pendingCobrowseStart="cobrowseStart",n.pendingCobrowseRefuse="cobrowseRefuse",n.pendingCobrowseNotSupport="cobrowseNotSupport",n.pendingCobrowseBrowserNotSupport="cobrowseBrowserNotSupport",n.pendingCobrowseEnd="cobrowseEnd",n.pendingCobrowseHttpNotSupport="cobrowseHttpNotSupport",n),a=e.length-1;a>=0;a-=1){var s=e[a],c=void 0;if("pendingAccept"===s.type||"pendingHangup"===s.type){var d=s.content;"pendingAccept"===s.type&&(c="audioIncoming"===d?"visitorAudioChatAccept":"visitorVideoChatAccept"),"pendingHangup"===s.type&&(c=o[d])}else c=r[s.type];c&&i.push({type:c,guid:s.guid,sender:s.sender,content:s.content})}return i.reverse()}),ow=Qc.site_id,rw=function(e){return/^\d+$/.test(e)?+e:void 0}(Qc.chatGroup),aw=function(){return Qc.chat_buttons},sw=function(){return Array.prototype.map.call(aw(),function(e){return e.code_plan}).filter(function(e){return e})},cw=function(e){var t=Array.prototype.find.call(Qc.chat_buttons,function(t){return t.code_plan===e});if(t)return t.div_id;if(Qc.dynamic){var n=Array.prototype.find.call(Qc.chat_buttons,function(e){return null==e.code_plan});return n&&n.div_id}},dw=Qc.onReady,lw=Qc.main_code_plan,uw="object"==("undefined"==typeof global?"undefined":as(global))&&global&&global.Object===Object&&global,pw="object"==("undefined"==typeof self?"undefined":as(self))&&self&&self.Object===Object&&self,hw=uw||pw||Function("return this")(),fw=hw.Symbol,mw=Object.prototype,bw=mw.hasOwnProperty,ww=mw.toString,gw=fw?fw.toStringTag:void 0,vw=Object.prototype,yw=vw.toString,_w="[object Null]",xw="[object Undefined]",kw=fw?fw.toStringTag:void 0,Cw=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Sw="[object Object]",Aw=Function.prototype,Mw=Object.prototype,Tw=Aw.toString,Iw=Mw.hasOwnProperty,Pw=Tw.call(Object);wu="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var Dw=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}(wu),Nw={INIT:"@@redux/INIT"},Rw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ow=le();Ow.withExtraArgument=le;var Ww,Ew,Bw=[];Ww="object"===("undefined"==typeof global?"undefined":as(global))&&global?global:"undefined"!=typeof window?window:{},Ew=Ww.DeepDiff,Ew&&Bw.push(function(){void 0!==Ew&&Ww.DeepDiff===ye&&(Ww.DeepDiff=Ew,Ew=void 0)}),ue(he,pe),ue(fe,pe),ue(me,pe),ue(be,pe),Object.defineProperties(ye,{diff:{value:ye,enumerable:!0},observableDiff:{value:ve,enumerable:!0},applyDiff:{value:Se,enumerable:!0},applyChange:{value:xe,enumerable:!0},revertChange:{value:Ce,enumerable:!0},isConflict:{value:function(){return void 0!==Ew},enumerable:!0},noConflict:{value:function(){return Bw&&(Bw.forEach(function(e){e()}),Bw=null),ye},enumerable:!0}});var Lw,Fw,zw,Vw,Uw,Hw,jw,Yw,Gw,qw,Zw,Kw=0,Qw=void 0,Jw=void 0,Xw=function(){return function(e){return function(t){if(!t||!t.type||"@@redux/batch"!==t.type)return e(t);var n=[].concat(t.payload);return Kw+=n.length,n.reduce(function(t,n){Kw-=1;try{return e(n)}catch(e){throw e}},null)}}},$w=function(e){function t(){Qw===Jw&&(Qw=Qw.slice())}function n(e){if("function"!=typeof e)throw new Error("Invalid listeners, expected a function.");var n=!0;return t(),Qw.push(e),function(){n&&(t(),Qw.splice(Qw.indexOf(e),1),n=!1)}}function i(){Kw>0||(Jw=Qw,Qw.forEach(function(e){return e()}))}return Qw=[],Jw=Qw,function(t,o,r){var a=e(t,o,r),s=Xw()(a.dispatch);return a.subscribe(i),cs({},a,{dispatch:s,subscribe:n})}},eg="page/showInvitation",tg="window/update-messages",ng="page/update-window-status",ig="app/ban",og={banned:!1},rg=(Lw={},Lw["app/ready"]=function(e){return cs({},e,{isReady:!0})},Lw[ig]=function(e){return cs({},e,{banned:!0})},Lw["app/switchServer"]=function(e,t){return cs({},e,{server:t})},Lw["app/setIsActive"]=function(e,t){return cs({},e,{isActive:t})},Lw["app/setIsOpenerExists"]=function(e,t){return cs({},e,{isOpenerExists:t})},Lw),ag=Jc(og,rg),sg={platform:"desktop",title:"",buttons:{},windowStatus:fl,dynamicCampaign:!1,campaignId:0,chatGroup:0,invitation:null,visitor:{},skipPreChat:!1,width:0,height:0,orientation:"portrait"},cg=function(e,t,n,i){return qu(e,{type:t.isManual?"manualInvitation":"autoInvitation",invitationId:t.id,invitationType:t.type,page:{title:n,url:i}})},dg=(Fw={},Fw["page/setButtonIsOnline"]=function(e,t){var n,i,o=t.campaignId,r=t.ifOnline;if(e.buttons[o]===r)return e;var a=e.isDynamicCampaign?(n={},n[o]=r,n):cs({},e.buttons,(i={},i[o]=r,i));return cs({},e,{buttons:a})},Fw[eg]=function(e,t,n){var i=n.buttonType;if(t.type===cm){var o=t.windowStatus||dl,r="adaptive"===i,a=o===dl,s=e.windowStatus===dl;return r&&!s&&a&&(o=cl),cs({},e,{requestChatAction:cg(e.campaignId,t,e.title,e.url),windowStatus:o})}return t.isManual&&t.type===dm?cs({},e,{requestChatAction:cg(e.campaignId,t,e.title,e.url),windowStatus:pl}):null==e.invitation?cs({},e,{invitation:t}):e},Fw["page/updateVisitor"]=function(e,t){var n=cs({},e.visitor,t);return cs({},e,{visitor:n})},Fw["invitaton/refuse"]=function(e){return cs({},e,{invitation:null})},Fw["chatWindow/open"]=function(e,t,n){var i=t.campaignId;return cs({},e,{windowStatus:"adaptive"===n?cl:dl,invitation:null,requestChatAction:e.requestChatAction||qu(i,{type:"button",page:{title:e.title,url:e.url}})})},Fw[ng]=function(e,t){return cs({},e,{windowStatus:t,invitation:t===dl?null:e.invitation})},Fw["chatWindow/popOut"]=function(e){return cs({},e,{windowStatus:fl})},Fw["invitaton/accept"]=function(e,t){var n=e.invitation;return n?cs({},e,{invitation:null,requestChatAction:cg(t,n,e.title,e.url)}):e},Fw["page/buttonClick"]=function(e,t){return cs({},e,{invitation:null,requestChatAction:qu(t,{type:"button",page:{title:e.title,url:e.url}})})},Fw["web/startChatAgain"]=function(e){return cs({},e,{requestChatAction:qu(e.requestChatAction.campaignId,{type:"button",page:{title:e.title,url:e.url}})})},Fw["page/setSkipPreChat"]=function(e,t){return e.skipPreChat===t?e:cs({},e,{skipPreChat:t})},Fw["page/updateSize"]=function(e,t){return e.width===t.width&&e.height===t.height?e:cs({},e,t)},Fw["window/closeMinimizeBubble"]=function(e,t,n){return n?cs({},e,{windowStatus:fl}):e},Fw["page/updateOrientation"]=function(e,t){return e.orientation===t?e:cs({},e,{orientation:t})},Fw["page/setCampaignId"]=function(e,t){return e.campaignId===t?e:cs({},e,{campaignId:t})},Fw),lg=Jc(sg,dg),ug={entities:{},errors:{},fetchStatus:{}},pg={agents:ug,messages:ug,buttons:ug,campaigns:ug,fields:ug,departments:ug,kbArticles:ug},hg=function(e,t){var n,i,o,r=e.entities,a=e.errors,s=e.fetchStatus,c=t.id,d=t.entity,l=t.error,u=t.fetchStatus;return{entities:cs({},r,(n={},n[c]=cs({},r[c],d),n)),errors:cs({},a,(i={},i[c]=l||a[c],i)),fetchStatus:cs({},s,(o={},o[c]=u||s[c],o))}},fg=(zw={},zw["entities/button/visible"]=function(e,t){var n=t.isHidden,i=t.campaignId,o=e.buttons.entities[i];return o?o.isHidden===n?e:cs({},e,{buttons:hg(e.buttons,{id:i,entity:{isHidden:n}})}):e},zw["entities/updateFields"]=function(e,t){var n=t.fields,i=t.type,o=t.campaignId,r=n.reduce(function(e,t){var n=e;return n.entities[t.id]=t,n.errors[t.id]=null,n.fetchStatus[t.id]="done",n},{entities:cs({},e.fields.entities),errors:cs({},e.fields.errors),fetchStatus:cs({},e.fields.fetchStatus)}),a=cs({},e.campaigns.entities[o]);return a[i]=n.map(function(e){return e.id}),cs({},e,{campaigns:hg(e.campaigns,{id:o,entity:a}),fields:r})},zw["entities/updateButton"]=function(e,t){return cs({},e,{buttons:hg(e.buttons,t)})},zw["entities/updateCampaign"]=function(e,t){if(null==t.entity)return cs({},e,{campaigns:hg(e.campaigns,t)});var n=["prechat","postchat","offline"],i=Array.prototype.concat.apply([],n.map(function(e){return t.entity[e]||[]})).map(function(e){return cs({isErrorShowed:!1,isFocused:!1},e)}),o=t.entity?n.reduce(function(e,t){var n;return e[t]?cs({},e,(n={},n[t]=e[t].map(function(e){return e.id}),n)):e},t.entity):null;return cs({},e,{campaigns:hg(e.campaigns,cs({},t,{entity:o})),fields:i.reduce(function(e,t){return hg(e,{id:t.id,entity:t,error:null,fetchStatus:tl})},e.fields)})},zw["entities/updateAgent"]=function(e,t,n){var i=n.ifHideAgentName,o=n.agentDefaultName,r=t.entity,a=ls(t,["entity"]);return r.name=i?o:r.name,cs({},e,{agents:hg(e.agents,cs({entity:r},a))})},zw["entities/updateDepartment"]=function(e,t){return cs({},e,{departments:hg(e.departments,t)})},zw[eg]=function(e,t,n){var i=t.agent,o=n.ifHideAgentName,r=n.agentDefaultName;if(i){var a=i.name,s=ls(i,["name"]);return cs({},e,{agents:hg(e.agents,{id:i.id,entity:cs({name:o?r:a},s),fetchStatus:tl})})}return e},zw["form/update-error"]=function(e,t){var n,i=e.fields.entities[t.id];if(i.customError===t.error&&i.isErrorShowed)return e;var o=cs({},i,{customError:t.error,isErrorShowed:!0}),r=cs({},e.fields,{entities:cs({},e.fields.entities,(n={},n[t.id]=o,n))});return cs({},e,{fields:r})},zw["form/update-value"]=function(e,t){var n,i=e.fields.entities[t.id];if(i.value===t.value&&i.isErrorShowed)return e;var o=cs({},i,{value:t.value,isErrorShowed:!0}),r=cs({},e.fields,{entities:cs({},e.fields.entities,(n={},n[t.id]=o,n))});return cs({},e,{fields:r})},zw["form/focus"]=function(e,t){var n,i=e.fields.entities[t.id];if(!i)return e;var o=cs({},i,{isFocused:!0}),r=cs({},e.fields.entities,(n={},n[t.id]=o,n)),a=cs({},e.fields,{entities:r});return cs({},e,{fields:a})},zw["form/blur"]=function(e,t){var n,i=e.fields.entities[t.id],o=cs({},i,{isErrorShowed:!0,isFocused:!1}),r=cs({},e.fields.entities,(n={},n[t.id]=o,n)),a=cs({},e.fields,{entities:r});return cs({},e,{fields:a})},zw["form/validate-all"]=function(e,t){var n=!1,i=t.ids.reduce(function(e,t){var i=e[t],o=e;return o[t]=cs({},i,{isErrorShowed:!0,isFocused:!n}),n=!0,o},cs({},e.fields.entities)),o=cs({},e.fields,{entities:i});return cs({},e,{fields:o})},zw[tg]=function(e,t,n){return t.reduce(function(e,t){if("agentJoinChat"!==t.type&&"agentAcceptChat"!==t.type)return e;var i=t.content.agent,o=i.name,r=ls(i,["name"]);return cs({},e,{agents:hg(e.agents,{id:t.content.agent.id,entity:cs({name:n&&n.ifHideAgentName?n.agentDefaultName:o},r),error:null,fetchStatus:tl,index:Object.keys(e.agents).length})})},e)},zw["form/reset"]=Ae,zw[ng]=function(e,t){return t!==fl?e:Ae(e)},zw["chatWindow/popOut"]=function(e){return Ae(e)},zw["window/closeMinimizeBubble"]=function(e,t,n){return n?Ae(e):e},zw["window/success-articles"]=function(e,t){var n=t.reduce(function(e,t){var n=e;return n[t.id]=t,n},{});return cs({},e,{kbArticles:{entities:n}})},zw),mg=Jc(pg,fg),bg=function(){return{type:ig}},wg=function(e){return{type:"app/switchServer",payload:e}},gg=function(){return{type:"app/ready"}},vg=function(){return{type:"app/setIsOpenerExists"}},yg=function(e){return{type:"app/setIsActive",payload:e}},_g=function(e,t){return{type:"page/setButtonIsOnline",payload:{campaignId:e,ifOnline:t}}},xg=function(e){return{type:eg,payload:e}},kg=function(e){return{type:"page/updateVisitor",payload:e}},Cg=function(e){return{type:"invitaton/accept",payload:e}},Sg=function(e){return{type:"page/buttonClick",payload:e}},Ag=function(){return{type:"invitaton/refuse"}},Mg=function(){return{type:"sideWindow/closeKnowledgeBase"}},Tg=function(e,t){return{type:"sideWindow/replaceSideWindowTab",payload:{targetTab:e,newTab:t}}},Ig=function(e){return{type:"chatWindow/open",payload:{campaignId:e,isRestoreChat:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}},Pg=function(e){return{type:ng,payload:e}},Dg=(D(Pg,cl),D(Pg,ll)),Ng=D(Pg,dl),Rg=D(Pg,hl),Og=D(Pg,pl),Wg=D(Pg,fl),Eg=D(Pg,ul),Bg=function(e){return{type:"page/setSkipPreChat",payload:e}},Lg=function(e){return{type:"page/updateSize",payload:e}},Fg=function(e){return{type:"page/updateOrientation",payload:e}},zg=D(Fg,"landscape"),Vg=D(Fg,"portrait"),Ug=function(e){return{type:"page/setCampaignId",payload:e}},Hg=function(e){return{type:"config/updateConfig",payload:e}},jg=function(e){return{type:"entities/updateCampaign",payload:e}},Yg=function(e){return{type:"entities/updateButton",payload:e}},Gg=function(e,t){return{type:"entities/button/visible",payload:{isHidden:!e,campaignId:t}}},qg=function(e){return{type:"entities/updateAgent",payload:e}},Zg=function(e){return{type:"entities/updateDepartment",payload:e}},Kg=function(e,t,n){return{type:"entities/updateFields",payload:{type:e,fields:t,campaignId:n}}},Qg=function(e,t){return{type:e,payload:t}},Jg=function(e,t,n){return{type:"window/update-upload",payload:{name:e,percent:t,onCancel:n}}},Xg=function(){return{type:"window/sucess-file"}},$g=function(e){return{type:"window/fail-file",payload:e}},ev=function(e){return{type:"chatWindow/showTab",payload:e}},tv=function(e,t){return{type:"sso/updateSSO",payload:{ssoUrl:e,showPrelogin:t}}},nv=function(e,t){return{type:"window/updateChatBot",payload:t}},iv=function(e){return{type:"window/updateKBConfig",payload:e}},ov=function(e){return{type:tg,payload:e}},rv=function(e){return{type:"window/addSystemMessage",payload:e}},av=function(e,t){return{type:"window/sendText",payload:{message:e,guid:R(),ifCardMasking:t}}},sv=function(e){return{type:"window/sendFile",payload:e}},cv=function(){return{type:"window/startWaiting"}},dv=function(){return{type:"window/startChatBot"}},lv=function(e){return{type:"window/removeForm",payload:e}},uv=lv,pv=function(e){return{type:"window/toggle-warning",payload:e}},hv=function(e){return{type:"window/toggleFocus",payload:e}},fv=D(pv,""),mv=function(e){return{type:"window/toggle-error",payload:e}},bv=function(){return{type:"window/endchat"}},wv=mv,gv=D(mv,""),vv=function(){return{type:"web/fromChatbotToAgent"}},yv=function(e){return{type:"web/chatBotSelectQuestion",payload:e}},_v=function(e,t,n){return{type:"web/chatBotAnswerHelpful",payload:{ifHelpful:e,actionGuid:t,intentId:n}}},xv=function(e){return{type:"web/chatBotSelectQuestionWithAgent",payload:e}},kv=function(e,t,n){return{type:"web/chatBotAnswerHelpfulWithAgent",payload:{ifHelpful:e,actionGuid:t,intentId:n}}},Cv=function(e,t,n,i,o){return{type:"web/chatBotVisitorCancelBotForm",payload:{formActionType:2,guid:e,intentId:t,formName:n,senderId:i,senderType:o}}},Sv=function(e,t,n,i,o,r,a){return{type:"web/chatBotVisitorSubmitBotForm",payload:{formActionType:0,guid:e,intentId:t,formName:n,values:o,needConfirm:i,senderId:r,senderType:a}}},Av=function(e,t,n,i,o,r){return{type:"web/chatBotVisitorConfirmBotForm",payload:{formActionType:1,guid:e,intentId:t,formName:n,values:i,senderId:o,senderType:r}}},Mv=function(e,t,n){return{type:"window/updateChatIdentity",payload:{chatId:e,chatGuid:t,serverTime:n}}},Tv=function(e,t){return{type:"chatWindow/chatInputWarning",payload:{type:e,params:t}}},Iv=function(e){return{type:"window/setFrequencyLimitState",payload:e}},Pv=function(){return{type:"web/startChatAgain"}},Dv=function(e){return{type:"window/contentScrollStatusUpdate",payload:e}},Nv=function(e){return{type:"window/toggle-disable",payload:e}},Rv=D(Nv,!0),Ov=(D(Nv,!1),function(){return{type:"chatWindow/popOut"}}),Wv=function(){return{type:"chatWindow/popIn"}},Ev=function(e){return{type:"window/updateQueue",payload:e}},Bv=function(e){return{type:"chatinput/setVisitorIsTyping",payload:{message:e}}},Lv=function(e,t){return{type:"window/prepareP2pChat",payload:{localVideoContainer:e,remoteVideoContainer:t}}},Fv=function(){return{type:"sideWindow/hideAudioVideoChat"}},zv=function(e,t){return{type:"window/acceptAudioVideoChat",payload:{localVideoContainer:e,remoteVideoContainer:t}}},Vv=function(e){return{type:"sideWindow/sideWidowTabSelect",payload:e}},Uv=function(e){return{type:"sideWindow/toggleSideWindow",payload:e}},Hv=function(e){return{type:"sideWindow/setWindowTabs",payload:e}},jv=function(e){return{type:"window/updateMaxReadId",payload:e}},Yv=function(){return{type:"window/closeMinimizeBubble"}},Gv=function(e){return{type:"window/togglePopupBubble",payload:e}},qv=function(){return{type:"window/closeSliently"}},Zv=function(e){return{type:"window/setId",payload:e}},Kv=function(){return{type:"window/remove-agent-is-typing"}},Qv=function(){return{type:"window/mounted"}},Jv=function(e){return{type:"window/chatbotTimeout",payload:e}},Xv=function(){return{type:"window/resetMaxId"}},$v=function(){return{type:"web/fromKBToAgent"}},ey=function(e){return{type:"window/articleClickTitile",payload:e}},ty=function(){return{type:"window/error-articles"}},ny=function(e,t,n,i){return{type:"window/openBotLoginWindow",payload:{signInUrl:e,signInText:t,signInType:n,signInFrame:i}}},iy=function(){return{type:"window/closeBotLoginWindow"}},oy=function(){return{type:"window/cleanUpCobrowseRequest"}},ry=function(){return{type:"window/endCobrowse"}},ay=function(){return{type:"window/cleanPendingMessages"}},sy=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"web/sendAction",payload:1===t.length?t[0]:sp(t)}},cy=function(){return{type:"web/pageHeartbeat"}},dy=function(){return{type:"web/chatHeartbeat"}},ly=function(e){return{type:"web/submitRating",payload:e}},uy=function(e){return{type:"web/emailTranscript",payload:e}},py=function(){return{type:"web/endChat"}},hy=function(e,t){return{type:"web/submitPrechat",payload:{form:e,onSuccess:t}}},fy=function(e,t){return{type:"web/submitPostChat",payload:{form:e,onSuccess:t}}},my=function(e,t){return{type:"web/submitOfflineMessage",payload:{form:e,onSuccess:t}}},by=function(e){return{type:"web/submitSSOInfo",payload:e}},wy=function(e){return{type:"web/submitSSOInfo4ChatBot",payload:e}},gy=function(){return{type:"web/skipLogin"}},vy=function(){return{type:"web/sendPageVisit"}},yy=function(){return{type:"web/prechatHeartbeat"}},_y=function(){return{type:"web/offlineHeartbeat"}},xy=function(e){return{type:"web/updateCustomVariables",payload:e}},ky=function(e){return{type:"window/sendChatMessages",payload:e}},Cy=function(){return{type:"window/hangupAudioVideoChat"}},Sy=function(e){return{type:"web/getChatButton",payload:{campaignId:e,alreadyCampaignId:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}},Ay=function(){return{type:"web/getConfig"}},My=function(){return{type:"web/getChatWindowConfig"}},Ty=function(e){return{type:"web/getArticles",payload:e}},Iy=function(e){return{type:"web/getArticleByID",payload:e}},Py=function(e,t){return{type:"window/sendChatMessages",payload:[{type:e,time:new Date,content:t,sender:{type:"visitor"},guid:R()}]}},Dy=function(){return Py("pendingCobrowseAccept",R())},Ny=function(){return Py("pendingCobrowseStart")},Ry=function(){return Py("pendingCobrowseRefuse")},Oy=function(){return Py("pendingCobrowseNotSupport")},Wy=function(){return Py("pendingCobrowseBrowserNotSupport")},Ey=function(){return Py("pendingCobrowseEnd")},By=function(){return Py("pendingCobrowseHttpNotSupport")},Ly=function(e,t,n){return n+"_"+e+(t?"_"+t:"")},Fy=function(){var e={};return{get:function(t){return e[t]||null},set:function(t,n){null!=n&&(e[t]=n)},setSession:function(t,n){e[t]=n},remove:function(t){delete e[t]}}}(),zy={get:function(e){for(var t=qc.cookie,n=t.split("; "),i=0;i<n.length;i+=1){var o=n[i].split("=");if(null!=o&&2===o.length&&e===o[0])return o[1]}return null},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==t&&(qc.cookie=e+"="+t+";path=/;"+(n?"secure=true;":"")+"expires=Sat, 01 Jan 10000 00:00:00 GMT")},setSession:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null!==t&&(qc.cookie=e+"="+t+";path=/;"+(n?"secure=true;":""))},remove:function(e){qc.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}},Vy=zy,Uy=function(){Vy=Fy},Hy=function(e){return Vy.get(e)},jy=function(e){return Vy.remove(e)},Yy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vy.set(e,t,n)},Gy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Vy.setSession(e,t,n)},qy=function(e){var t=void 0;return function(){return void 0===t&&(t=e()),t}}(function(){var e="livechattestkey",t=Gc.sessionStorage;try{return t.setItem(e,"test"),t.removeItem(e),!1}catch(e){return e.code===DOMException.QUOTA_EXCEEDED_ERR&&0===t.length}}),Zy=function(e){var t=window[e]||{};return window[e]=t,{getItem:function(e){return t[e]},setItem:function(e,n){t[e]=n.toString()},removeItem:function(e){delete t[e]}}},Ky=function(){return!window.localStorage||qy()?Zy("localStorage"):Gc.localStorage},Qy=Ky(),Jy=function(){return!window.sessionStorage||qy()?Zy("sessionStorage"):Gc.sessionStorage}(),Xy=!1,$y=function(e){Xy=e},e_=function(e){return isNaN(+e)||0==+e?null:Math.floor(+e)},t_=function(e){return Ly(ow,rw,e?"Comm100_CC_Identity":"comm100standby_id")},n_=function(e){return jy(t_(e))},i_=function(e){return Ly(ow,rw,e?"comm100_visitor":"comm100standby_visitor")},o_=function(e){return e_(Hy(i_(e)))},r_=function(e,t){(Xy?Gy:Yy)(i_(t),e)},a_=function(){return Ly(ow,rw,"comm100_guid2")},s_=function(){return Hy(a_())},c_=function(e){e&&Gy(a_(),e)},d_=function(){return Ly(ow,rw,"comm100_visitor")},l_=function(e){try{return JSON.parse(Qy.getItem(e))||{}}catch(e){return{}}},u_=function(e){try{return JSON.parse(Jy.getItem(e))||{}}catch(e){return{}}},p_=function(){return l_(d_())},h_=function(e){return Qy.setItem(d_(),JSON.stringify(cs({},p_(),e)))},f_=function(){return Ly(ow,rw,"comm100_chat")},m_=function(e){var t=l_(f_());return t.chatGuid===e?t:{}},b_=function(e,t){if(Qy){var n=m_(e);Qy.setItem(f_(),JSON.stringify(n.chatGuid===e?cs({},n,t):cs({chatGuid:e},t)))}},w_=function(){return Ly(ow,rw,"comm100_session")},g_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s_(),t=l_(w_());return t.visitorGuid===e?t:{}},v_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s_(),n=g_(t);Qy.setItem(w_(),JSON.stringify(n.visitorGuid===t?cs({},n,e):cs({visitorGuid:t},e)))},y_=function(){return Ly(ow,rw,"comm100_page")},__=function(){return u_(y_())},x_=function(e){return Jy&&Jy.setItem(y_(),JSON.stringify(cs({},__(),e)))},k_=function(){return Ly(ow,rw,"comm100_session")},C_=function(){return Ly(ow,rw,"comm100standby_session")},S_=function(){jy(k_()),jy(C_()),n_(!0),n_(!1)},A_=function(){x_({mediaChatHash:Date.now().toString()})},M_=function(){return __().mediaChatHash},T_=function(e){return m_(e).mediaChatHash},I_=function(e){b_(e,{mediaChatHash:M_()})},P_=function(e){var t=T_(e);t&&t===M_()&&b_(e,{mediaChatHash:null})},D_=function(e){b_(e,{mediaChatHash:null}),x_({mediaChatHash:null})},N_=function(e,t,n){return{type:"form/update-value",payload:{id:t,value:n},meta:{formType:e}}},R_=function(e,t,n){return{type:"form/update-error",payload:{id:t,error:n},meta:{formType:e}}},O_=function(e,t){return{type:"form/focus",payload:{id:t},meta:{formType:e}}},W_=function(e,t){return{type:"form/blur",payload:{id:t},meta:{formType:e}}},E_=function(e){return{type:"form/submit-start",payload:e,meta:{formType:e}}},B_=function(e){return{type:"form/submit-success",payload:e,meta:{formType:e}}},L_=function(e){return{type:"form/submit-fail",payload:e,meta:{formType:e}}},F_=function(e,t){return{type:"form/update",payload:e,meta:t}},z_=function(e){return{type:"form/reset",meta:e}},V_=function(e){return{type:"form/fill-default",payload:e}},U_=function(e,t){return{type:"form/submit-social",payload:t,meta:{formType:e}}},H_=function(e,t){return{type:"form/validate-all",payload:{ids:t},meta:{formType:e}}},j_=function(e,t){return function(n,i,o){return function(r){return new Promise(function(a,s){var c=o.filter(function(e){return""!==e.error});if(c.length>0){var d=c.map(function(e){return e.id});return r(H_(t,d)),void s(d)}var l=qb(o),u=__(),p=u.popout;p&&p.ticketId&&!Number.isNaN(+p.ticketId)&&(l.ticketId=+p.ticketId),p&&p.departmentId&&!Number.isNaN(+p.departmentId)&&(l.department=+p.departmentId),r(E_(t)),yx(n+".submit",l),r(e(Bb(l),function(e){return new Promise(function(s){yx(n+".submit.success"),r(B_(t));var c=l;if(l.custom){var d=Object.keys(l.custom).reduce(function(e,t){var n=o.find(function(e){return e.id===+t}),i=e;return i[n.label]=l.custom[t],i},{});c=cs({},l,{custom:d})}r(F_(c,t)),setTimeout(function(){r("offline"===t?Rv():z_(t)),s(e),a()},i)})},function(e){yx(n+".submit.fail",e),s(null,e)}))})}}},Y_=j_(hy,"prechat"),G_=j_(fy,"postchat"),q_=j_(my,"offline"),Z_=function(e,t,n){return"prechat"===e?Y_("livechat.prechat",t,n):"postchat"===e?G_("livechat.postChat",t,n):q_("livechat.offlineMessage",t,n)},K_=3e4,Q_=18e4,J_=function(e,t){return e===t||(void 0===e?"undefined":as(e))===(void 0===t?"undefined":as(t))&&(null==e||null==t?e==t:Object.keys(e).reduce(function(n,i){return n&&e[i]===t[i]},!0)&&Object.keys(t).reduce(function(n,i){return n&&t[i]===e[i]},!0))},X_=function(e,t){return Object.keys(e).reduce(function(n,i){if(e[i]===t[i])return n;var o=n;return o[i]=e[i],o},{})},$_=function(e){if(wl(e.getState()))return null
;var t=null,n=null,i=function(){if(null===t){var n=e.getState(),i=Im(n),o=D(Me,e);t=setInterval(function(){var e=fb(i);o(e)},1e3)}},o=function(){t&&clearInterval(t),n&&clearTimeout(n),t=null,n=null},r=e.getState(),a=e.subscribe(function(){var t=e.getState();if(gl(t)||yl(t))o();else if(!ml(r)&&ml(t)){if(gl(t))return;if(null==Im(t))return;i(),n=setTimeout(o,1e3*Pl(t))}r=t});return function(){a(),o()}},ex=function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.forEach(function(t){e.dispatch(t.apply(void 0,i))})}}},tx=function(e,t){Qc[e]=function(){return t.apply(void 0,arguments)}},nx=function(e){return function(){return Cp(e.getState())}},ix=function(e){return function(){return qp(e.getState())}},ox=function(e){return function(){return"mobile"===e.getState().page.platform}},rx=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p(e.getState());return!!Vp(e.getState()).find(function(e){return e.id===t})}},ax=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p(e.getState());return kp(e.getState())[t]?"online":"offline"}},sx=function(e){return function(){return!!Hp(e.getState())}},cx=function(e){return function(){return nf(e.getState())}},dx=function(e,t){return function(n){var i=n;return void 0===i&&(i=sw()[0]),_m(t.getState(),e,i)}},lx=function(e){return function(){return ih(e.getState())}},ux=function(e){return function(){return Mp(e.getState())}},px=function(e){return{"livechat.siteId":nx(e),"livechat.campaignIds":sw,"livechat.isDynamicCampaign":ix(e),"livechat.isMobile":ox(e),"livechat.button.isVisible":rx(e),"livechat.button.status":ax(e),"livechat.prechat.isSkip":sx(e),"livechat.prechat.fields":dx("prechat",e),"livechat.postChat.fields":dx("postchat",e),"livechat.offlineMessage.fields":dx("offline",e),"livechat.sideWindow.isVisible":cx(e),"livechat.sideWindow.tabs":lx(e),"livechat.visitor.guid":ux(e)}},hx=function(e,t){return function(n,i){var o=i||sw()[0];e.dispatch(Kg(t,n,o))}},fx=function(e){var t=ex(e),n=t(Gg);return{"livechat.customVariables":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Me(e,Array.prototype.reduce.call(t,function(e,t){var n=e;return void 0===t.value?n:(n[t.name]=""+t.value,n)},{}),!1)},"livechat.button.isVisible":function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_p(e.getState());n(t,i)},"livechat.prechat.isSkip":t(Bg),"livechat.prechat.fields":hx(e,"prechat"),"livechat.postChat.fields":hx(e,"postchat"),"livechat.offlineMessage.fields":hx(e,"offline"),"livechat.sideWindow.isVisible":t(Uv),"livechat.sideWindow.tabs":t(Hv)}},mx=function(e,t){return function(){return t.dispatch(Z_(e,0,_m(t.getState(),e,oh(t.getState()))))}},bx=function(e){var t=ex(e),n=t(Rg),i=t(Dg),o=t(Wg),r=t(py),a=function(e){return t(D(O_,e))},s=function(t){return function(n){var i=Z(e.getState());i&&n===i.id&&t(_p(e.getState()))}},c=t(Sg,Ig);return{"livechat.button.click":function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p(e.getState());return c(t)},"livechat.invitation.accept":s(t(Cg,Ig)),"livechat.invitation.refuse":s(t(Ag)),"livechat.prechat.minimize":n,"livechat.chat.minimize":n,"livechat.postChat.minimize":n,"livechat.offlineMessage.minimize":n,"livechat.prechat.restore":i,"livechat.chat.restore":i,"livechat.postChat.restore":i,"livechat.offlineMessage.restore":i,"livechat.prechat.close":o,"livechat.chat.close":o,"livechat.postChat.close":o,"livechat.offlineMessage.close":o,"livechat.chat.endChat":r,"livechat.prechat.field.focus":a("prechat"),"livechat.postChat.field.focus":a("postchat"),"livechat.offlineMessage.field.focus":a("offline"),"livechat.prechat.submit":mx("prechat",e),"livechat.postChat.submit":mx("postchat",e),"livechat.offlineMessage.submit":mx("offline",e),"livechat.sideWindow.tabs.click":t(Vv)}},wx={},gx=function(){return wx},vx={},yx=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];vx[e]&&setTimeout(function(){vx[e].forEach(function(e){try{e.apply(void 0,n)}catch(e){}})},0)},_x=function(e,t){return vx[e]||(vx[e]=[]),vx[e].push(t),function(){vx[e]=vx[e].filter(function(e){return e!==t})}},xx=function(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=e[t];if(r)return r.apply(void 0,i)}},kx=function(e){wx={},vx={},Qc.get=xx(px(e)),Qc.set=xx(fx(e)),Qc.do=xx(bx(e)),Qc.render=function(e,t){wx[e]=t},Qc.on=_x;var t=ex(e),n=function(){};tx("ban",t(bg)),tx("end_chat",t(py)),tx("setIfSkipPrechat",t(Bg));var i=D(_x,"livechat.invitation.display");tx("onBeforeImageInvitationDisplay",i),tx("onAfterImageInvitationDisplay",i);var o=D(_x,"livechat.chat.display");tx("onChatWindowLoadBegin",o),tx("onChatWindowLoaded",o),tx("setIfHideChatWindowLoadingAnimation",n),tx("onChatWindowStatusChanged",n);var r=t(Sg,Ig);tx("open_chat_window",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_p(e.getState());return r(n)}),tx("set_custom_variables",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Me(e,Array.prototype.reduce.call(t,function(e,t){var n=e;return n[t.name]=""+t.value,n},{}),!1)}),Qc.setCustomVariables=Qc.set_custom_variables;var a=e.getState(),s=e.subscribe(function(){if(!ml(a)){var t=e.getState();ml(t)&&(s(),X()),a=t}});return function(){delete Qc.get,delete Qc.set,delete Qc.do,delete Qc.render,delete Qc.on,s()}},Cx=function(e){var t=T_(e);return t?t===M_():(I_(e),!0)},Sx=function(e,t){return e.concat(t)},Ax=function(e,t,n){for(var i=0;i<e.length;i+=1){var o=function(i){var o=e[i];if(n(o))return{v:e.map(function(e){return e===o?t:e})}}(i);if("object"===(void 0===o?"undefined":as(o)))return o.v}return Sx(e,t)},Mx=function(e){return"creditCardMasked"!==e.type&&"pendingAccept"!==e.type&&"pendingAudioRequesting"!==e.type&&"pendingHangup"!==e.type&&"pendingVideoRequesting"!==e.type&&"pendingSubmitSecureForm"!==e.type&&"pendingCancelSecureForm"!==e.type&&"pendingGetSecureFormFailure"!==e.type&&"pendingVisitorIsTyping"!==e.type&&"agentTyping"!==e.type&&"visitorText"!==e.type&&"visitorImage"!==e.type&&"pendingCobrowseAccept"!==e.type&&"pendingCobrowseStart"!==e.type&&"pendingCobrowseEnd"!==e.type&&"pendingCobrowseNotSupport"!==e.type&&"pendingCobrowseBrowserNotSupport"!==e.type&&"pendingCobrowseRefuse"!==e.type&&"pendingCobrowseHttpNotSupport"!==e.type&&"visitorFile"!==e.type},Tx=function(e){return"pendingAccept"!==e.type&&"pendingAudioRequesting"!==e.type&&"pendingHangup"!==e.type&&"pendingVideoRequesting"!==e.type},Ix=["pendingCobrowseAccept","pendingCobrowseStart","pendingCobrowseEnd","pendingCobrowseNotSupport","pendingCobrowseBrowserNotSupport","pendingCobrowseRefuse","pendingCobrowseHttpNotSupport"],Px=function(e){return Ix.every(function(t){return e.type!==t})},Dx=function(e,t,n){return function(i,o){var r=o.type;if("systemIfSupportWebrtc"===r||"systemGotoOfflineMessage"===r)return i;if("visitorRequestChat"===r&&""===o.content)return i;var a=cs({},o,{time:new Date(o.time-t)});if("chatbot"===a.sender.type&&"chatbotRequestQuestionGuid"!==a.type&&a.type!==Ed){var s=!1,c=i.map(function(e){return"chatbotRequestQuestionGuid"!==e.type||e.timeout||e.content!==a.content.GUID?"chatbotRequestQuestionGuid"===e.type&&e.content.GUID===a.content.GUID?(s=!0,e):e:(s=!0,a)});return s?c:Sx(i,a)}if("agentAcceptChat"===a.type){var d=i.map(function(e){return e.sender&&"agent"===e.sender.type&&0===e.sender.id?cs({},e,{sender:cs({},e.sender,{id:a.content.agent.id})}):e});return Sx(d,a)}if("agentSendImage"===a.type)return Ax(i,a,function(e){return"agentSendImageStart"===e.type&&e.content===a.content.guid});if("visitorAddTextMessage"===a.type)return Ax(i,a,function(e){return"visitorText"===e.type&&e.guid===a.guid});if("visitorSendImage"===a.type)return Ax(i,a,function(e){return"visitorImage"===e.type});if("visitorSendFile"===a.type)return Ax(i,a,function(e){return"visitorFile"===e.type});if("visitorCreditCardMasked"===a.type)return Ax(i,a,function(e){return"creditCardMasked"===e.type});if("visitorTyping"===a.type)return i;if("systemEndChat"===a.type)return i.map(function(e){return"agentRequestSecureForm"!==e.type?e:e.isHidden?e:cs({},e,{isHidden:!0})}).concat([a,{type:"startChatAgain",content:e.startChatAgain,sender:{type:"system"}},{type:"downloadTranscript",content:{text:e.downloadTranscript||"Download transcript",url:n},sender:{type:"system"}}]);if("visitorAudioChatRequest"===a.type)return Ax(i,a,function(e){return"pendingAudioRequesting"===e.type});if("chatbotJoinChat"===a.type)return Ax(i,a,function(e){return"pendingAudioRequesting"===e.type});if("visitorVideoChatRequest"===a.type)return Ax(i,a,function(e){return"pendingVideoRequesting"===e.type});if("visitorVideoChatAccept"===a.type||"visitorAudioChatAccept"===a.type)return Ax(i,a,function(e){return"pendingAccept"===e.type});if("visitorSubmitSecureForm"===a.type)return Ax(i,a,function(e){return"pendingSubmitSecureForm"===e.type});if("visitorCancelSecureForm"===a.type)return Ax(i,a,function(e){return"pendingCancelSecureForm"===e.type});if("visitorGetSecureFormFailure"===a.type)return Ax(i,a,function(e){return"pendingGetSecureFormFailure"===e.type});if("visitorAudioChatRefuse"===a.type||"visitorAudioChatStop"===a.type||"visitorAudioChatCancelRequest"===a.type||"visitorVideoChatRefuse"===a.type||"visitorVideoChatStop"===a.type||"visitorVideoChatCancelRequest"===a.type)return Sx(i.filter(Tx),a);if("cobrowseAccept"===a.type||"cobrowseCancel"===a.type||"cobrowseEnd"===a.type||"cobrowseNoAnswer"===a.type||"cobrowseNotSupport"===a.type||"cobrowseRefuse"===a.type||"cobrowseRequest"===a.type||"cobrowseStart"===a.type)return Sx(i.filter(Px),a);if("agentTyping"===a.type){var l=i.filter(function(e){return"agentTyping"!==e.type});return Sx(l,a)}if("agentSendText"===a.type&&i.length>0){if("autoInvMsg"===i[0].type&&!i.find(function(e){return"chatbotJoinChat"===e.type}))return i.map(function(e,t){return 0===t?cs({},e,{type:"agentSendText",id:a.id}):e});var u=i.filter(function(e){return"agentTyping"!==e.type});return Sx(u,a)}if("chatbotSetAnswerIfHelpful"===a.type){var p=i.map(function(e){return e.type===Wd&&e.content.GUID===a.content.guid?cs({},e,{disableRate:!0}):e});return Sx(p,a)}return Sx(i,a)}},Nx=function(e,t){return e.messages.filter(function(e){return e.type===t}).length>0},Rx=function(e){return function(t,n){var i=t.messages.concat({type:e,time:new Date,guid:n.guid,content:n.message||"",sender:{type:"visitor"}});return n.ifCardMasking&&(i=i.concat({type:"creditCardMasked",time:new Date,guid:n.guid,content:"",sender:{type:"visitor"}})),cs({},t,{messages:i})}},Ox=function(e){return function(t,n){return cs({},t,{isUploading:!0,error:"",warning:"",messages:t.messages.concat({type:e,time:new Date,content:{fileName:n.name,percent:0,onCancel:void 0},sender:{type:"visitor"}})})}},Wx=function(e,t){M_()||A_();var n=e.involvedAgents||[];return n.filter(function(e){return e===t}).length>0?cs({},e,{chatStatus:Hd}):(n=(e.involvedAgents||[]).concat([t]),cs({},e,{involvedAgents:n,chatStatus:Hd,isChatBot:!1}))},Ex=function(e,t){return cs({},e,{isChatBot:!0,chatBot:cs({},e.chatBot,function(){var e=t.content.bot;return e&&e.avatar&&-1!==e.avatar.indexOf("|")?(e.avatar=e.avatar.split("|")[1],e):e}()),chatStatus:Hd})},Bx=function(e){return cs({},e,{isChatBot:!0,chatStatus:Hd,messages:e.messages.filter(function(e){return"system"===e.sender.type}),maxId:-1})},Lx=function(e,t,n){var i=e.fields||{};return i[t]=n,{fields:i}},Fx=function(e,t){var n=e.disPlayPriority+1;e.sideWindowItems.some(function(e){var i=e.id===t;return i&&(e.disPlayPriority=n),i});var i="bubble"===t||"kbSearch"===t;return{sideWindowSelectedTab:t,disPlayPriority:n,showChatWindowInSidewindow:i,isFocused:i}},zx=function(e,t,n){var i=e.sideWindowItems;return i&&i.some(function(e){var i=e.id===t;return i&&(e.id=n),i}),{sideWindowItems:i}},Vx=function(e,t){var n=e.disPlayPriority;n?n+=1:n=0;var i=e.sideWindowItems;return i&&i.some(function(e){var i=e.id===t.id;return i&&(e.disPlayPriority=n),i})?{sideWindowSelectedTab:t.id,showChatWindowInSidewindow:!1,isFocused:!1,disPlayPriority:n}:(t.disPlayPriority=n,i&&0!==i.length||(i=[],Ob()&&i.push({id:e.tab===el?"kbSearch":"bubble",isSystem:!0,disPlayPriority:0})),i.push(t),{sideWindowItems:i,sideWindowSelectedTab:t.id,showChatWindowInSidewindow:!1,isFocused:!1,disPlayPriority:n})},Ux=function(e,t){var n=e.sideWindowItems;if(n){var i=-1;n.some(function(e,n){var o=e.id===t;return o&&(i=n),o});var o={};if(i>-1)return 1===n.length||2===n.length&&Ob()?(o.sideWindowSelectedTab=void 0,o.disPlayPriority=0,n=[]):e.sideWindowSelectedTab===t?(n.splice(i,1),o.sideWindowSelectedTab=n.reduce(function(e,t){return e.disPlayPriority>t.disPlayPriority?e:t}).id,"bubble"===o.sideWindowSelectedTab||"kbSearch"===o.sideWindowSelectedTab?(o.showChatWindowInSidewindow=!0,o.isFocused=!0,o.maxReadId=Math.max(e.maxReadId,e.maxId)):(o.showChatWindowInSidewindow=!1,o.isFocused=!1)):n.splice(i,1),o.sideWindowItems=n,o}return{}},Hx=function(e,t,n){return t?Vx(e,{id:n,isSystem:!0}):Ux(e,n)},jx=function(e,t){return cs({},e,Hx(e,"videoRequesting"===t.status||"videoIncoming"===t.status||"videoChatting"===t.status,"media"),Hx(e,"audioRequesting"===t.status||"audioIncoming"===t.status||"audioChatting"===t.status,"voice"),{vChatStatus:t.status,audioVideoChatStartTime:t.startTime||0,audio_video_disabled:"notStart"!==t.status})},Yx=function(e){return cs({},jx(e,{status:"notStart",startTime:0}),{audioVideoAgentId:0})},Gx=function(e){if(Ky().removeItem("pushpage_list"),!e)return e;var t=e.messages.filter(Mx);return cs({},e,Hx(e,!1,"kb"),Hx(e,!1,"bot"),{disPlayPriority:0,chatStatus:jd,autoEjectTranscript:!0,error:"",warning:"",messages:t})},qx=function(e,t){return Cx(e.chatGuid)?t():e},Zx=function(e){var t=e.messages.map(function(t){return t.type!==Wd||e.chatStatus===Hd&&e.isChatBot?t:cs({},t,{disableRate:!0})});return cs({},e,{messages:t})},Kx=function(e){return function(t,n){if(t.cobrowsing===e)return t;var i="requesting"===e,o="running"===e?n.content.sessionCode:void 0,r="running"===e?n.content.groupId:void 0,a="requesting"===e?n.sender.id:0;return cs({},t,Hx(t,i,"coBrowsing"),{cobrowsing:e,cobrowseSessionCode:o,cobrowseGroupId:r,cobrowseAgent:a})}},Qx=function(e,t,n,i){var o,r=(o={},o.agentAcceptChat=function(e){return Wx(e,t.content.agent.id)},o.agentJoinChat=function(e){return Wx(e,t.content.agent.id)},o.agentRefuseChat=function(e){return cs({},e,Hx(e,!1,"kb"),{chatStatus:jd})},o.systemEndChat=function(t){var o=n.postchat;return o?o.every(function(t){var n=i[t].type;return"rating"===n?e.fields.rating:n===Fd&&e.fields.comment})?Gx(t):cs({},t,Hx(t,!1,"kb"),{chatStatus:jd,tab:Xd}):Gx(t)},o.visitorRequestChat=function(e){return cs({},e,{chatStatus:Vd})},o.chatbotJoinChat=function(e,t){return Ex(e,t)},o.visitorVideoChatRequest=function(e){return qx(e,function(){return jx(e,{status:"videoRequesting"})})},o.visitorVideoChatAccept=function(e,t){return qx(e,function(){return jx(e,{status:"videoChatting",startTime:t.time-e.timeDelay})})},o.visitorAudioChatRequest=function(e){return qx(e,function(){return jx(e,{status:"audioRequesting"})})},o.visitorAudioChatAccept=function(e,t){return qx(e,function(){return jx(e,{status:"audioChatting",startTime:t.time-e.timeDelay})})},o.agentVideoChatRequest=function(e,t){return"notStart"!==e.vChatStatus?e:qx(e,function(){return cs({},jx(e,{status:"videoIncoming"}),{audioVideoAgentId:t.sender.id})})},o.agentVideoChatAccept=function(e,t){return qx(e,function(){return cs({},jx(e,{status:"videoChatting",startTime:t.time-e.timeDelay}),{audioVideoAgentId:t.sender.id})})},o.agentAudioChatRequest=function(e,t){return"notStart"!==e.vChatStatus?e:qx(e,function(){return cs({},jx(e,{status:"audioIncoming"}),{audioVideoAgentId:t.sender.id})})},o.agentAudioChatAccept=function(e,t){return qx(e,function(){return cs({},jx(e,{status:"audioChatting",startTime:t.time-e.timeDelay}),{audioVideoAgentId:t.sender.id})})},o.agentVideoChatCancelRequest=Yx,o.agentVideoChatRefuse=Yx,o.agentVideoChatStop=Yx,o.agentAudioChatStop=Yx,o.agentAudioChatRefuse=Yx,o.agentAudioChatCancelRequest=Yx,o.systemAudioChatNoAnswer=Yx,o.systemAudioChatEnd=Yx,o.systemVideoChatNoAnswer=Yx,o.systemVideoChatEnd=Yx,o.visitorAudioChatCancelRequest=Yx,o.visitorAudioChatRefuse=Yx,o.visitorAudioChatStop=Yx,o.visitorVideoChatCancelRequest=Yx,o.visitorVideoChatRefuse=Yx,o.visitorVideoChatStop=Yx,o.agentTyping=function(e){return e.limitClockerCount>0?cs({},e,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):e},o.cobrowseRequest=Kx("requesting"),o.cobrowseEnd=Kx("none"),o.cobrowseNotSupport=Kx("none"),o.cobrowseBrowserNotSupport=Kx("none"),o.cobrowseHttpNotSupport=Kx("none"),o.cobrowseCancel=Kx("none"),o.cobrowseNoAnswer=Kx("none"),o.cobrowseRefuse=Kx("none"),o.cobrowseAccept=Kx("running"),o),a=r[t.type],s=e;return a&&(s=a(e,t)),s.isFocused&&(s=cs({},s,{maxReadId:Math.max(e.maxReadId,e.maxId)})),s},Jx=function(e){return cs({fields:{name:"",email:"",phone:"",company:"",product:"",department:void 0,ticketId:void 0,custom:{}},forms:{prechat:"none",postchat:"none",offline:"none"},chatStatus:"none",messages:[],maxId:-1,involvedAgents:[],draft:"",maxReadId:-1,isFocused:!1,isFrequencyLimited:!1,showPrelogin:!1,ssoUrl:"",queue:{},error:"",warning:"",fileUploadCount:0,disabled:!1,vChatStatus:"notStart",audioVideoChatStartTime:0,stopLimitClocker:!1,limitClockerCount:0,popupBubble:!1,cobrowsing:"none",cobrowseAgent:0},e)},Xx=function(e,t){var n=t.isManual,i=n&&(t.type===dm||t.type===cm),o=t.chat;return Jx({id:e,tab:Jd,chatStatus:Ud,chatId:o&&o.id,chatGuid:o&&o.guid,messages:i?[]:[{id:-1,time:new Date,type:"autoInvMsg",sender:{id:t.agent?t.agent.id:0,type:"agent"},content:t.text}],involvedAgents:t.agent?[t.agent.id]:[]})},$x=(Vw={},Vw["chatWindow/open"]=function(e,t){var n=t.campaignId;return Jx({id:n,tab:"loading"})},Vw["web/startChatAgain"]=function(e){return Jx({id:e.id,tab:"loading"})},Vw[eg]=function(e,t,n){var i=n.campaignId;return e||(t.type===cm||t.type===dm&&t.isManual?Xx(i,t):e)},Vw["sso/updateSSO"]=function(e,t){return cs({},e,t)},Vw["window/updateChatBot"]=function(e,t){return cs({},e,{chatBot:function(){var e=t;return e&&e.avatar&&-1!==e.avatar.indexOf("|")?(e.avatar=e.avatar.split("|")[1],e):e}()})},Vw["window/updateKBConfig"]=function(e,t){return cs({},e,{kbConfig:t})},Vw[tg]=function(e,t,n){var i=n.campaign,o=n.fields,r=n.downloadUrl,a=t.find(function(e){return"visitorTyping"===e.type}),s=e.visitorTyping;a&&(s=!1);var c=t.find(function(e){return"visitorRequestChat"===e.type})&&e.messages.find(function(e){return"visitorRequestChat"===e.type}),d=t.find(function(e){return"systemPromoteOfflineMesage"===e.type})&&e.messages.find(function(e){return"systemPromoteOfflineMesage"===e.type}),l=t.filter(function(t){var n=(void 0===t.id||t.id>e.maxId)&&"visitorTyping"!==t.type;return(!n||!c||"visitorRequestChat"!==t.type)&&((!n||!d||"systemPromoteOfflineMesage"!==t.type)&&n)}),u=l.reduce(Dx(i.languages,e.timeDelay||0,r),e.messages);if(u!==e.messages){var p=u.filter(function(e){return"visitorImage"===e.type||"visitorFile"===e.type});if(p.length>0){u=u.filter(function(e){return"visitorImage"!==e.type&&"visitorFile"!==e.type}).concat(p)}var h=l.reduce(function(e,t){return Qx(e,t,i,o)},cs({},e,{messages:u,visitorTyping:s,maxId:Math.max(e.maxId,t[t.length-1].id)}));return h=Zx(h)}return s!==e.visitorTyping?cs({},e,{visitorTyping:s,maxId:Math.max(e.maxId,t[t.length-1].id)}):cs({},e,{maxId:Math.max(e.maxId,t[t.length-1].id)})},Vw["window/sendText"]=function(e,t){var n=Rx("visitorText")(e,t);return cs({},n,{visitorTyping:!1,draft:""})},Vw["window/sendImage"]=Ox("visitorImage"),Vw["window/sendFile"]=Ox("visitorFile"),Vw["chatinput/setVisitorIsTyping"]=function(e,t){var n=cs({},e);return e.chatStatus!==Hd?n:e.chatStatus===Hd&&e.isChatBot?n:(n.visitorTyping=!0,n.draft=t.message,n)},Vw["window/update-upload"]=function(e,t){var n=!1,i=e.messages.map(function(e){return"visitorFile"===e.type||"visitorImage"===e.type?(n=!0,cs({},e,{content:cs({},e.content,{filename:t.name,percent:t.percent,onCancel:t.onCancel})})):e});return n?cs({},e,{messages:i}):e},Vw["window/fail-file"]=function(e,t){var n=e.messages.filter(function(e){return"visitorFile"!==e.type&&"visitorImage"!==e.type}),i="";return"string"==typeof t?i=t:"object"===(void 0===t?"undefined":as(t))&&null!==t&&(i=t.message||""),e.chatStatus===jd&&(i=""),cs({},e,{messages:n,error:i,isUploading:!1})},Vw["window/sucess-file"]=function(e){return cs({},e,{error:"",isUploading:!1,fileUploadCount:e.fileUploadCount+1})},Vw["form/submit-start"]=function(e,t){var n;return cs({},e,{forms:cs({},e.forms,(n={},n[t]="pending",n)),error:"",warning:""})},Vw["form/submit-success"]=function(e,t,n){var i;return cs({},e,{autoEjectTranscript:"postchat"===t,forms:cs({},e.forms,(i={},i[t]="success",i)),messages:"postchat"!==t?e.messages:e.messages.concat({type:"postChatSuccess",content:n.eventRatingSubmitSuccess,sender:{type:"system"}})})},Vw["window/addSystemMessage"]=function(e,t){return cs({},e,{messages:e.messages.concat([{type:"systemPrompt",sender:{type:"system"},content:t}])})},Vw["form/submit-fail"]=function(e,t){var n;return cs({},e,{forms:cs({},e.forms,(n={},n[t]="fail",n))})},Vw["form/update"]=function(e,t){var n=void 0;if(t.custom){var i=cs({},e.fields.custom,t.custom);n=cs({},e.fields,t,{custom:i})}else n=cs({},e.fields,t);return cs({},e,{fields:n})},Vw["form/fill-default"]=function(e,t){var n=e.fields.custom;t.custom&&(n=cs({},e.fields.custom,t.custom),Object.keys(e.fields.custom).forEach(function(t){e.fields.custom[t]&&(n[t]=e.fields.custom[t])}));var i=cs({},e.fields,t,{custom:n});return Object.keys(e.fields).forEach(function(t){"custom"!==t&&e.fields[t]&&(i[t]=e.fields[t])}),cs({},e,{fields:i})},Vw["chatWindow/showTab"]=function(e,t,n){var i=cs({},e,{tab:t});if(t===$d&&n){var o=i.messages.filter(function(e){return"visitorAddTextMessage"===e.type}).map(function(e){return e.content}).join(",");i=cs({},i,{fields:cs({},i.fields,{content:o})})}return i},Vw["window/startWaiting"]=function(e){return cs({},e,{chatStatus:Vd,allowWaitingSendMessage:e.isChatBot||e.chatStatus===Ud})},Vw["window/removeForm"]=function(e,t){return cs({},e,{messages:e.messages.map(function(e){return"agentRequestSecureForm"!==e.type?e:e.content.url.indexOf("otk="+t)>0?cs({},e,{isHidden:!0}):e})})},Vw["window/startChatBot"]=function(e){return Bx(e)},Vw["window/toggle-error"]=function(e,t){return e&&e.error!==t?cs({},e,{error:t}):e},Vw["window/toggle-warning"]=function(e,t){return e&&e.warning!==t?cs({},e,{warning:t,stopLimitClocker:""===t||e.stopLimitClocker,limitClockerCount:""===t?0:e.limitClockerCount}):e},Vw["window/endchat"]=Gx,Vw["window/updateChatIdentity"]=function(e,t){var n=0;return t.serverTime>0&&(n=yd(t.serverTime)),cs({},e,{chatId:t.chatId,chatGuid:t.chatGuid,timeDelay:n})},Vw["window/toggleFocus"]=function(e,t){return null==e?e:e.isFocused===t?e:cs({},e,{isFocused:t,maxReadId:t?Math.max(e.maxId,e.maxReadId):e.maxReadId})},Vw[ng]=function(e,t){return t===fl?null:t===pl?cs({},e,{isFocused:!1,maxReadId:Math.max(e.maxId,e.maxReadId)}):(t===ul&&kd&&yx("livechat.chatwindow.restore"),t===dl||t===ul?cs({},e,{isFocused:!0,maxReadId:Math.max(e.maxId,e.maxReadId)}):e)},Vw["window/contentScrollStatusUpdate"]=function(e,t){return cs({},e,{ifHideBio:t})},Vw["web/chatBotAnswerHelpful"]=function(e,t){if(e.chatStatus===Hd&&e.isChatBot){var n=e.messages.map(function(e){return e.type===Wd&&e.content.GUID===t.actionGuid?cs({},e,{disableRate:!0}):e});return cs({},e,{messages:n})}return e},Vw["chatWindow/chatInputWarning"]=function(e,t,n){var i,o=n.maxLength,r=n.languages,a=(i={},i.maxLengh=function(){return r.promptInputLimit.replace(zd,o)},i.emptyFile=function(){return"File must not be empty."},i.maxFileSize=function(){return r.promptFileSizeExceed.replace("{fileSize}",t.params.fileSize)},i.limited=function(){return"You're sending messages too frequently. Please wait for "+t.params.seconds+" second(s) and try again."},i.maxFileCount=function(){return r.promptSendFileCountLimit.replace("{fileCount}",t.params.fileCount)},i);return"limited"===t.type&&t.params.fromClocker&&e.stopLimitClocker?e:"limited"===t.type&&e.limitClockerCount>=10?cs({},e,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):a[t.type]?cs({},e,{warning:a[t.type](),stopLimitClocker:"limited"!==t.type&&e.stopLimitClocker,limitClockerCount:"limited"===t.type?e.limitClockerCount+1:e.limitClockerCount}):e},Vw["web/fromChatbotToAgent"]=function(e){var t=e.messages;return"autoInvMsg"===t[0].type&&(t=t.map(function(e,t){return 0===t?cs({},e,{type:"agentSendText"}):e})),cs({},e,{chatWithAgentClicked:!0,messages:t})},Vw["window/toggle-disable"]=function(e,t){return t===e.disabled?e:cs({},e,{disabled:t})},Vw["chatWindow/popOut"]=function(){return null},Vw["window/updateQueue"]=function(e,t){return 0===t.position&&0===t.waitTime?e:cs({},e,{queue:{position:t.position,waitTime:Math.ceil(t.waitTime/60)}})},Vw["window/updateVideoStatus"]=jx,Vw["footer/chatToolVideo"]=function(e,t){return cs({},e,{showChatWindowInSidewindow:e.showChatWindowInSidewindow&&!t,maxReadId:e.showChatWindowInSidewindow&&!t?Math.max(e.maxReadId,e.maxId):e.maxReadId,audio_video_disabled:!0,isFocused:e.showChatWindowInSidewindow&&!t})},Vw["footer/chatToolAudio"]=function(e,t){return cs({},e,{showChatWindowInSidewindow:e.showChatWindowInSidewindow&&!t,maxReadId:e.showChatWindowInSidewindow&&!t?Math.max(e.maxReadId,e.maxId):e.maxReadId,audio_video_disabled:!0,isFocused:e.showChatWindowInSidewindow&&!t})},Vw["footer/chatToolRating"]=function(e,t){var n=cs({},e.fields,{rating:t.score,comment:t.comment});return cs({},e,{fields:n})},Vw["window/sendChatMessages"]=function(e,t){var n=[];return t.forEach(function(t){("pendingAccept"!==t.type||Nx(e,"pendingAccept"))&&("pendingHangup"!==t.type||Nx(e,"pendingHangup"))&&("pendingGetSecureFormFailure"!==t.type||Nx(e,"pendingGetSecureFormFailure"))&&("pendingCobrowseStart"!==t.type||Nx(e,"pendingCobrowseEnd")||"none"===e.cobrowsing)?"pendingHangup"!==t.type&&"pendingAccept"!==t.type&&"pendingGetSecureFormFailure"!==t.type&&n.push(t):n.push(t)}),cs({},e,{messages:e.messages.concat(n)})},Vw["sideWindow/sideWidowTabSelect"]=function(e,t){var n={};return n.showChatWindowInSidewindow="bubble"===t,n.isFocused=n.showChatWindowInSidewindow,n.maxReadId=n.showChatWindowInSidewindow?Math.max(e.maxReadId,e.maxId):e.maxReadId,cs({},e,n,Fx(e,t))},Vw["sideWindow/toggleSideWindow"]=function(e,t){return t?e.sideWindowSelectedTab?e:e.sideWindowItems&&0!==e.sideWindowItems.length?cs({},e,Fx(e,e.sideWindowItems[0].id)):e:e.sideWindowSelectedTab?cs({},e,{sideWindowSelectedTab:void 0}):e},Vw["window/hangupAudioVideoChat"]=function(e){return Yx(e)},Vw["sideWindow/closeKnowledgeBase"]=function(e){return cs({},e,Hx(e,!1,"kb"))},Vw["sideWindow/showKnowledgeBaseInfo"]=function(e){return cs({},e,Hx(e,!0,"kb"))},Vw["sideWindow/replaceSideWindowTab"]=function(e,t){return cs({},e,zx(e,t.targetTab,t.newTab))},Vw["window/updateMaxReadId"]=function(e,t){return cs({},e,{maxReadId:t})},Vw["window/updateWindowId"]=function(e,t){return cs({},e,{id:t})},Vw["window/closeMinimizeBubble"]=function(e,t,n){return n?null:e},Vw["window/togglePopupBubble"]=function(e,t){return e?e.popupBubble===t?e:cs({},e,{popupBubble:t,autoEjectTranscript:!1}):e},Vw["sideWindow/setWindowTabs"]=function(e,t){var n=e;if(t&&t.length>0){[].concat(t).forEach(function(e){n=Vx(n,e)})}return cs({},e,n)},Vw["window/setFrequencyLimitState"]=function(e,t){return e.frequencyLimitState===t?e:cs({},e,{frequencyLimitState:t})},Vw["web/emailTranscript"]=function(e,t){return cs({},e,Lx(e,Ld,t))},Vw["window/setId"]=function(e,t){return null==e?e:e.id===t?e:cs({},e,{id:t})},Vw["window/remove-agent-is-typing"]=function(e){return cs({},e,{messages:e.messages.filter(function(e){return"agentTyping"!==e.type})})},Vw["window/chatbotTimeout"]=function(e,t,n){if(null==e)return e;if(null==e.messages)return e;var i=e.messages.map(function(e){return"chatbotRequestQuestionGuid"===e.type&&e.content===t?cs({},e,{timeout:!0,content:{GUID:e.content,Message:"Oops. I'm having trouble connecting to the server. ",TextChatWithAgent:n.buttonChatbotChatWithAgent},sender:{type:"chatbot"}}):e});return cs({},e,{messages:i})},Vw["window/resetMaxId"]=function(e){var t=e.messages.length,n=e.messages.map(function(e,n){return cs({},e,{id:n-t})});return cs({},e,{maxId:-1,maxReadId:-1,messages:n})},Vw["web/fromKBToAgent"]=function(e){return cs({},e,{kbChatWithAgentClicked:!0})},Vw["web/getArticles"]=function(e){return cs({},e,{kb:cs({},e.kb,{isLoading:!0})})},Vw["window/success-articles"]=function(e,t){var n=t.map(function(e){return e.id}),i="";return(!n||n.length<=0)&&(i="No records were found."),cs({},e,{kb:cs({},e.kb,{articles:n,notFoundStr:i,isLoading:!1}),error:""})},Vw["window/success-articleByID"]=function(e,t){return cs({},e,Hx(e,!0,"kb"),{kb:cs({},e.kd,{activeArticle:t}),error:""})},Vw["window/articleClickTitile"]=function(e,t){return cs({},e,Hx(e,!0,"kb"),{kb:cs({},e.kb,{activeArticle:t})})},Vw["window/error-articles"]=function(e){return cs({},e,{error:"Network error",kb:{isLoading:!1}})},Vw["window/error-articleByID"]=function(e,t){return cs({},e,{error:404===t?"Page not found":"Network error"})},Vw["window/openBotLoginWindow"]=function(e,t){return cs({},e,Hx(e,!0,"bot"),{bot:{activeBot:t}})},Vw["window/closeBotLoginWindow"]=function(e){return cs({},e,Hx(e,!1,"bot"))},Vw["window/cleanUpCobrowseRequest"]=function(e){for(var t=e.messages,n=t.length-1;n>=0&&"cobrowseRequest"!==t[n].type;n-=1);return cs({},Kx("none")(e),{messages:t.slice(0,n).concat(t.slice(n+1,t.length))})},Vw["window/cleanPendingMessages"]=function(e){return cs({},e,{messages:e.messages.filter(Tx).filter(Px)})},Vw),ek=Jc(null,$x),tk={},nk=(Uw={},Uw["config/updateConfig"]=function(e,t){return cs({},e,t)},Uw),ik=Jc(tk,nk),ok=function(e){return e.entities.campaigns.entities[e.window.id].languages},rk=function(e,t){return cs({},t,{config:ok(e)})},ak=(Hw={},Hw["chatWindow/open"]=function(e,t){return cs({},t,{config:em(e,t.payload.campaignId)})},Hw[eg]=function(e,t){var n=ib(e);return cs({},t,{config:{campaignId:_p(e),buttonType:em(e,_p(e)),ifHideAgentName:jl(e),agentDefaultName:n&&n.operatorDefaultName||"Agent"}})},Hw["chatWindow/chatInputWarning"]=function(e,t){return cs({},t,{config:{languages:ok(e),maxLength:El(e)}})},Hw["window/chatbotTimeout"]=function(e,t){return rk(e,t)},Hw[tg]=function(e,t){var n=rh(e),i=e.entities.fields.entities,o=rb(e),r=jl(e),a=n&&n.languages,s=a?a.operatorDefaultName:"Agent";return cs({},t,{config:{campaign:n,fields:i,downloadUrl:o,ifHideAgentName:r,agentDefaultName:s}})},Hw["form/submit-success"]=rk,Hw["window/closeMinimizeBubble"]=function(e,t){return cs({},t,{config:$m(e)})},Hw["window/closeSliently"]=function(){return Wg()},Hw["chatWindow/showTab"]=function(e,t){var n="autoInvitation"===Dp(e);return cs({},t,{config:n})},Hw["window/articleClickTitile"]=function(e,t){var n=vf(e,t.payload);return cs({},t,{payload:n})},Hw["entities/updateAgent"]=function(e,t){var n=jl(e),i=pb(e),o=i&&i.languages,r=o?o.operatorDefaultName:"Agent";return cs({},t,{config:{ifHideAgentName:n,agentDefaultName:r}})},Hw),sk=function(e,t){return ak[t.type]?ak[t.type](e,t):t},ck=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"==typeof e[o]&&(n[o]=e[o])}var r,a=Object.keys(n);try{ae(n)}catch(e){r=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(r)throw r;for(var i=!1,o={},s=0;s<a.length;s++){var c=a[s],d=n[c],l=e[c],u=d(l,t);if(void 0===u){var p=re(c,t);throw new Error(p)}o[c]=u,i=i||u!==l}return i?o:e}}({app:ag,page:lg,entities:mg,window:ek,configuration:ik}),dk=function(e,t){return ck(e,sk(e,t))},lk=function(){var e=__().popout;if(e){var t={};return e.ticketId&&(t.ticketId=e.ticketId),e.departmentId&&(t.department=e.departmentId),t}return{}},uk=function(e){var t=e.dispatch,n=e.getState;return function(e){
return function(i){if(!n())return e(i);if(i.type===ig&&Qm(n())<=0&&h_({isBanned:!0}),"page/updateVisitor"===i.type){var o=i.payload,r=o.id,a=o.guid,s=o.standbyId;r>0&&r_(r,!0),s>0&&r_(s,!1),a&&c_(a);if((r||s||0)<=0){var c=p_(),d=c.firstVisitTime,l=c.visitTimes;h_({firstVisitTime:d||(new Date).getTime(),visitTimes:(l||0)+1})}else h_({firstVisitTime:void 0,visitTimes:void 0})}if("chatWindow/showTab"===i.type&&i.payload===Qd){var u=void 0,p=$f(n(),oh(n())),h=p.routeDepartment;h&&(u={department:h});var f=p_();u=cs({},f?f.form:{},u,wl(n())?lk():{}),Object.keys(u).length>0&&e(V_(u))}if("chatWindow/showTab"===i.type&&i.payload===$d){var m=void 0,b=$f(n(),oh(n())),w=b.routeDepartment;w&&(m={department:w}),wl(n())&&(m=cs({},m,lk())),m&&e(V_(m))}if(i.type===eg){var g=i.payload;if(g.isManual&&g.chat){var v=g.chat.guid,y=m_(v),_=y.windowStatus,x=y.maxReadId;if(_){var k=e(cs({},i,{payload:cs({},i.payload,{windowStatus:_})}));return null!=x&&t(jv(x)),k}}}var C=n(),S=qh(C),A=e(i),M=n();if("form/update"===i.type&&"prechat"===i.meta){if(!rh(M).isForgetPrechat){var T=cs({},i.payload);delete T.department,delete T.ticketId,h_({form:T})}}var I=qh(M),P=_h(M);if(!S&&I){var D=Sp(M);D!==dl&&D!==pl&&D!==ul||b_(P,{windowStatus:D})}if(i.type===ng){var N=i.payload===pl||i.payload===dl||i.payload===ul,R=$m(M);(I||R)&&N&&b_(P,{windowStatus:i.payload})}if("window/toggleFocus"===i.type||i.type===ng||i.type===tg||"window/resetMaxId"===i.type){var O=Th(C),W=Th(M);O!==W&&b_(P,{maxReadId:W})}return A}}},pk=function(){function e(){var e=qc.createElement("div");this.addEventListener=function(t,n){e.addEventListener(t,n.bind(this))},this.removeEventListener=function(t,n){e.removeEventListener(t,n.bind(this))},this.dispatchEvent=function(t){if("string"==typeof t)try{e.dispatchEvent(new Event(t))}catch(i){var n=qc.createEvent("Event");n.initEvent(t,!1,!0),e.dispatchEvent(n)}}}function t(){}function n(){var t=this;e.call(this);var n=a;Object.defineProperties(this,{close:{value:function(){var e=this;n===a&&(window.external.msSiteModeClearIconOverlay(),s.forEach(function(t){Gc.removeEventListener(t,e.close)}),this.dispatchEvent("click"),this.dispatchEvent("close"),n=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(c(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),s.forEach(function(e){Gc.addEventListener(e,t.close)}),a+=1,n=a}function i(e,t){var n=e;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===n&&(n="\b"),arguments.length>1&&"object"!==(void 0===t?"undefined":as(t)))throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');var i=Object(t),o=i.dir;if(void 0!==o&&-1===r.indexOf(o))throw TypeError('Failed to construct "Notification": The provided value "'+o+'" is not a valid enum value of type NotificationDirection.');var a=new d(n,i);return a.body||Object.defineProperty(a,"body",{value:String(i.body||"")}),a.data||Object.defineProperty(a,"data",{value:i.data||null}),a.dir||Object.defineProperty(a,"dir",{value:o||r[0]}),a.icon||Object.defineProperty(a,"icon",{value:String(i.icon||"")}),a.lang||Object.defineProperty(a,"lang",{value:String(i.lang||"")}),a.requireInteraction||Object.defineProperty(a,"requireInteraction",{value:Boolean(i.requireInteraction)}),a.silent||Object.defineProperty(a,"silent",{value:Boolean(i.silent)}),a.tag||Object.defineProperty(a,"tag",{value:String(i.tag||"")}),a.title||Object.defineProperty(a,"title",{value:String(n)}),a.timestamp||Object.defineProperty(a,"timestamp",{value:(new Date).getTime()}),a}var o=["granted","default","denied","notsupported"],r=["auto","ltr","rtl"],a=-1,s=["click","scroll","focus"],c=function(e){var t=e.lastIndexOf(".");return(-1!==t?e.substr(0,t):e)+".ico"},d=window.Notification||window.webkitNotifications&&t||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&n||e;return Object.defineProperty(e,"permission",{enumerable:!0,get:function(){return"notsupported"}}),Object.defineProperty(e,"requestPermission",{enumerable:!0,writable:!0,value:function(e){e(this.permission)}}),Object.defineProperty(n,"permission",{enumerable:!0,get:function(){return window.external.msIsSiteMode()?"granted":"denied"}}),Object.defineProperty(n,"requestPermission",{enumerable:!0,writable:!0,value:function(){var e=this;return new Promise(function(t){t(e.permission)})}}),Object.defineProperty(n,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(t,"permission",{enumerable:!0,get:function(){return o[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(t,"requestPermission",{enumerable:!0,writable:!0,value:function(){return new Promise(function(e){window.webkitNotifications.requestPermission(function(t){e(t)})})}}),d.permission||Object.defineProperty(d,"permission",{enumerable:!0,get:function(){return d.permissionLevel&&d.permissionLevel()}}),Object.defineProperty(i,"permission",{enumerable:!0,get:function(){return d.permission}}),Object.defineProperty(i,"requestPermission",{enumerable:!0,value:function(){return new Promise(function(e,t){var n=d.requestPermission(function(t){e(t)});if(n)return"function"!=typeof n.then||"function"!=typeof n.catch?void t(n):void e(n)})}}),i}(),hk=pk.requestPermission,fk=function(e,t){if("granted"===pk.permission){var n=new pk(Zc.host,{body:e,icon:t,tag:"livechat_notify"}),i=null;n.onclick=function(){Gc.focus(),n.close()},n.onshow=function(){i=setTimeout(function(){n.close(),i=null},5e3)},n.onclose=function(){i&&clearTimeout(i)}}},mk=function(){var e={},t=function(t){if(null==t)return Promise.reject("sound url is null");if(e[t])return Promise.resolve(e[t]);var n=new Promise(function(e,n){var i=new Audio(t);i.oncanplay=function(){i.oncanplay=null,e(i)},i.onerror=n});return e[t]=n,n};return{play:function(e,n){return t(e).then(function(e){return e.loop=n?"loop":"",e.play()})},stop:function(e){return t(e).then(function(e){e.loop=""})}}}(),bk=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,o=void 0,r=void 0,a=null,s=0,c=!1,d=function(){s=!1===n.leading?0:Date.now(),a=null,r=e.apply(i,o),gd(r)&&(c=!0,r.then(function(){c=!1},function(){c=!1})),i=null,o=null};return function(){if(c)return r;for(var l=arguments.length,u=Array(l),p=0;p<l;p++)u[p]=arguments[p];o=u;var h=Date.now();s||!1!==n.leading||(s=h);var f=t-(h-s);return i=this,f<=0||f>t?(clearTimeout(a),a=null,s=h,r=e.apply(i,o),gd(r)&&(c=!0,r.then(function(){c=!1},function(){c=!1})),o=null,i=null):a||!0!==n.trailing||(a=setTimeout(d,f)),r}}(mk.play,500),wk=vd(fk,50),gk=function(e){return function(t){return function(n){var i=e.getState();"chatWindow/popOut"!==n.type&&"chatWindow/popIn"!==n.type||mk.stop(qm(i,"video-request"));var o=t(n),r=e.getState();if(!ml(r))return null;var a=tf(r),s=Th(i);if("window/endchat"===n.type&&yx("livechat.chat.end"),n.type===tg){var c=Jp(i),d=Jp(r);c!==d&&(d===Hd?yx("livechat.chat.start",xh(r)):d===jd&&yx("livechat.chat.end"));var l=0,u=0;n.payload.forEach(function(e){if(Vb(e)&&e.id&&!(e.id<=s)&&(jb(e.type)&&(u+=1),!yu||"visitorAudioChatRequest"!==e.type&&"agentAudioChatRequest"!==e.type&&"visitorVideoChatRequest"!==e.type&&"agentVideoChatRequest"!==e.type?jb(e.type)&&"visitorAudioChatAccept"!==e.type&&"visitorVideoChatAccept"!==e.type&&"agentAudioChatAccept"!==e.type&&"agentVideoChatAccept"!==e.type?bk(qm(r,"video-end")):"cobrowseAccept"!==e.type&&"cobrowseRefuse"!==e.type&&"cobrowseEnd"!==e.type&&"cobrowseNoAnswer"!==e.type&&"cobrowseRequest"!==e.type&&"cobrowseCancel"!==e.type&&bk(qm(r,"new-response")):l+=1,"agentAcceptChat"!==e.type)){if("agent"===e.sender.type){var t=null;switch(e.type){case Wd:t=0!==e.content.AnswerContentType?"Webhook Answer":Nd(Te(e.content.Answer),0,48);break;case"botSignIn":t=e.content.Message+" "+e.content.SignInText;break;case"botForm":t=e.content.FormName}if(null!=t){var n=kl(r,"Images/logo60.png");return void wk(t,n)}}if(a){var i="string"==typeof e.content?e.content:e.content.text,o=kl(r,"Images/logo60.png");wk(i,o)}}}),(l>0||u>0)&&(l>u?mk.play(qm(r,"video-request"),!0):mk.stop(qm(r,"video-request")))}var p=Df(i),h=Df(r),f=Pf(i),m=Pf(r)||h;if(!p&&h?mk.play(qm(r,"video-request"),!0):p&&!h&&mk.stop(qm(r,"video-request")),(f||p)&&!m&&r.window&&bk(qm(r,"video-end")),a&&Fh(r)&&!Fh(i)&&hk(),"page/setButtonIsOnline"===n.type){var b=n.payload.campaignId;if(Rp(i,b)!==Rp(r,b)){var w=$f(r,n.payload.campaignId),g=Rp(r,b);yx(g?"livechat.button.online":"livechat.button.offline",w)}}if("window/updateQueue"===n.type){var v=gh(i),y=gh(r);y.position===v.position&&y.waitTime===v.waitTime||yx("livechat.chat.waitingQueue.update",y)}return o}}},vk=(jw={},jw.prechat=function(e){e(ev(Qd))},jw.chat=function(e,t){qh(t)||(e(cv()),e(ev(Jd)))},jw.chatbot=function(e,t,n){e(nv(n.url,n.bot)),e(dv()),e(ev(Jd))},jw.offline=function(e){e(ev($d))},jw.sso=function(e,t,n){e(tv(n.url,n.showPrelogin)),e(n.showPrelogin?ev(Kd):ev("ssoLogin"))},jw.kb=function(e){e(ev(el))},jw),yk=function(e,t,n){if("chat"===n.next||"chatbot"===n.next){var i=n.chatId,o=n.chatGuid,r=n.serverTime;e(Mv(i,o,r))}if("kb"===n.next){var a=n.ifOnline,s=n.id,c=n.greetingMessage,d=n.maxCount;e(_g(oh(t),a)),e(iv({id:s,greetingMessage:c,maxCount:d}))}else e(_g(oh(t),"offline"!==n.next));(vk[n.next]||function(){})(e,t,n)},_k={},xk=function(e){return function(t){return t.forEach(function(t){return _k[t.type](e,t)})}},kk=4342338,Ck="GET",Sk=D(Oe,Ck),Ak=D(Oe,"POST"),Mk=function(e,t,n,i){var o=new FormData;return o.append("file",t),o.append("json",JSON.stringify(n)),Ak(e,o,i)},Tk="{email}",Ik="eventSendTranscript",Pk="eventRatingSubmitSuccess",Dk=0,Nk=new Date,Rk=function(){return 0===Dk||!(Dk>=3||N(Nk,2e4))},Ok=function(){Dk+=1},Wk=function(){return Dk},Ek=void 0,Bk=function(e,t,n){return Sk([e,"&action=4","&mainDisconnected="+(n?"1":"0"),"&visitorId="+t].join(""))},Lk=function(e){return Sk(e+"&action=1").then(function(e){return"0"===e.output?"standby":"main"}).catch(function(){return"main"})},Fk=function(e,t){Ek=setInterval(function(){return Bk(e,t,Wk()>0)},6e4)},zk=function(){Ek&&clearInterval(Ek)},Vk=_u,Uk=function(e,t,n){var i=D(kl,t),o=Cp(t),r=$f(t,n).lastUpdateTime,a=function(e){return cs({},e,{sounds:e.sounds&&Object.keys(e.sounds).reduce(function(t,n){var o;return cs({},t,(o={},o[n]=i(e.sounds[n]),o))},{}),chatBot:e.chatBot&&cs({},e.chatBot,{avatar:i(e.chatBot.avatar)}),chat:e.chat&&cs({},e.chat,{texture:i(e.chat.texture)}),header:e.header&&cs({},e.header,{banner:e.header.banner&&i(e.header.banner),logo:e.header.logo&&i(e.header.logo)})})};return e(jg({id:n,entity:null,fetchStatus:"fetching"})),Sk(i("/campaign.ashx?siteId="+o+"&campaignId="+n+"&lastUpdateTime="+r)).then(function(t){var i=a(t.output);return e(jg({id:n,entity:i,error:null,fetchStatus:tl})),i}).catch(function(t){throw e(jg({id:n,entity:null,error:t.error.message,fetchStatus:"error"})),t})},Hk=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.getChildContext=function(){return this.props.context},t.prototype.render=function(){return this.props.children[0]},t}(I),jk=function(e,t){return{unmount:function(){for(var e=0;e<t.children.length;e+=1)t.removeChild(t.children[e])},render:function(i,o){var r=void 0;r=Array.isArray(i)?1===i.length?i[0]:n("div",null,i):i,P(n(Hk,{context:e.context},r),t,t.children[0]),"function"==typeof o&&o()}}},Yk=function(e,t){return"string"==typeof t?e[t]:t.reduce(function(e,t){return void 0===e?e:e[t]},e)},Gk=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.some(function(n){var o=!1,r=Yk(e[t],n),a=Yk(i,n);a instanceof Date&&r instanceof Date?o=JSON.stringify(a)!==JSON.stringify(r):a!==r&&(o=!0);return o})},qk=function(e){var t=e.split(".");return 1===t.length?e:t},Zk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t.map(qk),o=n.map(qk);return function(t,n){var r=Gk(e,"props",i,t)||Gk(e,"state",o,n);return r}},Kk=function e(t){return t.parentNode?e(t.parentNode):t},Qk=function(e,t){var n=e.contentDocument;return n.open(),n.write(t),n.close(),n.getElementById("container")},Jk=function(e){Sd&&e.addEventListener("selectionchange",function(){var t=e.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.type)){var n=e.createEvent("CustomEvent");n.initCustomEvent("input",!0,!0,{}),t.dispatchEvent(n)}})},Xk=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.noIframe,n=void 0,i=void 0;if(t)this.container=this.div,n=Gc,i=Kk(this.div);else{this.container=Qk(this.iframe,'<!doctype html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /></head><body><div id="container"></div></body>'),n=this.iframe.contentWindow,i=this.iframe.contentDocument}var o=jk(this,this.container),r=o.render,a=o.unmount,s=Zk(this,["style","innerCss","className"]);this.shouldComponentUpdate=function(e){var o=s(e);return o||(t?e.callback&&e.callback(n,i):r(e.children,function(){return e.callback&&e.callback(n,i)})),o},this.componentDidUpdate=function(){t?e.props.callback&&e.props.callback(n,i):r(e.props.children,function(){return e.props.callback&&e.props.callback(n,i)})},this.componentWillUnmount=t?function(){}:a,t||r(this.props.children),this.props.onMounted&&this.props.onMounted(n,i),this.props.callback&&this.props.callback(n,i),Jk(i)},t.prototype.render=function(){var e=this,t=this.props,i=t.children,o=(t.innerCss,t.noIframe),r=ls(t,["children","innerCss","noIframe"]);return o?n("div",cs({},r,{ref:function(t){e.div=t}}),i):n("iframe",cs({allowFullScreen:"1"},r,{ref:function(t){e.iframe=t}}))},t}(I),$k=function(e){var t=e.split(/\/|\\/);return t[t.length-1]},eC=void 0,tC=function(e){var t=Date.now().toString();return n(Xk,{id:t,src:"about:blank",style:e.style,frameborder:0,scrolling:"no",innerCss:"body{margin:0;padding:0}",onMounted:function(e){eC=e.ownerDocument}},n("form",{id:"form",method:"post",encType:"multipart/form-data",encoding:"multipart/form-data"},n("input",{ref:function(t){e.onMounted&&e.onMounted(t)},type:"file",name:"file",onChange:function(n){e.onChange&&e.onChange({formId:t,name:$k(n.target.value)})},onBlur:e.onBlur,onFocus:e.onFocus})))},nC=function(e,t){P(n(tC,t),e)},iC=_u,oC=0,rC=[],aC={},sC={},cC=null,dC=function(e,t,n){if(null==t.type)throw new Error("action.type is required");return t.type===iC.uploadFileAction?new Promise(function(i,o){(t.file.formId?Ee:Mk)(e+"&file=1",t.file,t.action,n).then(function(e){var n=e.output;n[0].error&&o({input:t.action,error:n[0].error}),i({input:t.action,output:n[0]})}).catch(function(e){if(e instanceof Error)throw e;o({input:t.action,error:e.error})})}):new Promise(function(n,i){null==cC&&(cC=Nb());var o=cC();rC.push(cs({},t,{id:o})),aC[o]=n,sC[o]=i,clearTimeout(oC),oC=setTimeout(function(){Ak(e,rC.splice(0,rC.length)).then(function(e){var t=e.input,n=e.output;t.forEach(function(e,t){n[t].error?sC[e.id]({input:e,error:n[t].error}):aC[e.id]({input:e,output:n[t]}),delete aC[e.id],delete sC[e.id]})}).catch(function(e){if(e instanceof Error)throw e;var t=e.input,n=e.error;t.forEach(function(e){sC[e.id]({input:e,error:n}),delete aC[e.id],delete sC[e.id]})})},0)})},lC=_u,uC=function(e){var t=Sh(e),n=wh(e),i=iw(n),o=[].concat(i);if(kh(e)){var r=Ch(e);o.push({type:"visitorTyping",content:r,sender:{type:"visitor"},id:n.length+t+1})}return[0===o.length?null:Xu(null,o),Qu(null,-1)]},pC=function(e){var t=e.getState,n=e.dispatch,i=function(){return new Promise(function(e){var n=setInterval(function(){return dC(Km(t()),pp()).then(function(i){if(!i.output.payload){clearInterval(n);var o=t(),r=Ip(o,qp(o)?0:_p(o)),a=Jp(o),s=null;s=a===Ud?sp([cs({},r,{isPrechatDone:!0,isProcessingDone:!0})].concat(uC(o))):cs({},r,{isProcessingDone:!0}),dC(Km(o),s).then(function(t){t.output.payload&&(clearInterval(n),e(t))})}})},2e3)})},o=function(e,t){return cs({},e,{output:lp(function(e){if(e.type===lC.requestChat){if(t.type===lC.batchAction){var n=t.payload.filter(function(e){return e.type===lC.requestChat});if(n.length>0)return cs({},e,n[0])}return cs({},e,t)}if(e.type===lC.getChatMessages&&t.type===lC.batchAction){var i=t.payload.filter(function(e){return e.type===lC.getChatMessages});if(i.length>0)return cs({},e,i[0])}return e},e.output)})},r=function(e){return i().then(function(t){var n=t.output;return o(e,n)})};return function(e){var t=dp(e.output,lC.requestChat);return t&&"systemProcessing"===t.payload.next?(n(ev("loading")),r(e)):e}},hC=function(e){var t=e.dispatch,n=e.getState;return function(e){throw 1004===e.error.code&&dC(Km(n()),up(Qm(n()))).catch(function(e){var n=e.error.code;throw 1024!==n&&1032!==n||t(bg()),e}),e}},fC=function(e){var t=e.getState,n=e.dispatch;return function(e){var i=e.error.code;if(-1!==[314,1004,1036].indexOf(i))n(wv(ob(t(),"errorVisitorNotExist"))),n(yg(!1));else if(1024===i||1032===i)n(bg());else if(7601===i)e.error.message&&n(wv(e.error.message));else if(4342339===i)n(wv("Oops.We're getting problems to the chatbot. Please refresh this page to chat with a live agent.")),n(yg(!1));else if(1037===i)n(wv(e.error.message)),n(yg(!1));else if(i!==kk){var o=ob(t(),"promptServerException");o&&n(wv(o.replace("{errorCode}",i)))}throw e}},mC=_u,bC=!1,wC=function(e){return 1004===e||1036===e},gC=function(e){var t=e.getState;return function(e){return Al(t())?(bC&&dp(e.output,mC.getChatMessages)&&(bC=!1),e):e}},vC=function(e,t){var n=e.dispatch,i=e.getState,o=function(e){return Lk(Zm(i())).then(function(o){if(o!==xl(i()))return n(wg(o)),!bl(i())&&Zh(i())?Promise.reject({input:e.input,error:{code:4342339}}):(!bl(i())&&Kh(i())&&n(Xv()),qh(i())?(bC=!0,null):dp(e.input,mC.getConfig)?t(e.input):n(vy()).then(function(){return dp(e.input,mC.sendFile)?Promise.reject({input:e.input,error:{code:kk}}):t(e.input)}));if(314===e.error.code)return null;throw e})};return function(e){if(!Al(i()))throw e;Sp(i())===fl&&(bC=!1);var t=e.error;if(t.code===kk&&bl(i())&&Bk(Zm(i()),Mp(i()),!0),wC(t.code)&&bC)return null;if(314===t.code)return o(e);if(t.code===kk){if(bl(i())&&dp(e.input,mC.getConfig))return o(e);if(Ok(),Bk(Zm(i()),Mp(i()),!0),!Rk())return o(e)}throw e}},yC=function(e){return[up(Qm(e)),ku(_p(e),Qm(e),qc.referrer,Tp(e),mb(),bb(),yu,p_())]},_C=function(e){var t=_p(e),n=Mp(e),i=!wl(e)&&!g_(Mp(e)).isEmbeddedPoppedOut,o=Pm(e),r=Ul(e),a=Hl(e);return sp([].concat(n?[]:yC(e),[o&&Au(o,t),0!==t||o?null:mp(),Cu(t,Tp(e)),Ou(t),Tu(t),i?hp():null,r&&Du(t),a&&Iu(t)]))},xC=function(e,t){var n=Ip(e,qp(e)?0:t),i=n.source,o=void 0;return o="manualInvitation"===i.type||"button"!==i.type&&n.invitationtype===cm,cs({},n,{isPrechatDone:o})},kC=function(e){var t=[];return Qf(e)<3&&t.push(ap()),Ml(e)&&t.push(rp()),t},CC=_u,SC=function(e,t,n,i){var o=e.getState,r=e.dispatch;return function(e){var a=e.input;if(1004===e.error.code&&!dp(a,CC.newVisitor)&&(dp(a,CC.pageVisit)||dp(a,CC.requestChat)))return r(yg(!0)),t(sp(yC(o()).concat(a.actions)),n,i);throw e}},AC=function(e,t,n){var i=Cp(n),o=yf(n),r=xf(n),a=[Fl(n),"/client/articles?",""!==i?"siteid="+i:"",o?"&kbId="+o:"",r?"&rowcount="+r:"",t?"&keywords="+encodeURIComponent(t):""].join("");Sk(a).then(function(t){e(Qg("window/success-articles",t.output))}).catch(function(){e(ty())})},MC=function(e,t,n){var i=Cp(n),o=[Fl(n),"/client/articles/",t,"?",i?"siteid="+i:""].join("");Qg("window/success-articleByID",void 0),Sk(o).then(function(t){e(Qg("window/success-articleByID",t.output))}).catch(function(t){e(404===t.error.statusCode?Qg("window/success-articleByID",{}):Qg("window/success-articleByID",void 0))})},TC=function(e){return Qu(_h(e),Sh(e))},IC=function(e){var t=Sh(e),n=_h(e),i=wh(e),o=iw(i),r=[].concat(o);if(kh(e)){var a=Ch(e);r.push({type:"visitorTyping",content:a,sender:{type:"visitor"},id:i.length+t+1})}return[0===r.length?null:Xu(n,r),Qu(n,t)]},PC=(Yw={},Yw["chatWindow/open"]=function(e,t){var n=e.campaignId,i=Hp(t),o=void 0;if(i){var r=_m(t,"prechat",n);if(!r.some(function(e){return""!==e.error})){var a=__(),s=a.popout;o=Bb(qb(r)),s&&s.ticketId&&!Number.isNaN(+s.ticketId)&&(o.ticketId=+s.ticketId),s&&s.departmentId&&!Number.isNaN(+s.departmentId)&&(o.department=+s.departmentId)}}return sp([tb(t)?fp():null,gp(),o&&xC(t,n),o&&Eu(o,n),cs({},xC(t,n),o?{isPrechatDone:!0}:{}),qp(t)?bp():null,Im(t)?vp():null].concat(kC(t),[Qu(null,-1)]))},Yw["invitaton/refuse"]=function(e,t){var n=_p(t),i=wm(t);return Nu(n,i.isManual,i.id)},Yw["web/prechatHeartbeat"]=function(e,t){return yl(t)?null:Bu()},Yw["web/offlineHeartbeat"]=function(e,t){return yl(t)?null:Lu()},Yw["web/chatHeartbeat"]=function(e,t){if(yl(t))return null;if(!Kp(t))return null;var n=Jp(t);if(n===Ud){var i=Dp(t);if("autoInvitation"===i)return wp();if("manualInvitation"===i)return sp([zu(_h(t)),TC(t)])}var o=[];return n===Vd&&o.push(Ju(_h(t))),sp(o.concat(IC(t)))},Yw[ng]=function(e,t){if(e!==fl)return null;if(yl(t))return null;var n=nh(t),i=Jp(t),o=oh(t);if(n===Qd||n===$d||n===el)return Zu();if(n===Jd){if(i===Ud){var r=Ip(t,o).source,a=r.type,s=r.invitationId;return yx("livechat.invitation.refuse",s),Nu(o,"manualInvitation"===a,s)}if(i===Vd)return sp([Ku(_h(t)),TC(t)])}return null},Yw["form/submit-social"]=function(e,t){return sp([Gu(e),cs({},Ip(t,oh(t)),{isPrechatDone:!0,skipSSO:!0})])},Yw["web/submitSSOInfo"]=function(e,t){var n=Ip(t,oh(t));return sp([Wu(e,oh(t)),cs({},n,{isFromKB:!0})])},Yw["web/submitSSOInfo4ChatBot"]=function(e,t){return Wu(e,oh(t))},Yw[eg]=function(e,t){return sp([e.isManual?Ru(e.id):null].concat(kC(t)))},Yw["web/skipLogin"]=function(e,t){var n=Ip(t,oh(t));return cs({},n,{skipSSO:!0})},Yw["web/startChatAgain"]=function(e,t){return qu(qp(t)?0:oh(t),{type:"button",page:Tp(t)})},Yw["web/fromChatbotToAgent"]=function(e,t){var n=Jh(t);return Zh(t)&&!n?sp([Object.assign({},Ip(t,oh(t)),{isFromChatbot:!0}),Ju(_h(t))]):null},Yw["web/submitRating"]=function(e,t){var n=xh(t);return ju(n,e)},Yw["web/emailTranscript"]=function(e){return Yu(e)},Yw["web/sendAction"]=function(e){return e},Yw["web/endChat"]=function(e,t){return sp([Ku(_h(t)),TC(t)])},Yw["web/chatBotAnswerHelpful"]=function(e,t){return Zh(t)?$u(e.ifHelpful,e.actionGuid,e.intentId):null},Yw["web/chatBotSelectQuestion"]=function(e,t){return Zh(t)?ep(e):null},Yw["web/chatBotAnswerHelpfulWithAgent"]=function(e){return $u(e.ifHelpful,e.actionGuid,e.intentId)},Yw["web/chatBotSelectQuestionWithAgent"]=function(e,t){return Mf(t,e.GUID)?null:tp(e)},Yw["web/chatBotVisitorCancelBotForm"]=function(e){return np(e)},Yw["web/chatBotVisitorSubmitBotForm"]=function(e){return ip(e)},Yw["web/chatBotVisitorConfirmBotForm"]=function(e){return op(e)},Yw["chatWindow/showTab"]=function(e){return e===$d?Fu():null},Yw["web/updateCustomVariables"]=function(e,t){var n=qp(t)?0:_p(t);return sp([Au(e,n),qp(t)?bp():null,Tu(n),Iu(n)])},Yw["window/closeMinimizeBubble"]=function(e,t){return $m(t)?(yx("livechat.invitation.refuse"),Nu(oh(t),!0)):null},Yw["web/getChatButton"]=function(e){var t=e.campaignId,n=e.alreadyCampaignId;return sp([Ou(t,n),Tu(t)])},Yw["web/sendPageVisit"]=function(e,t){return _C(t)},Yw["web/getConfig"]=function(){return Su()},Yw["web/getChatWindowConfig"]=function(){return gp()},Yw["web/fromKBToAgent"]=function(e,t){return wf(t)?null:cs({},Ip(t,oh(t)),{isFromKB:!0})},Yw),DC=(Gw={},Gw["window/sendText"]=function(e,t){if(Jp(t)===Ud){$m(t)?yx("livechat.invitation.accept"):yx("livechat.invitation.accept",Np(t));var n=Ip(t,oh(t));return sp([cs({},n,{isPrechatDone:!0})].concat(IC(t)))}return sp(IC(t))},Gw),NC=function(e){return function(t){if(t instanceof Error)throw t;return e(t)}},RC=function(e){var t=e.getState;return null==t()?function(e){return function(t){return e(t)}}:function(n){var i=function n(i,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return Promise.resolve(e)};return dC(Km(t()),i,o).then(gC(e)).then(pC(e)).then(r).then(function(t){return We(e,t,n),t}).catch(NC(vC(e,n))).catch(NC(SC(e,n,o,r))).catch(NC(fC(e))).catch(NC(hC(e))).catch(NC(function(t){throw 1===t.error.code&&e.dispatch(ay()),t}))},o=function(e,t,o,r){return i(t,null,o).catch(function(t){var i=t.error.message;throw n(L_(e)),n(wv(i)),r&&r(i),t})};return function(e){"web/getArticles"===e.type?AC(n,e.payload,t()):"web/getArticleByID"===e.type&&MC(n,e.payload,t()),e.type===ig&&zk();var r=PC[e.type];if(r){var a=r(e.payload,t());if(a){var s=i(a);if("web/getConfig"===e.type||"web/sendPageVisit"===e.type||"web/prechatHeartbeat"===e.type||"web/getChatButton"===e.type||"web/getChatWindowConfig"===e.type)return s;if(e.type===ng&&e.payload===fl&&wl(t()))return s}return n(e)}if("web/pageHeartbeat"===e.type)return yl(t())?null:(i(Du(_p(t()))),Ap(t()).forEach(function(e){return i(Mu(+e))}),null);if("window/sendFile"===e.type){var c=e.payload;if(!c)return null;if(Eh(t()))return null;var d=Rl(t()),l=Xh(t()),u=Ol(t());return l>=u?(n(Tv("maxFileCount",{fileCount:u})),Promise.resolve()):c.size>d*Math.pow(2,20)?(n(Tv("maxFileSize",{fileSize:d})),Promise.resolve()):0===c.size?(n(Tv("emptyFile")),Promise.resolve()):(n(e),i(Uu(c),function(e,t){return n(Jg(c.name,e,t))}).then(function(){return n(Xg())}).catch(NC(function(e){var t=e.error;return n($g(t))})).catch(function(e){return n($g({message:e.message}))}))}if("web/submitPrechat"===e.type){var p=e.payload,h=p.form,f=p.onSuccess,m=p.onError,b=Ip(t(),oh(t())),w=cs({},b,{ticketId:h.ticketId||b.ticketId,departmentId:null==h.department?b.departmentId:void 0,isPrechatDone:!0,skipSSO:!0});o("prechat",sp([Eu(h,oh(t())),w]),f,m)}else if("web/submitOfflineMessage"===e.type){var g=oh(t()),v=e.payload,y=v.form,_=v.onSuccess,x=v.onError,k=xh(t()),C=cs({},Pp(t()));k&&(C.chatId=k),o("offline",Vu(g,y,C),_,x)}else if("web/submitPostChat"===e.type){var S=xh(t()),A=e.payload,M=A.form,T=A.onSuccess,I=A.onError;o("postchat",Hu(S,M,oh(t())),T,I).then(function(){return n(ev(Jd))})}var P=n(e),D=DC[e.type];if(D){var N=D(e.payload,t());N&&i(N)}return P}}},OC=function(e){var t=e.isNewWindow,n=e.url,i=Db(n);t?Gc.open(i):Zc.href=i},WC=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){var o=n();if("chatWindow/open"===i.type&&!i.payload.isRestoreChat&&!Rp(o,i.payload.campaignId)){var r=tm(o,i.payload.campaignId);if(r)return OC(r),null}if("chatWindow/showTab"===i.type&&i.payload===$d){var a=oh(o),s=tm(o,a);if(s)return OC(s),s.isNewWindow&&t(qv()),t(cy()),null}return e(i)}}},EC=(qw={},qw.loading="titleChatWindow",qw[Kd]="titlePreChatWindow",qw[Qd]="titlePreChatWindow",qw[$d]="titleOfflineMessageWindow",qw[Jd]="titleChatWindow",qw[Xd]="titleChatWindow",qw.ssoLogin="titlePreChatWindow",qw),BC=function(e){null!=e&&(qc.title=e)},LC=function(){try{var e=qc.getElementById("chat_window_container");if(!e)return null;var t=e.contentWindow.document,n=t.querySelector(".whole-window").getBoundingClientRect();return{width:n.width,height:n.height}}catch(e){return null}},FC=function(e,t){var n=om(e,t);return n?LC()||n:{width:380,height:600}},zC=function(e,t){var n=Cp(e),i=xp(e),o=Tp(e),r=o.title,a=o.url,s=Jm(e),c=Xm(e),d=Mp(e),l=Np(e),u=Dp(e)||"button",p=kl(e,["chatWindow.aspx","?siteId="+n,i?"&chatGroup="+i:null,"&planId="+t,"#","&chatSource="+u,l?"&invitationId="+l:null,s?"&visitorId="+s:null,c?"&standbyVisitorId="+c:null,d?"&visitorGuid="+d:null,bl(e)?null:"&isStandbyServer=1",r?"&title="+encodeURIComponent(r):null,a?"&url="+encodeURIComponent(a):null].join("")),h=FC(e,t),f=h.width,m=h.height;return{win:Gc.open(p,"Comm100ChatWindow"+n,"width="+f+",height="+m+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no"),url:p}},VC=!1,UC=function(){Gc.opener&&(Gc.opener=null),VC=!0,Gc.close()},HC=function(e){var t=e.getState;return function(e){var n=null,i=function(e){return function(t){return e(JSON.parse(t.data))}},o=function(o){var r=o.win,a=o.url;if(!n){n=Be(r,a,!0);var s=n.subscribe(i(function(i){if("popin"===i.type)s(),n=null,Gc.focus(),e(Ig(i.payload)),e(Ng()),v_({isEmbeddedPoppedOut:!1},Mp(t()));else if("cobrowese-end"===i.type)try{Gc.GLANCE.Cobrowse.Visitor.stopSession()}catch(e){}}))}},r=function(e){n&&n.dispatch({type:"popin",payload:e})},a=function(){n&&n.dispatch({type:"cobrowese-end"})};return Gc.addEventListener("beforeunload",function(){var e=t();wl(e)&&nm(e,_p(e))&&!VC&&r(_p(e))}),function(s){var c=t();if(!c)return e(s);if("app/ready"===s.type&&null==n&&nb(c)){var d=Tp(c).url||qc.referrer;n=Be(Gc.opener,d);var l=n.subscribe(i(function(t){"removeOpener"===t.type&&(l(),Gc.opener=null,e(vg()))}))}if("chatWindow/showTab"===s.type&&wl(c)&&BC(ob(c,EC[s.payload])),"window/mounted"===s.type&&wl(c)){var u=nh(c);BC(ob(c,EC[u]))}if("chatWindow/open"===s.type){var p=s.payload.campaignId,h=g_(Mp(c))||{},f=h.isEmbeddedPoppedOut,m=nm(c,p);if(!wl(c)&&(f||!m)){var b=zC(c,p);return f&&o(b),null}}if("chatWindow/popOut"===s.type){var w=oh(c);if(!wl(c)&&nm(c,w)){o(zC(c,w)),v_({isEmbeddedPoppedOut:!0},Mp(c));var g=_h(c);g&&D_(g),n&&Gc.addEventListener("beforeunload",function(){n.dispatch({type:"removeOpener"})})}}if("chatWindow/popIn"===s.type&&wl(c)){var v=_h(c);return v&&D_(v),r(oh(c)),UC(),null}if("window/endCobrowse"===s.type)return a(),null;if(("window/closeSliently"===s.type||s.type===ng&&s.payload===fl)&&wl(c)){var y=e(s);return y&&y.catch?(Promise.race([y.catch(function(){}),td(3e3)]).then(UC),null):(UC(),null)}return e(s)}}},jC=void 0,YC=function(e,t){return{type:e,time:new Date,content:t,guid:R(),sender:{type:"visitor"}}},GC=function(e){var t=Sl(e,"/webrtcSignalingService/signaling.ashx");jC&&t&&jC.start(t)},qC=function(){jC&&(jC.stop(),jC=null)},ZC=(Zw={},Zw.agentVideoChatAccept=GC,Zw.agentAudioChatAccept=GC,Zw.agentVideoChatCancelRequest=qC,Zw.agentVideoChatRefuse=qC,Zw.agentVideoChatStop=qC,Zw.agentAudioChatStop=qC,Zw.agentAudioChatRefuse=qC,Zw.agentAudioChatCancelRequest=qC,Zw.systemAudioChatNoAnswer=qC,Zw.systemAudioChatEnd=qC,Zw.systemVideoChatNoAnswer=qC,Zw.systemVideoChatEnd=qC,Zw.visitorAudioChatCancelRequest=qC,Zw.visitorAudioChatRefuse=qC,Zw.visitorAudioChatStop=qC,Zw.visitorVideoChatCancelRequest=qC,Zw.visitorVideoChatRefuse=qC,Zw.visitorVideoChatStop=qC,Zw.visitorAudioChatAccept=GC,Zw.visitorVideoChatAccept=GC,Zw),KC=function(e,t){return bh(e).filter(function(e){return e.type===t}).length>0},QC=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(i){var o=function(e){var t=new q(e);return t.onevent(function(e,t){if("error"===e)n(Cy());else if("start"===e){if(!jC)return;var i=jC.getRemoteVideo();i&&Fe(i,"mediaChatWindow__remoteVideo--loading")}else if("remoteStreamReceived"===e){if(!jC)return;var o=jC.getRemoteVideo();o&&ze(o,"mediaChatWindow__remoteVideo--loading")}}),t},r=t();if("footer/chatToolAudio"===i.type)return jC||(jC=o({chat:_h(r)})),jC.requirePermission(!1).then(function(){var t=YC("pendingAudioRequesting","");n(ky([t])),e(i)}),null;if("footer/chatToolVideo"===i.type)return jC||(jC=o({chat:_h(r)})),jC.requirePermission(!0).then(function(){var t=YC("pendingVideoRequesting","");n(ky([t])),e(i)}),null;"chatWindow/popOut"===i.type?(qC(),P_(_h(r))):"chatWindow/popIn"===i.type&&qC();var a=e(i),s=t(),c=lf(s),d=lf(r);if("sideWindow/hideAudioVideoChat"===i.type)jC&&jC.hideVideos();else if("window/prepareP2pChat"===i.type)I_(_h(s)),jC&&jC.setVideoContainers(i.payload.localVideoContainer,i.payload.remoteVideoContainer);else if(i.type===tg)jC&&i.payload.forEach(function(e){var t=ZC[e.type];t&&t(s)}),jC||"videoChatting"!==c&&"audioChatting"!==c||(jC=o({chat:_h(s)}),jC.requirePermission("videoChatting"===c).then(function(){return GC(s)}));else if("window/acceptAudioVideoChat"===i.type)jC||(jC=o({chat:_h(s),localVideoContainer:i.payload.localVideoContainer,remoteVideoContainer:i.payload.remoteVideoContainer})),jC.requirePermission("videoIncoming"===c).then(function(){var e=YC("pendingAccept",c);n(ky([e]))});else if("window/hangupAudioVideoChat"===i.type&&(qC(),
!KC(s,"pendingHangup"))){var l=YC("pendingHangup",d);n(ky([l]))}return a}}},JC=function(e,t){var n=vd(function(){return t(Kv())},1e4,!1);return function(t){var i=t.type,o=t.sender,r=t.content,a=e();if("agentTyping"===i)n();else if("agentJoinChat"===i||"agentAcceptChat"===i||"agentAcceptTransfer"===i){var s=r.agent;yx("livechat.chat.agent.join",s)}else if("agentTransferChat"===i||"agentTransferChatToDepartment"===i){var c=Zf(a,o.id);yx("livechat.chat.agent.transfer",c)}else if("agentEndChat"===i){var d=Zf(a,o.id);yx("livechat.chat.agent.leave",d)}}},XC=function(e){var t=e.getState;return function(e){var n=JC(t,e);return function(t){var i=e(t);return t.type===tg&&t.payload.forEach(n),i}}},$C=Math.pow(2,31),eS=$C-6,tS=$C-5,nS=$C-4,iS=$C-2,oS=iS+1,rS=$C-1,aS=!Sd,sS=0===Gc.location.href.indexOf("https://")||!1,cS=function(e,t){return"#glance_cobrowse_btn>:not(#glance_scrim):not(#glance_confirm):not(#glance_msg_box){display:none !important}#glance_cobrowse_btn{z-index:"+rS+' !important}#glance_confirm{width:240px;padding:30px;color:#000 !important;border-radius:4px;background:#fff;font-size:14px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);}#glance_confirm_msg{padding-bottom:20px;}#glance_confirm_msg::before{content:"'+t+'";}#glance_yes,#glance_no{padding:5px 10px;border-radius:3px;text-decoration:none !important;display:inline-block;margin:0 10px !important;font-weight:normal !important;}#glance_yes{background-color:'+e+";color:#fff !important;border:none !important;}#glance_no,#glance_no:hover{border:1px solid #ccc !important;color:#000 !important;}"},dS=qc.createElement("div");dS.id="comm100-cobrowse-border",Object.assign(dS.style,{position:"fixed",pointerEvents:"none",top:0,bottom:0,right:0,left:0,margin:"auto",borderStyle:"solid",borderWidth:"3px",borderColor:"#f1d00f"}),dS.style.position="fixed";var lS=Gc.location.search.indexOf("cobrowseDebug")>=0,uS=function(e,t){return od("script",{src:e,id:"cobrowsescript","data-groupid":t,"data-site":"production",charset:"UTF-8"},qc.head,function(){return Gc.GLANCE})},pS=void 0,hS=function(e,t){return pS?(pS.textContent=cS(e,t),Promise.resolve()):od("style",{textContent:cS(e,t)},qc.head,function(){return!0}).then(function(e){pS=e})},fS=function(e){return function(){var t=!1,n=void 0;return function(){return t?n:(t=!0,n=e.apply(void 0,arguments))}}()}(uS),mS=[],bS=!1,wS=function(e){var t=e.getState,n=e.dispatch,i=function(){n(Ny())},o=function(){n(Ey())},r=function(e){var t=e&&e.enabled;dS.style.borderColor=t?"#cd0808":"#f1d00f"},a=function e(a){var s=Gc.GLANCE.Cobrowse.Visitor;try{s.removeEventListener("sessionend",e),s.removeEventListener("sessionstart",i),s.removeEventListener("rc",r),s.removeEventListener("error",o),qc.body.removeChild(dS)}catch(e){}t().window&&n(Ey())},s=function(e,t,n){return fS(e,t).then(function(){return new Promise(function(e){var t=setInterval(function(){var n=Gc.GLANCE;if(n){var i=n.Cobrowse;if(i){if(i.VisitorUI){i.Visitor&&(clearInterval(t),e())}}}},1e3)})}).then(function(){var e=Gc.GLANCE.Cobrowse,t=e.VisitorUI,s=e.Visitor;try{t.showButton(!0),s.startSession(n),s.addEventListener("sessionend",a),s.addEventListener("sessionstart",i),s.addEventListener("rc",r),s.addEventListener("error",o),mS.forEach(function(t){try{var n,i=t[0],o=t[1],r=t.slice(2);(n=e[i])[o].apply(n,r)}catch(e){}}),qc.body.appendChild(dS)}catch(e){}mS=[]})};return function(e){return function(i){var o=t(),r=Pf(o),a=Df(o),c=e(i),d=t(),l=Pf(d),u=Df(d),p=Ve(d),h=p&&aS&&sS;if(bS){if(Om(d)){var f=ah(d),m=cb(d);hS(f,m),bS=!1}}if(!a&&u&&(h||(e(oy()),aS?p?sS||n(By()):n(Oy()):n(Wy()))),!r&&l){var b=Nf(d),w=Rf(d),g=lS?kl(t(),"cobrowse/GlanceCobrowseLoader_3.3.0M.js"):"https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group="+w+"&site=production";if(h){if(Om(d)){var v=ah(d),y=cb(d);hS(v,y)}else bS=!0;s(g,w,b)}}if(r&&!l&&d.window)if(Gc.GLANCE){var _=Gc.GLANCE.Cobrowse.Visitor;try{_.stopSession()}catch(e){}}else wl(d)&&nb(o)?n(ry()):mS.push(["Visitor","stopSession"]);return c}}},gS=void 0;gS=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,o){var r=e(n,i,o),a=r.dispatch,s=[],c={getState:r.getState,dispatch:function(e){return a(e)}};return s=t.map(function(e){return e(c)}),a=de.apply(void 0,s)(r.dispatch),Rw({},r,{dispatch:a})}}}(Ow,WC,HC,QC,RC,uk,XC,gk,wS);var vS={only:function(e){return e&&e[0]||null}};He.isRequired=He;var yS={element:He,func:He,shape:function(){return He},instanceOf:function(){return He}},_S=yS.shape({trySubscribe:yS.func.isRequired,tryUnsubscribe:yS.func.isRequired,notifyNestedSubs:yS.func.isRequired,isSubscribed:yS.func.isRequired}),xS=yS.shape({subscribe:yS.func.isRequired,dispatch:yS.func.isRequired,getState:yS.func.isRequired}),kS="function"==typeof Symbol&&"symbol"===as(Symbol.iterator)?function(e){return void 0===e?"undefined":as(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":as(e)},CS=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},SS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},AS=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":as(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},MS=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},TS=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":as(t))&&"function"!=typeof t?e:t},IS=!1,PS=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],i=n||t+"Subscription",o=function(e){function n(i,o){CS(this,n);var r=TS(this,e.call(this,i,o));return r[t]=i.store,r}return AS(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[i]=null,e},n.prototype.render=function(){return vS.only(this.props.children)},n}(I);return o.prototype.componentWillReceiveProps=function(e){this[t]!==e.store&&Ye()},o.childContextTypes=(e={},e[t]=xS.isRequired,e[i]=_S,e),o.displayName="Provider",o}(),DS={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},NS={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},RS="function"==typeof Object.getOwnPropertySymbols,OS=function(e,t,n){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);RS&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var o=0;o<i.length;++o)if(!(DS[i[o]]||NS[i[o]]||n&&n[i[o]]))try{e[i[o]]=t[i[o]]}catch(e){}}return e},WS=function(){},ES=null,BS={notify:function(){}},LS=function(){function e(t,n,i){CS(this,e),this.store=t,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=BS}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=Ge())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=BS)},e}(),FS=0,zS={},VS=Object.prototype.hasOwnProperty,US="object"==("undefined"==typeof global?"undefined":kS(global))&&global&&global.Object===Object&&global,HS="object"==("undefined"==typeof self?"undefined":kS(self))&&self&&self.Object===Object&&self,jS=US||HS||Function("return this")(),YS=jS.Symbol,GS=Object.prototype,qS=GS.hasOwnProperty,ZS=GS.toString,KS=YS?YS.toStringTag:void 0,QS=Object.prototype,JS=QS.toString,XS="[object Null]",$S="[object Undefined]",eA=YS?YS.toStringTag:void 0,tA=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),nA="[object Object]",iA=Function.prototype,oA=Object.prototype,rA=iA.toString,aA=oA.hasOwnProperty,sA=rA.call(Object),cA=[st,ct,dt],dA=[lt,ut],lA=[ft,mt],uA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?Ke:t,i=e.mapStateToPropsFactories,o=void 0===i?dA:i,r=e.mapDispatchToPropsFactories,a=void 0===r?cA:r,s=e.mergePropsFactories,c=void 0===s?lA:s,d=e.selectorFactory,l=void 0===d?yt:d;return function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.pure,d=void 0===s||s,u=r.areStatesEqual,p=void 0===u?xt:u,h=r.areOwnPropsEqual,f=void 0===h?Je:h,m=r.areStatePropsEqual,b=void 0===m?Je:m,w=r.areMergedPropsEqual,g=void 0===w?Je:w,v=MS(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=_t(e,o,"mapStateToProps"),_=_t(t,a,"mapDispatchToProps"),x=_t(i,c,"mergeProps");return n(l,SS({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:_,initMergeProps:x,pure:d,areStatesEqual:p,areOwnPropsEqual:f,areStatePropsEqual:b,areMergedPropsEqual:g},v))}}(),pA="Comm100 Live Chat",hA=D(kt,"Chat"),fA=D(kt,"Pre-chat"),mA=D(kt,"Offline-Message"),bA=D(kt,"Invitation"),wA=function(){};wA.thatReturns=Ct,wA.thatReturnsFalse=Ct(!1),wA.thatReturnsTrue=Ct(!0),wA.thatReturnsNull=Ct(null),wA.thatReturnsThis=function(){return this},wA.thatReturnsArgument=function(e){return e};var gA=wA,vA=function(e){},yA=St,_A="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xA=function(){function e(e,t,n,i,o,r){r!==_A&&yA(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=gA,n.PropTypes=n,n},kA=(e(function(e){e.exports=xA()}),function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return n.enableGa?i.update=i.update.bind(i):i.update=function(){},i.componentDidMount=i.update,i.componentDidUpdate=i.update,i.shouldComponentUpdate=Zk(i,["invitation","windowTab","chatStatus"]),i}return ds(t,e),t.prototype.update=function(){var e=this.props;if(e.invitation||e.chatStatus===Ud)return void bA();var t=this.props.windowTab;if(t===Jd){var n=this.props.guid;(m_(n)||{}).gaChat||(b_(n,{gaChat:!0}),hA())}t===Qd&&fA(),t===$d&&mA()},t.prototype.render=function(){return n("div",null)},t}(I)),CA=At(kA),SA=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.name,n=(e.children,ls(e,["name","children"])),i=qc.createElement(t);Object.keys(n).forEach(function(e){i[e]=n[e]}),qc.head.appendChild(i)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return n("div",null)},t}(I),AA="render",MA=function(e,t){return function(i){return function(o){function r(t,n){ss(this,r);var i=us(this,o.call(this,t,n)),a=n&&n[AA]?n[AA]():{};return i.replacer=a[e],i}return ds(r,o),r.prototype.componentDidMount=function(){if(this.useOrigin=!this.replacer,!this.useOrigin){var e=this.replacer(t?this.props[t]:void 0);if(!e)return void(this.useOrigin=!0);this.element.innerHTML="",this.element.appendChild(e)}},r.prototype.shouldComponentUpdate=function(){return this.useOrigin},r.prototype.render=function(){var e=this;return this.replacer?n("div",{ref:function(t){e.element=t}},n(i,this.props)):n(i,this.props)},r}(I)}},TA=function(e,t){return function(i){function o(){if(this.useOrigin=!this.replacer,!this.useOrigin){var e=this.replacer();if(!e)return void(this.useOrigin=!0);this.element.innerHTML="",this.element.appendChild(e)}}function r(e,t){var n=s[t];if(n)return e[n]}var a,s=(a={},a[Qd]="livechat.prechat."+e,a[Jd]="livechat.chat."+e,a[Xd]="livechat.postChat."+e,a[$d]="livechat.offlineMessage."+e,a);return function(e){function a(t,n){ss(this,a);var i=us(this,e.call(this,t,n));i.apis=n&&n[AA]?n[AA]():{},i.replacer=r(i.apis,t.tab),i.useOrigin=!0;var s=o.bind(i);return i.componentDidMount=s,i.componentDidUpdate=function(e){e.tab!==i.props.tab&&s()},i}return ds(a,e),a.prototype.componentWillReceiveProps=function(e){e.tab!==this.props.tab&&(this.useOrigin||(this.element.innerHTML="",this.useOrigin=!0),this.replacer=r(this.apis,e.tab))},a.prototype.shouldComponentUpdate=function(){return this.useOrigin},a.prototype.render=function(){var e=this;return n("div",{ref:function(t){e.element=t},className:t},n(i,this.props))},a}(I)}},IA=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.getChildContext=function(){var e;return e={},e[AA]=this.props.getRender,e},t.prototype.render=function(){return this.props.children[0]},t}(I),PA={border:"none"},DA=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["online"]),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted(this.props.button.id),yx("livechat.button.show",this.props.button)},t.prototype.componentWillUnmount=function(){yx("livechat.button.hide",this.props.button)},t.prototype.render=function(){var e=this.props,t=e.online,i=e.button,o=e.onClick,r=e.onlineSrc,a=e.offlineSrc;return n("a",{href:i.chatWindowLink,onClick:o},n("img",{src:t?r:a,alt:"chat button",style:PA}))},t}(I),NA=function(e){return function(t){return function(i){function o(){return ss(this,o),us(this,i.apply(this,arguments))}return ds(o,i),o.prototype.componentDidMount=function(){if(t){var i=jk(this,t),o=i.render,r=i.unmount;this.shouldComponentUpdate=function(t){return o(n(e,t)),!1},o(n(e,this.props)),this.componentWillUnmount=r}},o.prototype.render=function(){return n("div",null)},o}(I)}},RA=MA("livechat.button","button"),OA=function(e){return n(DA,cs({},e,{campaignId:e.button.id,onlineSrc:e.button.imageOnline,offlineSrc:e.button.imageOffline}))},WA=NA(At(RA(OA))),EA=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["button.text"]),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted(this.props.button.id),yx("livechat.button.show",this.props.button)},t.prototype.componentWillUnmount=function(){yx("livechat.button.hide",this.props.button)},t.prototype.render=function(){var e=this.props,t=e.button,i=e.onClick;return n("a",{href:t.chatWindowLink,onClick:i},t.text)},t}(I),BA=NA(At(RA(EA))),LA=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted(this.props.button.id)},t.prototype.render=function(){return null},t}(I),FA=NA(RA(LA)),zA=function(e,t){return{position:"relative",display:"block",height:44,lineHeight:"44px",padding:"0 35px",borderRadius:"5px 5px 0 0",color:e,backgroundColor:t,boxShadow:"rgba(0,0,0,.2) 0 2px 25px",fontWeight:"bold",fontSize:20,textAlign:"center",textDecoration:"none",whiteSpace:"nowrap"}},VA=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted(this.props.button.id),yx("livechat.button.show",this.props.button)},t.prototype.componentWillUnmount=function(){yx("livechat.button.hide",this.props.button)},t.prototype.render=function(){var e=this.props,t=e.onClick,i=e.online,o=e.button,r=o.chatWindowLink,a=i?o.mobileTextOnline:o.mobileTextOffline;return a?n("a",{href:r,onClick:t,style:zA(o.mobileColor,o.mobileBackgroundColor)},a):null},t}(I),UA=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["online"]),i}return ds(t,e),t.prototype.render=function(){var e=this.props.isMobile,t=void 0,i=void 0;if(e){var o=this.props.button;o.mobileImageOnline?(t=n(DA,cs({},this.props,{campaignId:o.id,onlineSrc:o.mobileImageOnline,offlineSrc:o.mobileImageOffline})),i=o.mobilePosition):(t=n(VA,this.props),i={type:"bottomMiddle",yoffset:{px:0}})}else{var r=this.props.button;i=r.position,t=n(DA,cs({},this.props,{campaignId:r.id,onlineSrc:r.imageOnline,offlineSrc:r.imageOffline}))}return n("div",{style:Sb(i,eS)},t)},t}(I),HA=NA(At(RA(UA))),jA=function(e,t,n){var i=e.head;if(i){var o=i.querySelector("style#"+t);o||(o=e.createElement("style"),o.id=t,i.appendChild(o)),o.innerHTML=n}},YA=function(e,t){var n=[].concat(t),i=e.head;i&&n.forEach(function(e,t){var n=i.querySelector("style#id-"+t);n&&i.removeChild(n)})},GA=function(e,t,n){var i=[].concat(t),o=n?[].concat(n):[];i.forEach(function(t,n){t&&t!==o[n]&&jA(e,"id-"+n,i[n])})},qA=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.css;this.doc=Kk(this.div),GA(this.doc,e)},t.prototype.componentDidUpdate=function(e){var t=this.props.css,n=e.css;t!==n&&GA(this.doc,t,n)},t.prototype.componentWillUnmount=function(){var e=this.props.css;YA(this.doc,e)},t.prototype.render=function(){var e=this;return n("div",{ref:function(t){e.div=t}})},t}(I),ZA=e(function(e){!function(){function t(){for(var e=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var r=void 0===o?"undefined":as(o);if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o))e.push(t.apply(null,o));else if("object"===r)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var n={}.hasOwnProperty;e.exports?e.exports=t:window.classNames=t}()}),KA={0:"M28.6,9l-21-2.5c-2.2,0-4,1.8-4,3.9v15.1c0,2.1,1.8,3.9,4,3.9l4.1-0.3l-0.2,5.4l7.7-6.7l9.4-1.3c2.2,0,4-1.8,4-3.9v-9.7C32.6,10.7,30.8,9,28.6,9z M11.8,20c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8s1.8,0.8,1.8,1.8C13.6,19.2,12.8,20,11.8,20z M18.1,20c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C19.9,19.2,19.1,20,18.1,20z M24.4,20c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C26.3,19.2,25.4,20,24.4,20z",1:"M17,5C9.7,5,4,10.8,4,18s5.8,13,13,13h13V18C30,10.8,24.1,5,17,5z M11,13h9c0.5,0,1,0.4,1,1c0,0.5-0.4,1-1,1h-9c-0.5,0-1-0.4-1-1S10.4,13,11,13z M19,23h-8c-0.5,0-1-0.4-1-1c0-0.5,0.4-1,1-1h8c0.5,0,1,0.4,1,1C20,22.5,19.6,23,19,23z M22,19H11c-0.5,0-1-0.4-1-1s0.4-1,1-1h11c0.5,0,1,0.4,1,1S22.5,19,22,19z",2:"M14.9,24.1c-0.7,0-1.5-0.1-2.1-0.2c-2.7,2.4-5.8,2-5.8,2c1.2-0.5,1.6-3.2,1-3.5c-2.5-1.5-4-3.8-4-6.3C4,11.6,8.9,8,14.9,8s9.3,3.6,9.3,8.1S20.9,24.1,14.9,24.1L14.9,24.1z M27.8,25c-0.6,0.3-0.7,2.3,1.2,2.9c0,0-3.3,0.7-6-1.3c-0.7,0.1-1.4,0.3-2.1,0.3c-2.6,0-4.7-0.7-6.3-1.9c9.4,1.3,13.2-7.6,8.9-14.8c4.8,1,8.5,4.5,8.5,8.4C32,21.2,30.3,23.5,27.8,25L27.8,25z",3:"M28,25.7c-0.5,0.2-1.1,0-1.3-0.5c-0.2-0.5,0-1.1,0.5-1.3c1.7-0.7,2.8-2.4,2.8-4.2v-6.1c0-2.5-2.5-4.6-5-4.6H11c-2.5-0.1-5,2.1-5,4.6v6.1c0,2.5,2,4.3,4.5,4.3h5c0.2,0,0.5,0.1,0.6,0.2L22,29v-4c0-0.6,0.4-1,1-1s1,0.4,1,1v6c0,0.4-0.4,0.7-0.8,0.9c0,0-0.2,0.1-0.3,0.1c-0.2,0-0.4-0.1-0.6-0.2L15.2,26h-4.6C7,26,4,23.3,4,19.7v-6.1C4,10,7,7,10.6,7h14.8C29,7,32,10,32,13.6v6.1C32,22.3,30.4,24.7,28,25.7L28,25.7z M12.5,18c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S13.3,18,12.5,18L12.5,18z M18.5,18c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S19.3,18,18.5,18L18.5,18z M24.5,18c-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S25.3,18,24.5,18L24.5,18z"},QA=function(e,t){return function(){var n=e.props[t];n&&n()}},JA=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={ifReceiveNewMessage:!0},i.animated=!1,i.onMinimized=QA(i,"onMinimized"),i.onOpened=QA(i,"onOpened"),i.onInitalAnimated=QA(i,"animated"),i.callback=i.callback.bind(i),i.removeAnimationClass=i.removeAnimationClass.bind(i),i.shouldComponentUpdate=Zk(i,["iconStyle","count","windowStyle","href","status","first","avatar","online"],["ifReceiveNewMessage"]),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.windowStyle,i=t.status,o=n===qd;Pd(this.button,this.callback),Td?i===cl&&o&&this.onOpened():this.callback(),setTimeout(function(){e.button&&e.props.status===fl&&(e.button.style.zIndex=eS)},0)},t.prototype.componentWillReceiveProps=function(e){e.count!==this.props.count&&this.setState({ifReceiveNewMessage:!0})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.status,i=t.windowStyle,o=i===qd;if(e.status!==n){if(n===cl&&o)return void this.onOpened();this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.callback,400*1.1),Td||this.callback()}},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},t.prototype.callback=function(){var e=this.props,t=e.status,n=e.first;return this.timer=null,n&&t===fl?(this.onInitalAnimated(),void(this.animated=!0)):t!==fl&&t!==pl?t===hl?void this.onMinimized():void(t!==ll&&t!==cl||this.onOpened()):void 0},t.prototype.removeAnimationClass=function(e){e.stopPropagation(),this.setState({ifReceiveNewMessage:!1})},t.prototype.render=function(){var e=this,t=this.props,i=t.onClick,o=t.href,r=t.count,a=t.status,s=t.avatar,c=t.online,d=t.ifRipple,l=t.windowStyle,u=t.isMobile,p=t.iconStyle,h=l===qd,f=KA[p]||KA[0];return n("div",{className:ZA(a===fl&&"chatButtonContainer",u&&"chatButtonContainer--mobile",a!==fl&&"chatButtonMask chatButtonMask--"+l,!h&&a===cl&&"chatButtonMask--fullscreen",a===ll&&s&&"chatButton--maximizedAsChatting",a===ll&&!s&&"chatButtonMask--fullscreen",a===hl&&s&&"chatButtonMask--top chatButton--minimizedAsChatting",a===pl&&s&&"chatButton--avatar",a===hl&&!s&&"chatButtonMask--fullscreen",c?"online":"offline"),ref:function(t){e.button=t}},n("a",{className:ZA(d&&"chatButton--ripple","chatButton",!h&&a===cl&&"chatButton--maximized",a===ll&&!s&&"chatButton--maximized",a===hl&&!s&&"chatButton--minimized"),href:o,onClick:i},n("svg",{className:"chatButton__svg-chat",x:"0px",y:"0px",width:"38px",height:"38px",viewBox:"0 0 36 36",enableBackground:"new 0 0 36 36"},n("path",{className:"chatButton__svg-chat-path",stroke:"#fff",strokeWidth:"1",strokeMiterlimit:"5",d:f})),!!r&&r>0&&n("div",{ref:function(t){t&&(e.newMessageCount=t)},className:ZA("chatButton--newMessage",this.state.ifReceiveNewMessage&&"chatButton--newMessageAnimation"),onAnimationEnd:this.removeAnimationClass},r)))},t}(I),XA=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={titleColor:"#fff"},n.ele=null,n}return ds(t,e),t.prototype.componentWillMount=function(){var e=rd(this.props.invitation.themeColor,.2),t=ud(this.props.invitation.themeColor);this.setState({titleColor:t?"#000":"#fff",buttonColor:e})},t.prototype.render=function(){var e=this,t=this.props.invitation;return n("div",{style:{position:"fixed",zIndex:tS,width:"auto",height:"auto",overflow:"hidden",top:"0px",bottom:"0px",left:"0px",right:"0px",fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif',backgroundColor:"rgba(0, 0, 0, 0.65)"}},n("div",{ref:function(t){e.ele=t},style:{position:"absolute",width:"88%",zIndex:nS,top:"50%",left:"50%",marginLeft:"0px",marginTop:"0px",boxSizing:"border-box",maxWidth:"380px",transform:"translate(-50%, -50%)"}},n("div",{style:{height:"30px",lineHeight:"30px",width:"auto",backgroundColor:t.themeColor,fontSize:"14px",color:"white",textShadow:"rgba(0, 0, 0, 0.3) 1px 1px",paddingLeft:"14px",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}},n("span",{style:{fontWeight:"bold",color:this.state.titleColor,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"block"}},t.title)),n("div",{style:{backgroundColor:"white",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px",borderWidth:"1px",borderColor:t.themeColor,borderStyle:"solid",width:"auto"}},n("span",{style:{padding:"30px",textAlign:"center",fontSize:"20px",lineHeight:"25px",color:"#333",fontWeight:"bold",whiteSpace:"pre-wrap",maxHeight:"220px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",webkitLineClamp:"10",webkitBoxOrient:"vertical"}},t.message),n("div",{style:{margin:"0 auto",width:"260px",height:"65px"}},n("a",{style:{display:"block",width:"120px",height:"35px",fontSize:"14px",color:"#333",textAlign:"center",float:"left",borderRadius:"3px",lineHeight:"35px",backgroundColor:"#ddd",marginRight:"20px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},onClick:function(){return e.props.onRefuse(t)}},t.refuseText),n("a",{style:{display:"block",width:"120px",height:"35px",fontSize:"14px",color:"#333",textAlign:"center",float:"left",borderRadius:"3px",lineHeight:"35px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",backgroundColor:this.state.buttonColor},onClick:function(){e.props.onAccept(t)}},t.acceptText)))))},t}(I),$A=MA("livechat.invitation.popupImage","invitation")(XA),eM={minimize:"minimize",popup:"popup",embedded:"embedded",close:"close",inputSend:"input-send",plus:"plus",bubble:"bubble",bubbleContent:"bubble-content",bubbleLine:"bubble-line",sendfile:"sendfile",kb:"icon-kb",kbActive:"icon-kb-active",bot:"icon-bot",botActive:"icon-bot-active",media:"icon-media",mediaActive:"icon-media-active",search:"kb-search"},tM=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={isHover:!1},n.updateHoverStatus=n.updateHoverStatus.bind(n),n.shouldComponentUpdate=Zk(n,["type","disabled","size","className","color","id","onClick"],["isHover"]),n}return ds(t,e),t.prototype.updateHoverStatus=function(e){this.setState({isHover:e})},t.prototype.render=function(){var e=this,t=this.props,i=t.type,o=t.color,r=t.size,a=t.className,s=t.hoverScale,c=t.disabled,d=t.hoverColor,l=ls(t,["type","color","size","className","hoverScale","disabled","hoverColor"]),u={large:"icon-large",small:"icon-small",larger:"icon-larger",smaller:"icon-smaller",normal:"icon-normal"}[r]||"",p=i.split("#"),h=p[0],f=p[1],m=ZA("icon","icon-"+h,u,s&&"icon-hover",a),b=l.style||{};return d&&this.state.isHover?b.color=d:o?b.color=o:f&&(b.color="#"+f),"number"==typeof r&&(b.fontSize=r+"px"),c&&(b.color="#999"),n("i",cs({},l,{style:b,className:m,onMouseOver:function(){return e.updateHoverStatus(!0)},onMouseOut:function(){return e.updateHoverStatus(!1)}}))},t}(I);tM.types=eM;var nM,iM,oM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.refuse=null,i.timer=null,i.updateHeight=i.updateHeight.bind(i),n.onHeightChange&&n.onHeightChange(1/0),i.shouldComponentUpdate=_d("shouldComponentUpdate")(Zk(i,["invitation.messageId"])),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;Pd(this.element,this.updateHeight),this.props.onHeightChange&&(this.cb=setTimeout(function(){e.cb=null;var t=e.element.getBoundingClientRect();0===t.height?e.cb=setInterval(function(){if(!e.element)return clearInterval(e.cb),void(e.cb=null);var t=e.element.getBoundingClientRect();t.height>0&&(e.props.onHeightChange(t.height),clearInterval(e.cb),e.cb=null)},100):e.props.onHeightChange(t.height)},375))},t.prototype.componentDidUpdate=function(){if(this.props.onHeightChange){var e=this.element.getBoundingClientRect();this.props.onHeightChange(e.height)}},t.prototype.componentWillUnmount=function(){this.props.onHeightChange&&!this.props.ifNewMessageComing&&this.props.onHeightChange(0),this.timer&&(clearTimeout(this.timer),this.timer=null),this.cb&&(clearTimeout(this.cb),this.cb=null),Dd(this.element,this.updateHeight)},t.prototype.updateHeight=function(){var e=this.element.getBoundingClientRect().height;0!==e&&(clearTimeout(this.cb),clearInterval(this.cb),this.cb=null,this.props.onHeightChange&&this.props.onHeightChange(e))},t.prototype.render=function(){var e=this,t=this.props.invitation;return n("div",{className:ZA("invitation",t.winType===qd?"invitation--bubble":"",t.winType===Gd?"invitation--circle":"",t.winType===Yd?"invitation--classic":""),onClick:function(){e.props.onAccept(t)},ref:function(t){e.element=t},onAnimationEnd:this.props.onAnimationEnd},t.agentName&&n("div",{className:"invitation__name"},t.agentName),n("div",{className:"invitation__message"},t.message),n("div",{className:"invitation__close",onClick:function(n){$c(n),e.props.onRefuse(t)},ref:function(t){e.refuse=t}},n(tM,{type:eM.close,size:12})),n("div",{className:"invitation__type animated invitation-showType"},t.textTypeHere))},t}(I),rM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={statePrevProps:null},i.onAnimationEnd=i.onAnimationEnd.bind(i),i}return ds(t,e),t.prototype.shouldComponentUpdate=function(e,t){return null===this.state.statePrevProps||e.invitation.messageId!==this.props.invitation.messageId||t.statePrevProps.invitation.messageId!==this.state.statePrevProps.invitation.messageId},t.prototype.onAnimationEnd=function(){this.setState({statePrevProps:this.props})},t.prototype.render=function(){return n("div",{className:(null===this.state.statePrevProps||this.props.invitation.messageId!==this.state.statePrevProps.invitation.messageId)&&"invitation--coming",style:{position:"fixed","z-index":nS}},n(oM,cs({},this.props,{onAnimationEnd:this.onAnimationEnd})),null!==this.state.statePrevProps&&this.props.invitation.messageId!==this.state.statePrevProps.invitation.messageId&&n(oM,cs({},this.state.statePrevProps,{ifNewMessageComing:!0})))},t}(I),aM=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={backgroundImageLoad:!1},n.isInvitationViewed=!1,n}return ds(t,e),t.prototype.componentDidMount=function(){var e=this,t=new Image;t.src=this.props.invitation.image,t.onload=function(){e.setState({backgroundImageLoad:!0,imgWidth:t.width,imgheight:t.height})}},t.prototype.render=function(){var e=this,t=this.props.invitation;return n("div",null,t.ifModal&&n("div",{style:{zIndex:tS,position:"fixed",top:0,bottom:0,left:0,right:0,background:"rgba(0, 0, 0, 0.3)",display:this.state.backgroundImageLoad?"":"none"}}),n("div",{style:cs({},Sb(t.position,tS),{zIndex:nS,position:"fixed",background:"url('"+t.image+"') no-repeat scroll 0% 0% transparent;",width:this.state.imgWidth,height:this.state.imgheight,display:this.state.backgroundImageLoad?"":"none"})},n("img",{src:t.image,onClick:function(){e.props.onAccept(t)},id:"invitationAcceptImg",style:{visibility:"show",display:"inline",cursor:"pointer"},alt:"invitation"}),n("div",{onClick:function(){e.props.onAccept(t)},style:{position:"absolute",cursor:"pointer",left:t.messageArea.left,top:t.messageArea.top,width:t.messageArea.width,height:t.messageArea.height,textAlign:t.textAlign,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textDecoration:t.textDecoration,color:t.color,fontFamily:t.fontFamily,background:"rgba(0,0,0,0)",overflow:"hidden",whiteSpace:"pre-wrap"}},t.message),n("div",{onClick:function(n){e.props.onRefuse(t),n.stopPropagation(),n.cancelBubble=!0},style:{position:"absolute",cursor:"pointer",left:t.closeArea.left,top:t.closeArea.top,width:t.closeArea.width,height:t.closeArea.height,background:"rgba(0,0,0,0)"}})))},t}(I),sM=MA("livechat.invitation.popupImage","invitation")(aM),cM=(nM={},nM[lm]=$A,nM[dm]=rM,nM[sm]=sM,nM),dM=function(e){var t=cM[e.invitation.type];return t?n(t,e):null
},lM="*,::after,::before{box-sizing:border-box}html{margin:0;font-size:15px}body{margin:0;font-family:\"SourceSans Pro\",Arial;line-height:1.42857143;overflow:hidden}.chatButtonMask{position:fixed;right:30px;bottom:0;width:70px;height:100px;z-index:9}.chatButtonMask--hidden{display:none}.chatButton::after,.chatButton::before{display:block;content:''}.chatButtonContainer--mobile.chatButtonMask{right:0;bottom:0;width:100px;height:100px}.chatButtonContainer--mobile.chatButtonMask--fullscreen,.chatButtonMask--fullscreen{width:calc(100% - 60px);height:calc(100% - 60px);overflow:hidden}.chatButtonContainer--mobile.chatButtonMask--classic.chatButtonMask--fullscreen{height:calc(100% - 0px)}.chatButtonContainer--mobile.chatButtonMask--fullscreen,.window--mobile .chatButtonMask--fullscreen{width:100%;height:100%;right:0;bottom:0}.chatButtonMask--circle.chatButtonMask--fullscreen{height:calc(100% - 75px)}.chatButtonContainer--mobile.chatButtonMask--circle.chatButtonMask--fullscreen{height:calc(100% - 45px)}.chatButtonMask--classic,.window--classic .chatButtonMask--fullscreen{border-radius:2px 2px 0 0}.chatButtonMask--circle,.window--circle .chatButtonMask--fullscreen{border-radius:20px 20px 0 0}.chatButtonMask--bubble,.window--bubble .chatButtonMask--fullscreen{border-radius:8px 8px 0 0}.chatButtonMask.chatButtonMask--top{width:70px;height:100px;-webkit-transform:translate3d(-315px,-485px,0) scale(.714,.714);transform:translate3d(-315px,-485px,0) scale(.714,.714);z-index:2147483638}.chatButton,.chatButton::after,.chatButtonContainer{width:70px;height:70px;border-radius:100%}.chatButtonMask.chatButtonMask--circle.chatButtonMask--top{-webkit-transform:translate3d(-137.5px,-475px,0) scale(1.214,1.214);transform:translate3d(-137.5px,-475px,0) scale(1.214,1.214)}.chatButtonContainer{position:fixed;bottom:30px;right:30px;z-index:2147483636}.chatButton{position:absolute;right:0;bottom:0;box-shadow:0 1px 6px rgba(0,0,0,.3)}.chatButtonMask.chatButtonContainer--mobile .chatButton{right:30px;bottom:30px}.chatButtonMask .chatButton{bottom:30px}.chatButton:hover{box-shadow:0 3px 10px rgba(0,0,0,.3);transition:box-shadow .4s cubic-bezier(.785,.135,.15,.86);cursor:pointer;will-change:transform}.chatButton--minimized.chatButton,.chatButton.chatButton--maximized,.chatButton.chatButton--maximized:hover{box-shadow:none}.chatButton::before{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%}.chatButton--maximized .chatButton__svg-chat,.chatButton--minimized svg{display:none}.chatButton--ripple::before{-webkit-animation:at-ripple 16.417s linear 3.625s infinite;animation:at-ripple 16.417s linear 3.625s infinite}.chatButton--maximized{-webkit-animation:xAxis .4s forwards cubic-bezier(.02,.01,.21,1);animation:xAxis .4s forwards cubic-bezier(.02,.01,.21,1)}.chatButton--maximized::after{content:'';-webkit-animation:yAxis .4s forwards cubic-bezier(.545,.075,.72,.93);animation:yAxis .4s forwards cubic-bezier(.545,.075,.72,.93)}.chatButton--minimized{-webkit-animation:xAxis-back .4s forwards cubic-bezier(.785,.135,.15,.86);animation:xAxis-back .4s forwards cubic-bezier(.785,.135,.15,.86)}.chatButton--minimized::after{content:'';position:relative;-webkit-animation:yAxis-back .4s forwards cubic-bezier(.02,.01,.21,1);animation:yAxis-back .4s forwards cubic-bezier(.02,.01,.21,1)}.chatButton__svg-chat{position:absolute;left:16px;top:16px;z-index:9}.chatButton__svg-chat-path{stroke-dasharray:120;stroke-dashoffset:120;fill:#fff}.chatButton--scaleAnimation .chatButton__svg-chat-path{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-name:dash,fillIn;animation-name:dash,fillIn;-webkit-animation-duration:417ms,167ms;animation-duration:417ms,167ms;-webkit-animation-delay:625ms,1.042s;animation-delay:625ms,1.042s}@-webkit-keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@-webkit-keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}@keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}.dot__element{display:inline-block;width:3px;height:3px;margin-left:3px;border-radius:100%;position:relative}.chatButton--avatar::after,.chatButton--maximizedAsChatting::after,.chatButton--minimizedAsChatting::after{width:70px;height:70px;background-repeat:no-repeat;background-size:cover;border-radius:100%;content:''}.dot__element:first-child{margin-left:0}@-webkit-keyframes dot--animation{0%{opacity:0;-webkit-transform:translateY(-35px);transform:translateY(-35px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes dot--animation{0%{opacity:0;-webkit-transform:translateY(-35px);transform:translateY(-35px)}100%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.dot--animation{-webkit-animation-name:dot--animation;animation-name:dot--animation;-webkit-animation-delay:1.209s;animation-delay:1.209s}@-webkit-keyframes xAxis{100%{-webkit-transform:translateX(-170px);transform:translateX(-170px)}}@keyframes xAxis{100%{-webkit-transform:translateX(-170px);transform:translateX(-170px)}}@-webkit-keyframes yAxis{78%{-webkit-transform:translateY(-185px) translateZ(0) scale(8.97,8.97);transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{-webkit-transform:translateY(-185px) translateZ(0) scale(10.235,10.235);transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{-webkit-transform:translateY(-185px) translateZ(0) scale(11.5,11.5);transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}@keyframes yAxis{78%{-webkit-transform:translateY(-185px) translateZ(0) scale(8.97,8.97);transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{-webkit-transform:translateY(-185px) translateZ(0) scale(10.235,10.235);transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{-webkit-transform:translateY(-185px) translateZ(0) scale(11.5,11.5);transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}@-webkit-keyframes xAxis-back{0%{-webkit-transform:translateX(-170px);transform:translateX(-170px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes xAxis-back{0%{-webkit-transform:translateX(-170px);transform:translateX(-170px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes yAxis-back{0%{-webkit-transform:translateY(-185px) translateZ(0) scale(11.5,11.5);transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent;z-index:10}11%{-webkit-transform:translateY(-185px) translateZ(0) scale(10.235,10.235);transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent;z-index:10}22%{-webkit-transform:translateY(-185px) translateZ(0) scale(8.97,8.97);transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent;z-index:10}99.99%{z-index:10}100%{z-index:8}}@keyframes yAxis-back{0%{-webkit-transform:translateY(-185px) translateZ(0) scale(11.5,11.5);transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent;z-index:10}11%{-webkit-transform:translateY(-185px) translateZ(0) scale(10.235,10.235);transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent;z-index:10}22%{-webkit-transform:translateY(-185px) translateZ(0) scale(8.97,8.97);transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent;z-index:10}99.99%{z-index:10}100%{z-index:8}}.chatButton--maximizedAsChatting{-webkit-transform:scale(.714,.714);-ms-transform:scale(.714,.714);transform:scale(.714,.714);-webkit-animation:chatButton--maximizedAsChattingyAxis .4s cubic-bezier(.545,.075,.72,.93) 125ms both;animation:chatButton--maximizedAsChattingyAxis .4s cubic-bezier(.545,.075,.72,.93) 125ms both}.chatButtonMask--circle.chatButton--maximizedAsChatting{-webkit-transform:scale(1.214,1.214);-ms-transform:scale(1.214,1.214);transform:scale(1.214,1.214);-webkit-animation:chatButton--maximizedAsChattingyAxisCircle .4s cubic-bezier(.545,.075,.72,.93) 125ms both;animation:chatButton--maximizedAsChattingyAxisCircle .4s cubic-bezier(.545,.075,.72,.93) 125ms both}.chatButton--maximizedAsChatting .chatButton::before{-webkit-animation:none;animation:none}.chatButton--maximizedAsChatting::after{display:block;box-shadow:0 1px 6px rgba(0,0,0,.3);-webkit-animation:chatButton--maximizedAsChattingxAxis .4s cubic-bezier(.02,.01,.23,.76) 125ms both;animation:chatButton--maximizedAsChattingxAxis .4s cubic-bezier(.02,.01,.23,.76) 125ms both}.chatButtonMask--circle.chatButton--maximizedAsChatting::after{-webkit-animation:chatButton--maximizedAsChattingxAxisCircle .4s cubic-bezier(.02,.01,.23,.76) 125ms both;animation:chatButton--maximizedAsChattingxAxisCircle .4s cubic-bezier(.02,.01,.23,.76) 125ms both}.chatButton--maximizedAsChatting .chatButton--newMessage{display:none}.chatButton--avatar .chatButton,.chatButton--maximizedAsChatting .chatButton,.chatButton--minimizedAsChatting .chatButton{box-shadow:none}.chatButton--minimizedAsChatting{z-index:11;-webkit-animation:chatButton--minimizedAsChattingyAxis .4s cubic-bezier(.02,.01,.32,1.02) both;animation:chatButton--minimizedAsChattingyAxis .4s cubic-bezier(.02,.01,.32,1.02) both}.chatButtonMask--circle.chatButton--minimizedAsChatting{-webkit-animation:chatButton--minimizedAsChattingyAxisCircle .4s cubic-bezier(.02,.01,.32,1.02) both;animation:chatButton--minimizedAsChattingyAxisCircle .4s cubic-bezier(.02,.01,.32,1.02) both}.chatButton--minimizedAsChatting .chatButton::after,.chatButton--minimizedAsChatting .chatButton::before{-webkit-animation:none;animation:none}.chatButton--avatar::after,.chatButton--minimizedAsChatting::after{display:block;box-shadow:0 1px 6px rgba(0,0,0,.3);-webkit-animation:chatButton--minimizedAsChattingxAxis .4s cubic-bezier(.43,.17,.72,.93) both;animation:chatButton--minimizedAsChattingxAxis .4s cubic-bezier(.43,.17,.72,.93) both}.chatButton--avatar::after{-webkit-animation:none;animation:none}.chatButtonMask--circle.chatButton--minimizedAsChatting::after{-webkit-animation:chatButton--minimizedAsChattingxAxisCircle .4s cubic-bezier(.43,.17,.72,.93) both;animation:chatButton--minimizedAsChattingxAxisCircle .4s cubic-bezier(.43,.17,.72,.93) both}.chatButton--avatar .chatButton::after,.chatButton--maximizedAsChatting .chatButton::after,.chatButton--minimizedAsChatting .chatButton::after{background-color:transparent!important}.chatButton--avatar .chatButton,.chatButton--minimizedAsChatting .chatButton{z-index:1}.chatButton--avatar .chatButton .chatButton__svg-chat,.chatButton--maximizedAsChatting .chatButton .chatButton__svg-chat,.chatButton--minimizedAsChatting .chatButton .chatButton__svg-chat{display:none}.chatButton--minimizedAsChatting .chatButton__agentAvatarImg{position:absolute;display:block;width:100%;height:100%;border-radius:100%}.chatButton--newMessage{position:absolute;right:0;top:4px;z-index:9;width:16px;height:16px;line-height:16px;background:rgba(222,57,57,.9);border-radius:100%;color:#fff;text-align:center;font-size:.8rem;-webkit-animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both;animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both}@-webkit-keyframes newincoming{0%{-webkit-transform:scale(0);transform:scale(0)}75%{-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes newincoming{0%{-webkit-transform:scale(0);transform:scale(0)}75%{-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{-webkit-animation-name:at-ripple;animation-name:at-ripple}.invitation{position:fixed;z-index:2147483637;cursor:pointer;right:35px;bottom:125px;width:250px;padding-top:17px;border:1px solid #ddd;background:#fff}.invitation__message,.invitation__name{font-size:1rem;padding:0 25px;overflow:hidden;text-overflow:ellipsis}.invitation--bubble{border-radius:8px}.invitation--bubble .invitation__type{border-radius:0 0 8px 8px}.invitation--classic{border-radius:4px}.invitation--classic .invitation__type{border-radius:0 0 4px 4px}.invitation--circle{border-radius:20px}.invitation--circle .invitation__type{border-radius:0 0 20px 20px}.invitation__name{color:#000;font-family:\"SourceSans Pro Bold\";max-width:100%;white-space:nowrap}.invitation__message{line-height:18px;margin-bottom:19px;color:#666;max-height:180px;display:-webkit-box;-webkit-line-clamp:10;-webkit-box-orient:vertical}.invitation__message,.invitation__name{-webkit-animation:fadeIn 167ms cubic-bezier(.785,.135,.15,.86) 292ms both;animation:fadeIn 167ms cubic-bezier(.785,.135,.15,.86) 292ms both}.invitation__close{position:absolute;top:0;right:0;padding:5px 8px;font-size:1.333333rem;color:#333;line-height:1;cursor:pointer}.invitation__type{height:35px;line-height:35px;padding:0 25px;background:#f0f0f0;color:#bbb;font-size:.933333rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.invitation::after,.invitation::before{content:'';position:absolute;width:0;height:0}.invitation::before{right:20px;bottom:-22px;border:11px solid transparent;border-top-color:#ddd}.invitation::after{right:22px;bottom:-18px;border:9px solid transparent;border-top-color:#f0f0f0}@-webkit-keyframes invitation-show{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0;-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1;-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-show{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0;-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1;-webkit-transform-origin:calc(100% - 29px) calc(100% + 18px);transform-origin:calc(100% - 29px) calc(100% + 18px)}}.invitation-show{-webkit-animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both}@-webkit-keyframes invitation-showType{0%{-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}@keyframes invitation-showType{0%{-webkit-transform:translateY(35px);transform:translateY(35px);opacity:0}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}}.invitation-showType{-webkit-animation:invitation-showType .25s cubic-bezier(.785,.135,.15,.86) 125ms both;animation:invitation-showType .25s cubic-bezier(.785,.135,.15,.86) 125ms both}@-webkit-keyframes invitation-showmessage{0%{opacity:0}100%{opacity:1}}@keyframes invitation-showmessage{0%{opacity:0}100%{opacity:1}}.invitation-showmessage{-webkit-animation-name:invitation-showmessage;animation-name:invitation-showmessage;-webkit-animation-duration:167ms;animation-duration:167ms;-webkit-animation-delay:292ms;animation-delay:292ms;white-space:pre-wrap;word-break:break-word}.invitation--coming .invitation:nth-child(2){-webkit-animation:fadeOutUp 374ms linear both;animation:fadeOutUp 374ms linear both;z-index:2147483636}@-webkit-keyframes fadeOutUp{from{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.invitation--coming .invitation:nth-child(1){-webkit-animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;z-index:2147483636}",uM=3.625,pM=function(e,t,n,i){return{border:"none",width:e,height:t,position:"fixed",right:n,bottom:i,zIndex:eS}},hM="chatButton",fM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.style=Mt(n.fontCSS,n.button.color),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted(this.props.button.id),yx("livechat.button.show",this.props.button);var e=qc.querySelector("#"+this.props.button.divId+" iframe");e&&e.getBoundingClientRect()},t.prototype.componentWillReceiveProps=function(e){return},t.prototype.componentWillUnmount=function(){yx("livechat.button.hide",this.props.button),this.timer||clearTimeout(this.timer)},t.prototype.render=function(){var e=this,t=122,i=t,o=this.props,r=o.button,a=o.onClick,s=o.onAnimated,c=o.windowStatus,d=o.messageCount,l=o.windowStyle,u=o.isMobile,p=this.props.bubbleInvitation,h=r.iframeStyle,f=h&&h.width,m=h&&h.height;c===cl?l===Yd?(t=u?"100%":f||460,i=u?"100%":m||620):l===Gd?(t=u?"100%":f||420,i=u?"100%":m||610):l===qd&&(t=u?"100%":f||380,i="100%"):p&&(t=290,i=this.state.invHeight===1/0?"100%":this.state.invHeight+130);var b=this.props.button.chatWindowLink,w=0,g=0;if(c===cl&&r.iframeStyle){var v=r.iframeStyle;null!=v.right&&(w=v.right),null!=v.left&&(w=this.props.width-(v.left+v.width)),null!=v.bottom&&(g=v.bottom),null!=v.top&&(g=this.props.height-(v.top+v.height))}return n(Xk,{style:pM(t,i,w,g)},n(qA,{css:this.style}),p&&c===fl&&n(dM,{invitation:{winType:p.winType,ifShow:!0,id:p.id,type:p.type,message:p.message,agentName:p.agentName,textTypeHere:p.textTypeHere,campaignId:p.campaignId,isManual:p.isManual},onAccept:this.props.onAccept,onRefuse:this.props.onRefuse,onHeightChange:function(t){e.setState({invHeight:t})}}),n(JA,{isMobile:u,avatar:p&&p.avatar,ifRipple:!p&&this.props.online,"chatButton--ripple":!0,onClick:a,href:b,count:d,status:c,online:this.props.online,onOpened:s,campaignId:r.id,windowStyle:r.windowStyle,iconStyle:r.svg}))},t}(I),mM=NA(At(RA(fM))),bM=function(e,t){if(!e&&t)return!1;if(!t&&e)return!1;if(!t&&!e)return!0;var n=[].concat(e),i=[].concat(t);return n.length===i.length&&n.every(function(e,t){return e.timespan===i[t].timespan&&e.duration===i[t].duration})},wM=function(e){return At(function(t){function i(e){ss(this,i);var n=us(this,t.call(this,e));return n.timer=null,n.hOnline=[].concat(e.hOnline),n.setTimespan=n.setTimespan.bind(n),n.heartbeat=n.heartbeat.bind(n),n.tick=n.tick.bind(n),n.registerStop=n.registerStop.bind(n),n.clean=n.clean.bind(n),n.initial=n.initial.bind(n),n}return ds(i,t),i.prototype.componentDidMount=function(){this.props.hOnline&&this.initial()},i.prototype.componentDidUpdate=function(e){e.hOnline&&!this.props.hOnline&&this.clean(),!e.hOnline&&this.props.hOnline&&(this.hOnline=[].concat(this.props.hOnline),this.initial()),!bM(e.hOnline,this.props.hOnline)&&e.hOnline&&this.props.hOnline&&(this.clean(),this.hOnline=[].concat(this.props.hOnline),this.initial())},i.prototype.componentWillUnmount=function(){this.clean()},i.prototype.setTimespan=function(){var e=this.hOnline.shift();e&&(this.duration=e.duration,this.timespanTimer=setTimeout(this.setTimespan,1e3*e.timespan))},i.prototype.initial=function(){this.setTimespan(),this.tick(),this.registerStop(),this.props.hDelay||this.props.hCallback(this.props)},i.prototype.heartbeat=function(){if(this.props.hCallback(this.props),!this.duration)return void(this.heartbeatTimer=null);this.tick()},i.prototype.tick=function(){var e=void 0!==this.props.hOffline?this.props.hOffline:this.duration;this.heartbeatTimer=setTimeout(this.heartbeat,1e3*e)},i.prototype.registerStop=function(){void 0!==this.props.hStop&&(this.stopTimer=setTimeout(this.clean,1e3*this.props.hStop))},i.prototype.clean=function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.timespanTimer&&clearTimeout(this.timespanTimer),this.stopTimer&&clearTimeout(this.stopTimer),this.heartbeatTimer=null,this.timespanTimer=null,this.stopTimer=null},i.prototype.render=function(){var t=this.props,i=(t.hOnline,t.hOffline,t.hCallback,t.hStop,ls(t,["hOnline","hOffline","hCallback","hStop"]));return n(e,i)},i}(I))},gM={},vM=2,yM=Yc(10)(function(e,t){return t(e)}),_M=(iM={},iM.monitor=FA,iM.text=BA,iM.image=WA,iM.float=HA,iM.adaptive=mM,iM),xM=function(e){var t=e.divId;if("float"===e.type)if(void 0!==gM[t])t=gM[t];else{var n="comm100-float-button-"+vM,i=qc.createElement("div");i.id=n;var o=qc.getElementById("comm100-container");o.appendChild(i),gM[t]=n,t=n,vM+=1}return yM(qc.getElementById(t),_M[e.type])},kM=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){this.props.onMounted()},t.prototype.render=function(){var e=this,t=this.props,i=t.bubbleInvitation,o=t.buttons,r=t.siteId,a=t.onClick,s=t.onEachMounted,c=t.status,d=t.windowStatus,l=t.width,u=t.height,p=t.isMobile,h=t.messageCount,f=t.onAccept,m=t.onRefuse,b=t.onAnimated,w=t.windowStyle;return n("div",null,o.map(function(t){var o=xM(t),g=c[t.id];return n(o,{fontCSS:e.props.fontCSS,bubbleInvitation:i,messageCount:h,onAccept:f,onRefuse:m,online:g,button:t,siteId:r,onClick:function(n){n.preventDefault(),a(t,e.props.windowStatus)},onMounted:s,key:t.id,isMobile:p,windowStatus:d,onAnimated:b,windowStyle:w,width:l,height:u})}))},t}(I),CM=wM(At(kM)),SM=function(e){return e!==fl&&e!==cl},AM=function(){Array.prototype.slice.call(qc.querySelectorAll(".comm100-powered-by")).forEach(function(e){e.parentNode.removeChild(e)})},MM=function(e){var t=Sp(e),n=kp(e),i=Up(e),o=K(e),r=void 0;!SM(t)&&Ul(e)&&(r=Tl(e));var a=o&&o.messageCount?o.messageCount:0,s=void 0;Object.keys(n).every(function(e){return!n[e]})&&(s=Il(e));var c=Pl(e);return{fontCSS:Ib(bl(e),D(kl,e)),buttons:i,status:n,windowStatus:t,messageCount:a,bubbleInvitation:o,siteId:Cp(e),isMobile:Op(e),onMounted:AM,hOnline:r,hOffline:s,hStop:c,hDelay:!0,windowStyle:Mm(e,_p(e)),width:Yp(e),height:jp(e)}},TM=function(e){return{onEachMounted:function(){e({type:"onMounted"})},onClick:function(t,n){n===fl&&(e(Sg(t.id)),e(Ig(t.id)),yx("livechat.button.click",t))},onAccept:function(t){var n=t.campaignId,i=t.id;yx("livechat.invitation.accept",i),e(Cg()),e(Ig(n))},onRefuse:function(t){var n=t.id;yx("livechat.invitation.refuse",n),e(Ag())},hCallback:function(){e(cy())},onAnimated:function(){e(Ng())}}},IM=uA(MM,TM)(CM),PM=function(e){return{invitation:Z(e)}},DM=function(e){return{onAccept:function(t){yx("livechat.invitation.accept",t.id),e(Cg(t.campaignId)),e(Ig(t.campaignId))},onRefuse:function(t){yx("livechat.invitation.refuse",t.id),e(Ag())}}},NM=uA(PM,DM)(dM),RM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));i.title=qc.title,i.flag=!0,i.flashTitle=i.flashTitle.bind(i),i.resetTitle=i.resetTitle.bind(i);var o=i.updateTitle.bind(i);return i.componentDidMount=o,i.componentDidUpdate=o,i.shouldComponentUpdate=Zk(i,["message"]),i}return ds(t,e),t.prototype.componentWillUnmount=function(){this.timer&&this.resetTitle()},t.prototype.flashTitle=function(){var e=this;this.timer=setTimeout(function(){qc.title=e.flag?e.message+" - "+e.title:e.title,e.flag=!e.flag,e.flashTitle()},1e3)},t.prototype.updateTitle=function(){var e=this.props.message;if(!e)return void this.resetTitle();this.timer||(this.flag=!0,this.flashTitle()),this.message=e},t.prototype.resetTitle=function(){clearTimeout(this.timer),this.timer=null,qc.title=this.title},t.prototype.render=function(){return""},t}(I),OM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={isMouseDown:!1},i.doDrag=i.doDrag.bind(i),i.stopDrag=i.stopDrag.bind(i),i.startDrag=i.startDrag.bind(i),i.mouseStart={x:0,y:0},i.divStart={x:0,y:0},i.benchmarkTopAndLeft=void 0!==n.left&&void 0!==n.top,i}return ds(t,e),t.prototype.startDrag=function(e){var t=e;ed(t),this.mouseStart.x=t.clientX,this.mouseStart.y=t.clientY,this.setState({isMouseDown:!0});var n=this.props,i=n.left,o=n.top;this.benchmarkTopAndLeft?(this.divStart.x=i,this.divStart.y=o):(this.divStart.x=this.props.width-this.props.right-this.props.ifrWidth,this.divStart.y=this.props.height-this.props.bottom-this.props.ifrHeight),qc.addEventListener("mousemove",this.doDrag),qc.addEventListener("mouseup",this.stopDrag)},t.prototype.doDrag=function(e){var t=e;if(t||t.button){var n=t.clientX-this.mouseStart.x+this.divStart.x,i=t.clientY-this.mouseStart.y+this.divStart.y,o=this.props.width-this.props.ifrWidth,r=this.props.height-this.props.ifrHeight;n=n<0?0:n,i=i<0?0:i,n=n>o?o:n,i=i>r?r:i;var a=this.props.width-n-this.props.ifrWidth,s=this.props.height-i-this.props.ifrHeight,c=n,d=i;this.benchmarkTopAndLeft?this.props.ifrLeftAndTopPositionChanged(c,this.props.ifCanOnlyHorizontalDrag?this.props.top:d):this.props.ifrPositionChanged(a,s)}else this.stopDrag()},t.prototype.stopDrag=function(){this.setState({isMouseDown:!1}),qc.removeEventListener("mousemove",this.doDrag),qc.removeEventListener("mouseup",this.stopDrag)},t.prototype.render=function(){var e=void 0,t=this.props,i=t.id,o=t.left,r=t.top,a=t.width,s=t.height,c=t.barHeight,d=t.barWidth,l=t.ifrHeight,u=t.ifrWidth,p=t.ifrOffsetTop,h=t.ifrOffsetLeft;e=this.state.isMouseDown?this.benchmarkTopAndLeft?s-r-c:this.props.bottom:this.benchmarkTopAndLeft?s-r-c:this.props.bottom+l-(c+p);var f=void 0;return f=this.state.isMouseDown?this.benchmarkTopAndLeft?a-o-d-h:this.props.right:this.benchmarkTopAndLeft?a-o-d-h:this.props.right+u-(d+h),n("div",{id:i,className:"movediv",onMouseDown:this.startDrag,style:{height:this.state.isMouseDown?l:c,width:this.state.isMouseDown?u:d,backgroundColor:"rgba(0,0,0,0)",bottom:e,right:f,position:"fixed",cursor:"move",zIndex:rS}})},t}(I);OM.defaultProps={ifrOffsetLeft:30,ifrOffsetTop:30,barHeight:24,barWidth:315};var WM,EM,BM=1,LM=2,FM=3,zM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.bodyDisableScroll=n.onMount,i.bodyEnableScroll=n.onUnmount,i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.show?this.bodyDisableScroll():this.bodyEnableScroll()},t.prototype.componentDidUpdate=function(e){var t=this.props.show;e.show!==t&&(t?this.bodyDisableScroll():this.bodyEnableScroll())},t.prototype.componentWillUnmount=function(){this.bodyEnableScroll()},t.prototype.render=function(){var e=this,t=this.props,i=t.windowStatus,o=t.isMobile,r=t.isRightToLeft,a=t.isPoppedOut,s=t.windowStyle,c=t.children,d=t.windowTab,l=t.chatStatus,u=t.env,p=t.isIPad,h=t.show,f=t.showAvatar,m=t.ifShowSideWindow,b=ZA(i===hl&&"window--minimized",d===Jd&&ZA(l===Vd&&"animation--waiting",l===Hd&&"animation--chatting",l===jd&&"animation-chatted"));return n("div",{className:ZA("embedded-window",o&&"window--mobile",m&&"withSideWin",p&&"window--ipad",o&&u===LM&&"window--mobileVertical",o&&u===BM&&"window--mobileHorizontal",kd&&"window--ie"),ref:function(t){e.element=t},style:{display:h?"":"none"}},n("div",{id:"whole-window",className:ZA(f&&"window--bio","whole-window","window--animated",r?"window--rtl":"",a?"":"window--embedded",Zd(s),s===Gd&&m&&!p&&!o&&"window--circle--sidewindow",s===Yd&&m&&!p&&!o&&"window--classic--sidewindow",b,Sd?"window--ie9":"")},n("div",{id:"main",className:"main-container",style:m&&o&&d===Jd&&(s!==qd?{height:"calc(100% - 35px)"}:{bottom:"35px"})},c)))},t}(I),VM="bubbleline",UM=(WM={},WM.rating=[n("path",{key:"svgRatePath1",className:"svgPath footer__svgRatePath1",d:"M11.9,14.7c-0.1,0-0.1,0-0.2,0l-3.7-1.8l-3.7,1.8c-0.2,0.1-0.3,0.1-0.4,0c-0.1-0.1-0.2-0.3-0.2-0.4L4.3,10l-3-3.2C1.3,6.6,1.3,6.5,1.3,6.4c0.1-0.2,0.2-0.3,0.4-0.3l4-0.8l2-3.8C7.7,1.3,7.8,1.3,8,1.3l0,0c0.2,0,0.3,0.1,0.4,0.3l2,3.8l4,0.8c0.2,0,0.3,0.2,0.4,0.3c0.1,0.2,0,0.3-0.1,0.4l-2.8,3.1l0.5,4.3c0,0.2-0.1,0.3-0.2,0.4C12.1,14.7,12,14.7,11.9,14.7L11.9,14.7z"}),n("path",{key:"svgRatePath2",className:"svgPath footer__svgRatePath2",d:"M11.9,14.7c-0.1,0-0.1,0-0.2,0l-3.7-1.8l-3.7,1.8c-0.2,0.1-0.3,0.1-0.4,0c-0.1-0.1-0.2-0.3-0.2-0.4L4.3,10l-3-3.2C1.3,6.6,1.3,6.5,1.3,6.4c0.1-0.2,0.2-0.3,0.4-0.3l4-0.8l2-3.8C7.7,1.3,7.8,1.3,8,1.3l0,0c0.2,0,0.3,0.1,0.4,0.3l2,3.8l4,0.8c0.2,0,0.3,0.2,0.4,0.3c0.1,0.2,0,0.3-0.1,0.4l-2.8,3.1l0.5,4.3c0,0.2-0.1,0.3-0.2,0.4C12.1,14.7,12,14.7,11.9,14.7L11.9,14.7z"})],WM.sendfile=[n("path",{key:"svgPathSendFile1",className:"svgPath footer__svgPathSendFile1",d:"M8.4,5.1c0,0-2.8,3-3.1,3.3C5,8.7,4.9,9.1,5,9.4c0.1,0.4,0.9,1.2,1.1,1.3c0.6,0.4,1,0,1.5-0.4s5.1-5.1,5.4-5.5s0.7-1.1,0.5-1.9c-0.1-0.5-1.3-2-2.1-2.2c-0.8-0.2-1.4,0-2.1,0.6C8.6,1.8,2.8,8,2.4,8.4s-0.9,1-0.9,2s1,3.7,3.6,4.1c1,0.1,1.7-0.4,2-0.8c0.4-0.5,4.6-4.8,4.6-4.8"}),n("path",{key:"svgPathSendFile2",className:"svgPath footer__svgPathSendFile2",d:"M8.4,5.1c0,0-2.8,3-3.1,3.3C5,8.7,4.9,9.1,5,9.4c0.1,0.4,0.9,1.2,1.1,1.3c0.6,0.4,1,0,1.5-0.4s5.1-5.1,5.4-5.5s0.7-1.1,0.5-1.9c-0.1-0.5-1.3-2-2.1-2.2c-0.8-0.2-1.4,0-2.1,0.6C8.6,1.8,2.8,8,2.4,8.4s-0.9,1-0.9,2s1,3.7,3.6,4.1c1,0.1,1.7-0.4,2-0.8c0.4-0.5,4.6-4.8,4.6-4.8"})],WM.videochat=[n("path",{key:"svgPathVideo1",className:"svgPath footer__svgPathVideo1",d:"M12.6,6.4h-0.8V4.2c0,0-0.1-0.9-0.9-0.9c0,0-8.7,0-9.4,0S0.5,3.7,0.5,4.5s0,7.3,0,7.3s0.1,0.9,0.8,0.9h9.4c0,0,0.9-0.2,0.9-0.9v-1.5h0.9l2.8,2.4V4.2L12.6,6.4z"}),n("circle",{key:"svgPathVideo2",className:"svgPath footer__svgPathVideo2",cx:"2.5",cy:"5.5",r:"0.5"}),n("circle",{key:"svgPathVideo3",className:"svgPath footer__svgPathVideo2",cx:"4.5",cy:"5.5",r:"0.5"}),n("path",{key:"svgPathVideo4",className:"svgPath footer__svgPathVideo3",d:"M12.6,6.4h-0.8V4.2c0,0-0.1-0.9-0.9-0.9c0,0-8.7,0-9.4,0S0.5,3.7,0.5,4.5s0,7.3,0,7.3s0.1,0.9,0.8,0.9h9.4c0,0,0.9-0.2,0.9-0.9v-1.5h0.9l2.8,2.4V4.2L12.6,6.4z"})],WM.voicechat=[n("path",{key:"svgPathVoice1",className:"svgPath footer__svgPathVoice1",d:"M8,9.3c1.4,0,2.5-1.1,2.5-2.5V4.4C10.5,3,9.4,1.8,8,1.8S5.5,3,5.5,4.4v2.5C5.5,8.1,6.6,9.3,8,9.3z"}),n("path",{key:"svgPathVoice2",className:"svgPath footer__svgPathVoice2",d:"M8,9.3c1.4,0,2.5-1.1,2.5-2.5V4.4C10.5,3,9.4,1.8,8,1.8S5.5,3,5.5,4.4v2.5C5.5,8.1,6.6,9.3,8,9.3z"}),n("path",{key:"svgPathVoice3",className:"svgPath footer__svgPathVoice3",d:"M12.5,6.9c-0.8,0-0.6,0.7-0.6,0.7c0,2.5-1.5,3.4-4,3.4s-4-1.2-4-3.7c0,0,0.2-0.5-0.6-0.5c0,0-0.5,0-0.5,0.5c0,3,1.3,4.2,4.1,4.6c0,0.3,0,2,0,2H4.7C4.3,14,4,14,4,14.5S4.4,15,4.9,15h6.4c0.4,0,0.7,0,0.7-0.5S11.7,14,11.3,14H9c0,0,0-1.7,0-2c2.8-0.5,4.1-1.4,4.1-4.3C13,7.6,13.3,6.9,12.5,6.9z"})],WM.sendemail=[n("path",{key:"sendemail1",className:"svgPath footer__sendemail1",d:"M14.7,2c0.1,0,0.2,0.1,0.2,0.1c0.2,0.2,0.2,0.5,0,0.7L8.1,9.8C8,9.9,7.8,9.9,7.7,9.9c-0.1,0-0.3,0-0.3-0.1L3.1,5.6C2.9,5.4,2.8,5,3,4.9c0.2-0.2,0.5-0.2,0.7,0l3.9,3.9l6.6-6.6C14.3,2.1,14.4,2,14.6,2c0,0,0,0-0.1,0H1.6C0.7,2,0,2.7,0,3.5v8.9C0,13.3,0.7,14,1.6,14h12.8c0.9,0,1.6-0.7,1.6-1.5V3.6C16,2.8,15.4,2.1,14.7,2z"}),n("path",{key:"sendemail2",className:"svgPath footer__sendemail2",d:"M15.5,7.2v5.4c0,0.5-0.4,1-1,1H1.5c-0.5,0-1-0.4-1-1V3.5c0-0.5,0.4-1,1-1h13.1L7.7,9.4L3.4,5.2"})],WM.checkbox=[n("path",{key:"checkbox1",className:"checkbox1",d:"M2,13.5c-0.8,0-1.5-0.7-1.5-1.5V2c0-0.8,0.7-1.5,1.5-1.5h10c0.8,0,1.5,0.7,1.5,1.5v10c0,0.8-0.7,1.5-1.5,1.5H2z"}),n("path",{key:"checkbox2",className:"checkbox2",d:"M12,1c0.6,0,1,0.4,1,1v10c0,0.6-0.4,1-1,1H2c-0.5,0-1-0.4-1-1V2c0-0.6,0.5-1,1-1H12M12,0H2C0.9,0,0,0.9,0,2v10c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V2C14,0.9,13.1,0,12,0L12,0z"}),n("path",{key:"checkbox3",className:"checkbox3",d:"M12,3c-0.2-0.3-0.6-0.3-0.9,0L5.8,8.8L4,7.2C3.8,7,3.4,6.9,3.1,7.1C2.8,7.4,2.7,7.9,2.9,8.3L5,11.7c0.1,0.1,0.2,0.2,0.3,0.3c0.5,0.4,1.2,0.3,1.6-0.3l0-0.1l5.2-7.8C12.3,3.6,12.2,3.2,12,3L12,3z"})],WM.loading=[n("g",{transform:"translate(80,50)"},n("g",{transform:"rotate(0)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.981667 0.981667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})))),n("g",{transform:"translate(71.21320343559643,71.21320343559643)"},n("g",{
transform:"rotate(45)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.956667 0.956667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})))),n("g",{transform:"translate(50,80)"},n("g",{transform:"rotate(90)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.931667 0.931667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})))),n("g",{transform:"translate(28.786796564403577,71.21320343559643)"},n("g",{transform:"rotate(135)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.906667 0.906667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})))),n("g",{transform:"translate(20,50.00000000000001)"},n("g",{transform:"rotate(180)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",ransform:"scale(0.881667 0.881667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})))),n("g",{transform:"translate(28.78679656440357,28.786796564403577)"},n("g",{transform:"rotate(225)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.856667 0.856667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})))),n("g",{transform:"translate(49.99999999999999,20)"},n("g",{transform:"rotate(270)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.831667 0.831667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})))),n("g",{transform:"translate(71.21320343559643,28.78679656440357)"},n("g",{transform:"rotate(315)"},n("circle",{cx:"0",cy:"0",r:"10",className:"loading-circle",transform:"scale(0.806667 0.806667)"},n("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"0.8 0.8;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),n("animate",{attributeName:"fill-opacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"}))))],WM.accept=[n("circle",{cx:"27.5",cy:"27.5",r:"27.5",fill:"#5DC149"}),n("path",{d:"M33.9,32.6c0,0-0.2,1-0.2,1.1c-0.1,0.5-0.2,0.3-0.4,0.3c0,0-4-1.3-6.4-3.8l-1.2-1.2c0,0-3.2-3.7-3.4-6.5c0-0.3-0.3-0.1,0.2-0.2c0.3-0.1,1.3-0.5,1.3-0.5L19.5,14l-0.8,0.4c0,0-5.7,0.6-4.6,4.7l0.9,3c6.1,10.9,18.6,18.6,18.6,18.6l2.5,1.2c3.8,1.2,5.4-4.6,5.4-4.6l0.5-1.6L33.9,32.6L33.9,32.6z",fill:"#ffffff"})],WM.refuse=[n("circle",{cx:"27.5",cy:"27.5",r:"27.5",fill:"#D34747"}),n("path",{d:"M19.8,30.3c0,0-0.5-0.8-0.6-0.9c-0.2-0.4-0.1-0.4,0.1-0.5c0,0,3.8-1.9,7.2-1.9h1.6c0,0,4.9,0.3,7,2.1c0.2,0.2,0.2-0.1,0.1,0.3c-0.1,0.3-0.5,1.3-0.5,1.3l8.5,2.4l0.3-0.8c0,0,3.7-4.4,0-6.5l-2.7-1.5c-12-3.2-26.3,0.2-26.3,0.2l-2.6,0.9c-3.6,1.9-0.6,7-0.6,7l0.7,1.4L19.8,30.3L19.8,30.3z",fill:"#ffffff"})],WM.confirm=[n("circle",{cx:"27.5",cy:"27.5",r:"27.5",fill:"#5DC149"}),n("path",{d:"M39.5,20.5c-0.6-0.6-1.5-0.6-2.1,0L25,32.8l-7.4-7.4c-0.6-0.6-1.5-0.6-2.1,0c-0.6,0.6-0.6,1.5,0,2.1L24,36c0.6,0.6,1.5,0.6,2.1,0l13.4-13.4C40.1,22,40.1,21.1,39.5,20.5z",fill:"#ffffff"})],WM.deny=[n("circle",{cx:"27.5",cy:"27.5",r:"27.5",fill:"#D34747"}),n("path",{d:"M29.6,27.5l6-6c0.6-0.6,0.6-1.5,0-2.1c-0.6-0.6-1.5-0.6-2.1,0l-6,6l-6-6c-0.6-0.6-1.5-0.6-2.1,0c-0.6,0.6-0.6,1.5,0,2.1l6,6l-6,6c-0.6,0.6-0.6,1.5,0,2.1c0.6,0.6,1.5,0.6,2.1,0l6-6l6,6c0.6,0.6,1.5,0.6,2.1,0c0.6-0.6,0.6-1.5,0-2.1L29.6,27.5z",fill:"#ffffff"})],WM.print=[n("path",{key:"print1",className:"svgPath footer__print0",d:"M14.6,3.5h-2.1V2c0-0.8-0.7-1.5-1.5-1.5H5C4.2,0.5,3.5,1.2,3.5,2v1.5H1.4C0.8,3.5-0.1,4.3-0.1,5v7  c0,0.7,0.8,1.5,1.5,1.5l1.1,0V14c0,0.8,0.7,1.5,1.5,1.5h8c0.8,0,1.5-0.7,1.5-1.5v-0.5l1.1,0c0.7,0,1.5-0.8,1.5-1.5V5  C16.1,4.3,15.2,3.5,14.6,3.5z M4.5,2c0-0.3,0.2-0.5,0.5-0.5h6c0.3,0,0.5,0.2,0.5,0.5v1.5h-7V2z M2.5,7C2.2,7,2,6.8,2,6.5S2.2,6,2.5,6C2.8,6,3,6.2,3,6.5S2.8,7,2.5,7z M12.5,14c0,0.3-0.2,0.5-0.5,0.5H4c-0.3,0-0.5-0.2-0.5-0.5c0,0,0-4.5,0-4.8S3.6,9,4,9c0,0,7.7,0,8,0s0.5,0.2,0.5,0.3S12.5,14,12.5,14z"}),n("path",{key:"print2",className:"svgPath footer__print1",d:"M14.6,13L13,13c0,0,0-3.6,0-3.8s-0.5-0.8-1-0.8s-7.5,0-8,0S3,8.8,3,9.3S3,13,3,13l-1.6,0c-0.4,0-1-0.6-1-1V5c0-0.4,0.6-1,1-1H4h8h2.6c0.4,0,1,0.6,1,1v7C15.6,12.4,15,13,14.6,13L14.6,13z"}),n("path",{key:"print3",className:"svgPath footer__print2",d:"M12,9c-0.3,0-8,0-8,0C3.6,9,3.5,9,3.5,9.3s0,4.8,0,4.8c0,0.3,0.2,0.5,0.5,0.5h8c0.3,0,0.5-0.2,0.5-0.5c0,0,0-4.5,0-4.7S12.3,9,12,9z"}),n("path",{key:"print4",className:"svgPath footer__print2",d:"M11.5,2c0-0.3-0.2-0.5-0.5-0.5H5C4.7,1.5,4.5,1.7,4.5,2v1.5h7V2z"}),n("circle",{key:"print5",className:"footer__print4",cx:"2.5",cy:"6.5",r:"0.5"}),n("path",{key:"print6",className:"svgPath footer__print3",d:"M10.5,13h-5C5.2,13,5,12.8,5,12.5C5,12.2,5.2,12,5.5,12h5c0.3,0,0.5,0.2,0.5,0.5C11,12.8,10.8,13,10.5,13L10.5,13z"}),n("path",{key:"print7",className:"svgPath footer__print3",d:"M10.5,11h-5C5.2,11,5,10.8,5,10.5C5,10.2,5.2,10,5.5,10h5c0.3,0,0.5,0.2,0.5,0.5C11,10.8,10.8,11,10.5,11L10.5,11z"}),n("path",{key:"print8",className:"svgPath footer__print1",d:"M4,4V2c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1v2H4z"}),n("path",{key:"print9",className:"svgPath footer__print1",d:"M12,8.5c-0.5,0-7.5,0-8,0S3,8.8,3,9.3S3,14,3,14c0,0.6, 0.4,1,1,1h8c0.6,0,1-0.4,1-1c0,0,0-4.6,0-4.8  S12.5,8.5,12,8.5z"}),n("path",{key:"print10",className:"svgPath footer__print2",d:"M42.8,2c0-0.3-0.2-0.5-0.5-0.5h-6c-0.3,0-0.5,0.2-0.5,0.5v1.5h7V2z"})],WM[VM]=[n("path",{key:"bubbleline1",className:"svgPath bubbleline1",transform:"translate(0,1)",d:"M18.5,0v4c0.1,11.2-7.4,20-16.4,23c-2,0.6-1.7,0.5-0.6,0.5c3.6,0,7.7,0,17.5,0"})],WM.bubblelineright=[n("rect",{className:"bubblelineright0",width:"3",height:"28"}),n("path",{key:"bubblelineright1",className:"svgPath bubblelineright1",transform:"translate(0,1)",d:"M2,27.5c9.8,0,14.3,0,17.9,0c1.1,0,1.4,0.1-0.6-0.5c-2.6-0.9-5-2.2-7.2-3.9C6.6,18.8,2.8,12,2.9,4V0"})],WM.bubblecontent=[n("path",{key:"bubblecontent1",className:"svgPath bubblecontent1",d:"M15.4,0v4.7c0,5.4-1.7,10.6-5,14.9C7.7,23.1,4.1,25.9,0,27.7c0.8,0,5.8,0,16.4,0V0H15.4z"})],WM.drag=[n("path",{key:"drag",className:"svgPath drag",d:"M11.6,18c-2.5,0-3.8-1.7-4.6-2.5S4.7,13,3.5,12.2c0-0.5,0-1.1,1.5-1.1s2.8,1.3,2.8,1.3V5.8c0,0,0.3-0.9,1.3-0.9s1.3,0.9,1.3,0.9v3.4c0,0,0.3-0.6,1.5-0.6c0.5,0,2.5,1.3,3.3,1.7c0.8,0.5,0.8,1.1,0.8,1.6s0,1.3,0,2.5C16,15.7,14.2,18,11.6,18L11.6,18z M9.7,2.1v2H8.2v-2H6.8L9,0l2.2,2.1H9.7L9.7,2.1z M4.2,6.8v1.4L2,6.1L4.2,4v1.4h2.1v1.4H4.2L4.2,6.8z M16,6.1l-2.2,2.1V6.8h-2.1V5.4h2.1V4L16,6.1L16,6.1z"})],WM),HM=function(e){var t=e.disabled,i=e.color,o=e.className,r=e.type,a=e.active,s=e.onClick,c=ls(e,["disabled","color","className","type","active","onClick"]);return n("svg",cs({version:"1.1",className:ZA("svg",i&&"svg-"+i,o,t&&"disabled",a&&"active"),onClick:!t&&s},c),UM[r])},jM=function(e){return{position:e?"absolute":"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,bottom:0,right:0,left:0,margin:0,touchAction:"none"}},YM=function(e){return{position:e?"absolute":"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.15)",zIndex:iS}},GM={display:"none"},qM=function(e,t,n){if(!n)return{right:0,bottom:0};var i=n.right||0,o=n.bottom||0;return void 0!==n.top&&(o=t-n.top-n.height),void 0!==n.left&&(i=e-n.left-n.width),{right:i,bottom:o}},ZM=function(){},KM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n)),o=qM(n.width,n.height,n.iframeStyle),r=o.right,a=o.bottom;i.state={showMessage:!0,invHeight:0,left:n.iframeStyle&&n.iframeStyle.left,top:n.iframeStyle&&n.iframeStyle.top,right:r,bottom:a,cobrowsingStopShowingLeft:"undefined",cobrowsingStopShowingTop:0,windowBaseChildrenDidMount:!1},i.setWinSize=function(){},i.getWinStyle=function(){},i.getSideWinStyle=function(){},i.getInnerCss=i.getInnerCss.bind(i),i.updateIframe=function(){return ZM},i.shouldComponentUpdate=Zk(i,["windowStatus","windowTab","children","windowStyle","unread","lastMessage","avatar","title","seed","sideWindow","width","height"],["showMessage","invHeight","right","bottom","windowBaseChildrenDidMount","cobrowsingStopShowingLeft","cobrowsingStopShowingTop"]);var s=n.onFocusToggle;return i.onFocus=function(){var e=i.props.windowStatus;e!==dl&&e!==ul||s(!0)},i.getChildren=i.getChildren.bind(i),i.getSideWin=i.getSideWin.bind(i),i.getDragBar=i.getDragBar.bind(i),i.getBubbleBar=i.getBubbleBar.bind(i),i.getMinIcon=i.getMinIcon.bind(i),i.onMount=i.onMount.bind(i),i.bodyEnableScroll=i.bodyEnableScroll.bind(i),i.bodyDisableScroll=i.bodyDisableScroll.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){if(this.props.isPoppedOut&&!this.props.showChatWindowInSidewindow){var e=__(),t=e.popout;t&&t.SideWinWidth&&t.SideWinWidth>0&&Gc.resizeTo(Gc.outerWidth-t.SideWinWidth,Gc.outerHeight),x_({popout:cs({},t,{SideWinWidth:-1,isLarged:!1})})}},t.prototype.componentWillReceiveProps=function(e){var t=this.props;e.width===t.width&&e.height===t.height||null==this.state.top&&null==this.state.left||this.setState(qM(e.width,e.height,e.iframeStyle)),e.unread>t.unread&&this.setState({showMessage:!0}),e.isMinimized&&this.setState({bottom:0,right:0})},t.prototype.componentWillUnmount=function(){var e=this.contentWindow;e&&(e.removeEventListener("focus",this.onFocus),e.removeEventListener("blur",this.onBlur)),this.timer&&(clearTimeout(this.timer),this.timer=null),this.bodyEnableScroll()},t.prototype.onMount=function(e){this.contentWindow=e,e.addEventListener("focus",this.onFocus),e.addEventListener("blur",this.onBlur),this.props.onMounted&&this.props.onMounted()},t.prototype.getInnerCss=function(){var e=this.props,t=e.isMobile,n=this.winWidth,i=this.winHeight,o=(i-130)/.714,r=0,a=(n-145)/.714,s=0,c=i-110,d=0,l=n/2-65,u=0;t&&(n=e.width,i=e.height,o=(i-100)/.714,r=0,a=(n-110)/.714,s=0,c=i-110,d=0,l=n/2-35-30,u=0);var p=[e.fontCSS,Mb(Rd,e.mainColor),lM,".online .chatButton:after{","background-color:"+e.mainColor,"}",".offline .chatButton:after{","background-color:#bbb","}",".main-container{background-image:"+(e.background||"#fff")+"}"].join(""),h="";e.avatar&&(h=".chatButton--avatar:after,.chatButton--minimizedAsChatting:after,.chatButton--maximizedAsChatting:after{background-image:url("+e.avatar+");background-color:#f4f5f6;background-size:70px 70px;}");var f=t?"html {font-size: 16px} #glance_gesture{position: fixed;}":"";return[p,"@keyframes chatButton--minimizedAsChattingyAxis {0% {transform: scale(0.714, 0.714) translateY(-"+o+"px);}100% {transform: scale(1, 1) translateY(-"+r+"px);}}@keyframes chatButton--minimizedAsChattingxAxis {0% {transform: translateX(-"+a+"px);}100% {transform: translateX(-"+s+"px);}}@keyframes chatButton--minimizedAsChattingyAxisCircle {0% {transform: translateY(-"+c+"px);}100% {transform: translateY(-"+d+"px);}}@keyframes chatButton--minimizedAsChattingxAxisCircle {0% {transform: translateX(-"+l+"px);}100% {transform: translateX(-"+u+"px);}}@keyframes chatButton--maximizedAsChattingxAxis {0% {transform: translateX(-"+s+"px);}100% {transform: translateX(-"+a+"px);}}@keyframes chatButton--maximizedAsChattingyAxis {0% {transform: scale(1, 1) translateY(-"+r+"px);}100% {transform: scale(0.714, 0.714) translateY(-"+o+"px);}}@keyframes chatButton--maximizedAsChattingxAxisCircle {0% {transform: translateX(-"+u+"px);}100% {transform: translateX(-"+l+"px);}}@keyframes chatButton--maximizedAsChattingyAxisCircle {0% {transform: translateY(-"+d+"px);}100% {transform: translateY(-"+c+"px);}}",h,e.customCss,f]},t.prototype.getChildren=function(e){var t=this.props,i=t.windowStatus,o=t.isMobile,r=t.title,a=t.isRightToLeft,s=t.isPoppedOut,c=t.windowStyle,d=t.children,l=t.windowTab,u=t.chatStatus,p=t.isIPad,h=t.showAvatar,f=t.ifShowSideWindow,m=i===hl,b=i===dl,w=i===ul;return n(zM,{show:m||b||w,windowStatus:i,isMobile:o,title:r,isRightToLeft:a,isPoppedOut:s,windowStyle:c,windowTab:l,chatStatus:u,isIPad:p,env:e,onUnmount:this.bodyEnableScroll,onMount:this.bodyDisableScroll,showAvatar:h,ifShowSideWindow:f},d)},t.prototype.getSideWin=function(e,t,i){var o=this.props,r=o.sideWindow,a=o.fontCSS,s=o.onFocusToggle,c=GM,d=void 0;return r&&(c=i?{display:"none"}:this.getSideWinStyle(e,t,i),d=n(r,{ToogleChatWinFocused:s})),n(Xk,{key:"sideWin",id:"side_window_container",style:c},n(qA,{css:[a,Mb('.container-checkbox,.container-checkboxlist,.horizontal{display:inline-block}.checkbox2,svg:hover{cursor:pointer}.mediaChatWindow,.mediaChatWindow .sideWindow__content{-webkit-box-orient:vertical;-webkit-box-direction:normal}.knowlegebase__title--hide,.mediaChatWindow__agentName{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container-checkbox{position:relative;color:#666;padding-left:18px}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:14px;height:14px;position:absolute;left:0;top:50%;margin-top:-7px}.checkbox+.selected .checkbox3{fill:#000001;cursor:pointer}.checkbox:focus+.selected .checkbox2,.container-checkbox:hover>.selected .checkbox2{fill:#000001}.checkbox2{fill:#ddd}.unselected .checkbox3{fill:#fafafa}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#000001}.checkbox{position:absolute;z-index:-1;opacity:0}.horizontal{margin-right:10px}.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.text{opacity:.6;pointer-events:none}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fafafa}.svg{width:16px;height:16px}.svg--loading{width:22px;height:22px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}.svg.disabled{opacity:.3}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}html{margin:0;font-size:15px}*,::after,::before{box-sizing:border-box}body{margin:0;font-family:"SourceSans Pro",Arial;font-size:1rem;line-height:1.42857143}.clearfix::after{content:"";display:block;clear:both}.sideWindow{position:absolute;width:100%;bottom:0;top:0;left:0;box-shadow:0 0 30px rgba(0,0,0,.15);overflow:hidden}.sideWindow--embedded{width:calc(100% - 60px);bottom:0;top:30px;left:30px}.sideWindow--circle{padding-right:20px;top:45px}.sideWindow--bubble{bottom:30px}.sideWindow--bubble.sideWindow--embedded{width:calc(100% - 40px)}.sideWindow--bubble.sideWindow--embedded.sideWindow--mobile{width:100%}.mediaChatWindow{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%;height:100%;background-color:#333;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;text-align:center;position:absolute;left:0;overflow:hidden}.popup-window .mediaChatWindow{-webkit-box-flex:0;-ms-flex:0 0 500px;flex:0 0 500px;position:relative}.mediaChatWindow.hidden{display:none}.mediaChatWindow__avatarImg{width:100px;height:100px;background-color:#fff;border-radius:100%;border:none}.mediaChatWindow__agentName{max-width:250px;margin:0 auto}.mediaChatWindow--audioIncoming .mediaChatWindow__agentName,.mediaChatWindow--audioRequesting .mediaChatWindow__agentName,.mediaChatWindow--videoIncoming .mediaChatWindow__agentName,.mediaChatWindow--videoRequesting .mediaChatWindow__agentName{font-size:1.2rem;color:#fff;padding:20px 0 15px}.mediaChatWindow__waiting{font-size:.933333rem;color:#fff;opacity:.5;height:18px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}@-webkit-keyframes blink{0%,100%{opacity:.2}50%{opacity:1}}@keyframes blink{0%,100%{opacity:.2}50%{opacity:1}}.mediaChatWindow__waitingAni span{animation:blink both 1.4s infinite;-webkit-animation:blink both 1.4s infinite}.mediaChatWindow__waitingAni span:nth-child(2){animation-delay:.2s;-webkit-animation-delay:.2s}.mediaChatWindow__waitingAni span:nth-child(3){animation-delay:.4s;-webkit-animation-delay:.4s}.mediaChatWindow__iconfont{font-size:.933333rem;padding-right:10px;position:relative;top:4px}.mediaChatWindow__textAudio,.mediaChatWindow__textVideo{display:-webkit-box;display:-ms-flexbox;display:flex}.mediaChatWindow__buttons{margin-top:40px;width:310px;left:1px}.mediaChatWindow__button{width:55px;height:55px;border-radius:50%;font-size:2.333333rem;color:#fff;display:inline-block;margin:0 48px;line-height:55px;cursor:pointer;transition:opacity .3s}.mediaChatWindow__button svg{width:55px;height:55px}.mediaChatWindow__button .mediaChatWindow__iconfont{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.mediaChatWindow__button:hover{opacity:.8}.mediaChatWindow__button:active{box-shadow:inset 0 2px 5px rgba(0,0,0,.25)}.mediaChatWindow__button--accept{background:url(images/phone-accept.svg) center no-repeat}.mediaChatWindow__button--hangup{background:url(images/phone-refuse.svg) center no-repeat}.mediaChatWindow--audioChatting .mediaChatWindow__button--accept,.mediaChatWindow--audioIncoming .mediaChatWindow__textVideo,.mediaChatWindow--audioRequesting .mediaChatWindow__button--accept,.mediaChatWindow--audioRequesting .mediaChatWindow__textVideo,.mediaChatWindow--videoChatting .mediaChatWindow__button--accept,.mediaChatWindow--videoIncoming .mediaChatWindow__textAudio,.mediaChatWindow--videoRequesting .mediaChatWindow__button--accept,.mediaChatWindow--videoRequesting .mediaChatWindow__textAudio{display:none}.mediaChatWindow--audioChatting .mediaChatWindow__chatting,.mediaChatWindow--audioIncoming .mediaChatWindow__requesting,.mediaChatWindow--audioRequesting .mediaChatWindow__requesting,.mediaChatWindow--videoChatting .mediaChatWindow__chatting,.mediaChatWindow--videoIncoming .mediaChatWindow__requesting,.mediaChatWindow--videoRequesting .mediaChatWindow__requesting{display:block}.mediaChatWindow--audioChatting .mediaChatWindow__requesting,.mediaChatWindow--audioIncoming .mediaChatWindow__chatting,.mediaChatWindow--audioIncoming .mediaChatWindow__waitingAni,.mediaChatWindow--audioRequesting .mediaChatWindow__chatting,.mediaChatWindow--videoChatting .mediaChatWindow__requesting,.mediaChatWindow--videoIncoming .mediaChatWindow__chatting,.mediaChatWindow--videoIncoming .mediaChatWindow__waitingAni,.mediaChatWindow--videoRequesting .mediaChatWindow__chatting{display:none}.mediaChatWindow__requesting .mediaChatWindow__agentAvatar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.mediaChatWindow--audioChatting .mediaChatWindow__agentAvatar{display:block}.mediaChatWindow__chatting{width:100%;height:100%;margin:20px 0;position:relative}.mediaChatWindow__chattingAgent{color:#fff;float:left}.mediaChatWindow__chatting .mediaChatWindow__agentName{font-size:1.2rem;color:#fff}.mediaChatWindow--videoChatting .mediaChatWindow__chatting{display:-webkit-box;display:-ms-flexbox;display:flex}.mediaChatWindow--videoChatting .mediaChatWindow__chattingAgent{position:absolute;left:20px;top:25px;text-align:left}.mediaChatWindow--videoChatting .mediaChatWindow__buttons{position:absolute;bottom:40px;width:100%}.popup-window .mediaChatWindow--videoChatting .mediaChatWindow__buttons{bottom:10px}.mediaChatWindow--videoChatting .icon-video,.mediaChatWindow--videoChatting .mediaChatWindow__agentImg,.mediaChatWindow--videoChatting .mediaChatWindow__chatTypeText{display:none}.mediaChatWindow__chattingDuration{font-size:.933333rem;float:left}.mediaChatWindow--audioChatting .mediaChatWindow__chatting{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mediaChatWindow--audioChatting .mediaChatWindow__chattingAgent{position:static}.mediaChatWindow--audioChatting .mediaChatWindow__agentName{padding:20px 0 15px}.mediaChatWindow__chattingTime{display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.5;height:18px}.mediaChatWindow__localVideo video,.mediaChatWindow__remoteVideo,.mediaChatWindow__remoteVideo video{width:100%;height:100%}.mediaChatWindow--audioChatting .mediaChatWindow__chattingTime{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.mediaChatWindow--audioChatting .mediaChatWindow__chattingDuration{float:none}.mediaChatWindow--audioChatting .mediaChatWindow__chatTypeText{font-size:.933333rem;padding-right:10px}.mediaChatWindow--audioChatting video{display:none}.mediaChatWindow__remoteVideo:hover .mediaChatWindow__buttons{display:block}.sideWindow--mobile .mediaChatWindow__remoteVideo{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.mediaChatWindow__localVideo{position:absolute;right:36px;top:25px;width:80px}.sideWindow--bubble .mediaChatWindow__localVideo{right:20px}.mediaChatWindow__loading{display:none;width:32px;height:32px;position:absolute;top:50%;left:50%;margin-left:-16px;margin-top:-16px}.mediaChatWindow__remoteVideo--loading+.mediaChatWindow__loading{display:block}.mediaChatWindowSwitch{position:absolute;right:25px;bottom:20px}.sideWindow--circle .mediaChatWindowSwitch{right:42px}.mediaChatWindowSwitch .imgIcon{width:19px;height:19px;margin-top:6px}.mediaChatWindowSwitch__element{float:left;width:85px;background:rgba(0,0,0,.3);color:#fff;height:35px;cursor:pointer;text-align:center;border-left:1px solid rgba(0,0,0,.15)}.mediaChatWindowSwitch__element:not(.mediaChatWindowSwitch__active):hover{background:rgba(0,0,0,.45)}.mediaChatWindowSwitch__element:last-child{border-top-right-radius:2px;border-bottom-right-radius:2px}.mediaChatWindowSwitch__element:first-child{border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:0 solid rgba(0,0,0,.1)}.mediaChatWindowSwitch__messageCount{position:relative;left:5px;top:-7px;display:inline-block;width:auto;min-width:14px;height:14px;line-height:14px;font-size:.8rem;background:#fd9016;color:#fff;border-radius:14px}.botlogin__title,.knowlegebase__title{max-width:94%;min-height:50px;font-weight:700;height:auto}.mediaChatWindowSwitch__active{background:rgba(0,0,0,.6);cursor:default}.mediaChatWindowSwitch__element .icon{font-size:1.066667rem;margin-top:9px}.sideWindow--mobile{width:100%;top:0;left:0;bottom:35px;overflow:hidden}.sideWindow--mobile .mediaChatWindowSwitch{position:fixed;bottom:0;width:100%;right:0;display:-webkit-box;display:-ms-flexbox;display:flex}.sideWindow--mobile .mediaChatWindow{background:rgba(51,51,51,.9)}.sideWindow--mobile .mediaChatWindowSwitch__element{border-radius:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background:#000006;color:#000004}.sideWindow--bubble .sideWindow__botlogin,.sideWindow--bubble .sideWindow__knowlegebase{border:1px solid #f2f2f2}.sideWindow--mobile .mediaChatWindowSwitch__active{background:#000001}.mediaChatWindow .sideWindow__content{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.mediaChatWindow .sideWindow__content--cobrowsing{width:350px}.sideWindow__contentText{color:#fff;font-size:1.133333rem;line-height:1.6rem;margin-top:2rem;margin-bottom:1.333333rem}.sideWindow__contentSubText{color:#fff;line-height:1.466666rem;opacity:.3;font-size:.933333rem;margin-bottom:2rem}.sideWindow__contentSubText>div{width:100%}.sideWindow__contentSubText strong{font-weight:700}.sideWindow__contentSubText em{text-decoration:underline}.sideWindow__contentSubText a{color:#fff;text-decoration:underline}.sideWindow__btn{margin-top:2rem}@-webkit-keyframes slideInRight{from{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes slideInRight{from{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}.slideInRight{-webkit-animation:slideInRight .4s cubic-bezier(.785,.135,.15,.86) both;animation:slideInRight .4s cubic-bezier(.785,.135,.15,.86) both}.sideWindow.sideWindow--circle::after,.sideWindow.sideWindow--classic::after{content:\'\';display:block;position:absolute;bottom:0;width:1px;box-shadow:-2px 0 6px rgba(0,0,0,.1);z-index:1}.sideWindow.sideWindow--circle::after{top:13px;right:16px}.sideWindow.sideWindow--classic::after{top:0;right:-1px}.sideWindow--mobile.sideWindow--circle::after,.sideWindow--mobile.sideWindow--classic::after{display:none}.sideWindow__knowlegebase{background:#f2f2f2;position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.knowlegebase__no-page{position:absolute;top:0;bottom:0;left:0;right:0;text-align:center;padding-top:100px;background:#f2f2f2;font-size:xx-large;font-family:"SourceSans Pro"}.knowlegebase__content,.knowlegebase__content--fill{top:64px;bottom:0;background:#f2f2f2;position:absolute}.knowlegebase__title{padding:12px 10px 12px 30px;font-size:17px;font-family:"SourceSans Pro Bold";color:#000;cursor:pointer}.knowlegebase__title--hide{word-wrap:break-word}.window--rtl .knowlegebase__content{direction:rtl}.knowlegebase__content{width:99%;padding:12px 30px;overflow:auto;color:#000;font-family:Verdana,Arial,Helvetica,sans-serif;font-size:14px;line-height:1.3}.knowlegebase__content--fill{width:1%;right:0}.sideWindow--mobile .knowlegebase__close{right:14px}.knowlegebase__close{position:absolute;right:10px;top:15px;z-index:9999;cursor:pointer;color:#353535}.knowlegebase__close:hover{color:#888}.knowlegebase__close:active{color:#000}.knowlegebase__error{text-align:center;color:#666;font-family:"SourceSans Pro"}.knowlegebase__error img{margin-top:82px;text-align:center}.knowlegebase__error .oops{margin-top:40px;font-size:35px;font-family:"SourceSans Pro Bold"}.knowlegebase__error .message{margin-top:20px;font-size:20px;font-family:"SourceSans Pro"}.knowlegebase__loading{width:6%;margin:164px auto}.knowlegebase__content:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.sideWindow__botlogin{background:#f2f2f2;position:absolute;top:0;right:0;bottom:0;left:0;overflow:hidden}.botlogin__content,.botlogin__content--fill{background:#f2f2f2;top:50px;bottom:0;position:absolute}.botlogin__title{padding:12px 10px 12px 30px;font-size:17px;font-family:"SourceSans Pro Bold";color:#000}.botlogin__content{width:99%;color:#000;font-family:Verdana,Arial,Helvetica,sans-serif;font-size:14px;line-height:1.3;-webkit-overflow-scrolling:touch;overflow-y:scroll}.botlogin__content>iframe{width:100%;height:100%}.botlogin__content--fill{width:1%;right:0}.sideWindow--mobile .botlogin__close{right:14px}.sideWindow--classic .botlogin__close{right:30px}.sideWindow--classic .botlogin__title{max-width:92%}.botlogin__close{position:absolute;right:10px;top:15px;z-index:9999;cursor:pointer;color:#353535}.botlogin__close:hover{color:#888}.botlogin__close:active{color:#000}::-webkit-scrollbar{height:8px;width:8px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:transparent}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}#container:-webkit-full-screen-ancestor:not(iframe){height:100%}.sideWindow:-webkit-full-screen-ancestor:not(iframe){height:100%;width:auto}html:-webkit-full-screen-ancestor:not(iframe){height:100%}body:-webkit-full-screen-ancestor:not(iframe){height:100%}a{color:#000001;cursor:pointer;text-decoration:none}',this.props.mainColor)]}),d)},t.prototype.getCobrowsingStopShowingButton=function(){var e=this,t=this.props,i="";return t.isMobile&&(i="@media screen and (max-width: 767px) {.glance_cobrowse_btn button{width:100%;}.glance_cobrowse_btn__drag{display: none;}}"),n(Xk,{key:"cobrowsingStopShowing",id:"cobrowsing_stopshowing_container",style:function(){return t.ifCobrowsingShowing&&!t.isPoppedOut?{border:"none",width:t.isMobile?"135px":"172px",height:"30px",position:"fixed",top:0,left:"undefined"===e.state.cobrowsingStopShowingLeft?(t.width-(t.isMobile?135:172))/2:e.state.cobrowsingStopShowingLeft,zIndex:oS}:{display:"none"}}()},n(qA,{css:'body{margin: 0;font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif;overflow: hidden}.glance_cobrowse_btn{position: absolute;width: 100%;background-color: #1c2124;height: 30px;box-sizing: border-box;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;overflow: hidden;}.glance_cobrowse_btn button{display:block;width: 135px;height: 30px;line-height: 30px;padding-left: 20px;padding-right: 20px;box-sizing: border-box;font-size: 15px;color: #fff;text-decoration: none;border: none;appearance:none;-moz-appearance:none; -webkit-appearance:none;outline: none;background: none;cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.glance_cobrowse_btn__drag{position: absolute;right: 8px;top: 5px;width: 20px;height: 20px;border-left: 1px solid rgba(255,255,255,0.2);padding-left: 8px;}.svgPath {fill: #000;width: 16px;height: 16px;}.glance_cobrowse_btn__drag .drag{fill: #fff}'+i}),n("div",{className:"glance_cobrowse_btn"},t.ifCobrowsingShowing&&n("button",{onClick:function(){return Gc.GLANCE.Cobrowse.Visitor.stopSession()}},t.languageCobrowseStop),n("div",{className:"glance_cobrowse_btn__drag"},n(HM,{type:"drag",className:"",viewBox:"0 0 19 28"}))))},t.prototype.getDragBar=function(){var e=this,t=this.props,i=t.windowStyle,o=t.windowStatus,r=t.isPoppedOut,a=t.width,s=t.height,c=o===dl||o===ul,d=i===qd
;if(!c||r||d)return null;var l=i===Yd,u=30;return l||(u=45),n(OM,{key:"dragBar",barWidth:this.winWidth-60-85,ifrOffsetTop:u,width:a,height:s,right:this.state.right,bottom:this.state.bottom,ifrWidth:this.winWidth,ifrHeight:this.winHeight,ifrPositionChanged:function(t,n){e.setState({bottom:n,right:t,left:null,top:null})}})},t.prototype.getCobrowsingStopShowingDragBar=function(){var e=this,t=this.props,i=t.ifCobrowsingShowing,o=t.width,r=t.height,a=t.isPoppedOut,s=t.isMobile;if(!i||a||s)return null;var c="cobrowsingStopShowingDrag";return n(OM,{key:c,id:c,ifCanOnlyHorizontalDrag:!0,barWidth:37,barHeight:30,ifrOffsetTop:0,ifrOffsetLeft:135,width:o,height:r,left:"undefined"===this.state.cobrowsingStopShowingLeft?(o-172)/2:this.state.cobrowsingStopShowingLeft,top:this.state.cobrowsingStopShowingTop,ifrWidth:172,ifrHeight:30,ifrLeftAndTopPositionChanged:function(t,n){e.setState({cobrowsingStopShowingLeft:t,cobrowsingStopShowingTop:n})}})},t.prototype.getBubbleBar=function(){var e=this,t=this.props,i=t.unread,o=t.windowStatus,r=t.lastMessage,a=t.lastMessageId,s=t.writeReply,c=t.agentName,d=t.windowStyle,l=t.onCloseBubble,u=t.onMaximize,p=o===pl,h=i>0;return this.state.showMessage&&p&&h?n(dM,{invitation:{messageId:a,winType:d,ifShow:!0,type:dm,message:r,textTypeHere:s,agentName:c},onAccept:u,onRefuse:function(){e.setState({showMessage:!1,invHeight:0}),l()},onHeightChange:function(t){e.setState({invHeight:t})}}):null},t.prototype.getMinIcon=function(){var e=this.props,t=e.windowStatus,i=e.windowStyle,o=e.avatar,r=e.unread,a=e.onMaximize,s=e.onMinimized,c=e.onOpened,d=e.isMobile,l=e.iconStyle,u=t===pl,p=t===hl,h=t===ll;return u||h||p?n(JA,{isMobile:d,windowStyle:i,avatar:o,onClick:a,count:u?r:void 0,status:t,onMinimized:s,onOpened:c,online:!0,iconStyle:l}):null},t.prototype.bodyDisableScroll=function(){if(this.props.isMobile){var e=qc.body.style,t=!this.props.isIPad;this.style=Object.keys(jM(t)).reduce(function(n,i){var o=n;return o[i]=e[i],e[i]=jM(t)[i],o},{}),this.props.isPoppedOut||qc.addEventListener("touchmove",ed),this.setState({windowBaseChildrenDidMount:!0})}},t.prototype.bodyEnableScroll=function(){var e=this;this.props.isMobile&&(Object.keys(this.style||{}).forEach(function(t){qc.body.style[t]=e.style[t]}),this.props.isPoppedOut||qc.removeEventListener("touchmove",ed),this.setState({windowBaseChildrenDidMount:!1}))},t.prototype.render=function(){var e=this.props,t=e.windowStatus,i=e.isMobile,o=e.width,r=e.height,a=e.orientation,s=e.isIPad,c=e.title,d=e.isPoppedOut,l=FM;i&&("landscape"===a&&(!s||o<760)?l=BM:"portrait"===a&&(!s||r<760)&&(l=LM)),this.setWinSize(l,s);var u=t===pl,p=l!==FM&&!u,h=this.getWinStyle(l,s);if(u){var f=this.state.invHeight;h=f?cs({},h,{width:290,height:Math.min(f+130,r)}):cs({},h,{width:130,height:130}),h.left="",h.top=""}var m=this.getInnerCss(),b=void 0,w=i&&!s;p&&(b=YM(w));var g=i&&!d&&!s&&!u&&"html{width:100%!important}body>*:not(#comm100-container):not(#comm100-cobrowse-border){display:none!important}body{text-indent:-9999px!important}#comm100-container,#comm100-container>div{position:static!important}";return n("div",{style:b,onTouchMove:!d&&ed},this.state.windowBaseChildrenDidMount&&g&&n(qA,{css:g}),this.getSideWin(l,s,u),this.getDragBar(l),n(Xk,{key:"win"+(d?1:0),id:"chat_window_container",onMounted:this.onMount,style:h,callback:this.updateIframe(l,s),noIframe:d},n(qA,{css:m}),!d&&n(RM,{message:c}),this.getChildren(l),this.getBubbleBar(),this.getMinIcon()),this.getCobrowsingStopShowingButton(),this.getCobrowsingStopShowingDragBar())},t}(I),QM=function(e,t){if(!e)return 0;var n=e.querySelector("#main");if(!n)return 0;var i=e.querySelector(".footer__operation .bubble-box--show .bubble"),o=n.getBoundingClientRect().height;if(t){o+=35}if(i){var r=i.getBoundingClientRect(),a=r.height;o=Math.max(a+108+10,o)}return o},JM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));i.state=cs({},i.state,{innerHeight:0}),i.updateIframe=Yc(1)(function(e,t){return function(n,o){var r=i.props,a=r.windowStatus,s=r.sideWindow;if(a!==ll&&a!==hl||i.setState({innerHeight:1/0}),a===dl||a===ul){var c=e===FM&&t&&s;i.setState({innerHeight:QM(o,c)}),i.timer&&clearTimeout(i.timer),i.timer=setTimeout(function(){i.setState({innerHeight:QM(o,c)}),i.timer=null},460)}a===pl&&i.setState({innerHeight:0})}});i.setWinSize=function(e){e===FM&&(i.winWidth=380,i.winHeight=Math.max(Math.min(i.props.height,i.state.innerHeight),500)),e===BM&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),e===LM&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(e,t){var n=0,o=0,r=void 0,a=void 0;return e===FM&&(n=i.state.bottom,o=i.state.right,r=i.state.left,a=i.state.top),{position:e===FM||t||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:eS,top:a,left:r,bottom:n,right:o,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(e,t){var n=i.props.isPoppedOut;if(e===FM&&!t)return{zIndex:iS,width:530,height:480,bottom:i.state.bottom,right:n?i.state.right+i.winWidth:i.state.right+i.winWidth-30,background:"transparent",position:"fixed",border:0,maxWidth:500};var o=i.props.showChatWindowInSidewindow,r=n&&t,a=r?"100%":i.winWidth,s=r?"100%":i.winHeight;return{zIndex:iS,width:a,height:o?35:s,right:0,bottom:i.state.bottom,background:"transparent",position:"fixed",border:0}};var o=i.shouldComponentUpdate;return i.shouldComponentUpdate=function(e,t){return!!o(e,t)||t.innerHeight!==i.state.innerHeight},i}return ds(t,e),t}(KM),XM=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.setWinSize=function(e){var t=i.props,n=t.iframeStyle,o=t.ifShowSideWindow,r=n&&n.width,a=n&&n.height,s=o?395:r||420;e===FM&&(i.winWidth=s,i.sideWindowWidth=r||420,i.winHeight=a||610),e===BM&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),e===LM&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(e,t){var n=i.props.isMinimized,o=e!==FM||t?eS:iS;return{position:e===FM||t||n?"fixed":"absolute",border:0,zIndex:o,top:i.state.top,left:i.state.left,bottom:i.state.bottom,right:i.state.right,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(e,t){if(e===FM){var n=i.winHeight;if(t){n=i.props.showChatWindowInSidewindow?35:i.winHeight}return{zIndex:t?iS:eS,width:t?i.winWidth:530,height:n,bottom:i.state.bottom,right:t?i.state.right:i.winWidth+i.state.right-55,background:"transparent",position:"fixed",border:0}}var o=i.props.showChatWindowInSidewindow;return{zIndex:iS,width:i.winWidth,height:o?35:i.winHeight,right:0,bottom:i.state.bottom,background:"transparent",position:"fixed",border:0}},i}return ds(t,e),t}(KM),$M=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.setWinSize=function(e){var t=i.props,n=t.iframeStyle,o=t.ifShowSideWindow,r=n&&n.width,a=n&&n.height,s=o?430:r||460;e===FM&&(i.winWidth=s,i.winHeight=a||620),e===BM&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),e===LM&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(e,t){var n=e!==FM||t?eS:iS;return{position:e===FM||t||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:n,top:i.state.top,left:i.state.left,bottom:i.state.bottom,right:i.state.right,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(e,t){if(e===FM){var n=i.winHeight;return t&&(n=i.props.showChatWindowInSidewindow?35:i.winHeight),{zIndex:e!==FM||t?iS:eS,width:t?i.winWidth:530,height:n,bottom:i.state.bottom,right:t?i.state.right:i.winWidth+i.state.right-30,background:"transparent",position:"fixed",border:0}}return{zIndex:iS,width:i.winWidth,height:i.props.showChatWindowInSidewindow?35:i.winHeight,right:0,bottom:i.state.bottom,background:"transparent",position:"fixed",border:0}},i}return ds(t,e),t}(KM),eT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n)),o=n.windowStyle===Gd;return i.setWinSize=function(e,t){i.winHeight="100%";var n=i.props,r="100%",a="100%";if(n.sideWindow&&e===FM&&!t){var s=n.width;s>1e3?(r=s-500,a=o?514:500):(r="50%",a=o?"calc(50% + 18px)":"50%")}i.winWidth=r,i.sideWinWidth=a,i.sideWinHeight=n.showChatWindowInSidewindow?35:i.winHeight},i.getSideWinStyle=function(e,t){return{background:"transparent",position:"fixed",border:0,zIndex:o&&e===FM&&!t?eS:iS,width:i.sideWinWidth,height:i.sideWinHeight,bottom:0,left:0,maxWidth:e!==FM||t?"":500}},i.getWinStyle=function(e,t){return{position:"absolute",border:0,zIndex:o&&e===FM&&!t?iS:eS,width:i.winWidth,height:i.winHeight,right:0,bottom:0}},i}return ds(t,e),t}(KM),tT=function(e,t){return e&&t!==qd?eT:t===qd?JM:t===Gd?XM:$M},nT=function(e){var t=e.windowStyle,i=e.isPoppedOut;return n(tT(i,t),e)},iT=wM(nT),oT=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.closeBubble=function(e){n.element&&n.element.contains(e.target)||e.target.id===n.props.iconId||e.target.parentNode.id===n.props.iconId||n.props.onClose&&n.props.onClose()},n}return ds(t,e),t.prototype.componentDidMount=function(){this.element.ownerDocument.body.addEventListener("click",this.closeBubble)},t.prototype.componentWillUnmount=function(){this.element.ownerDocument.body.removeEventListener("click",this.closeBubble)},t.prototype.render=function(){var e=this,t=this.props,i=t.id,o=t.showDirection,r=t.className,a=t.children,s=t.ifShow,c=t.onClose,d=t.ifHasClose,l=t.transformOrigin,u=t.arrowDownLeft,p=t.chatWindowStyle,h=p===qd,f=p===Gd,m=h||f;return n("div",{id:"bubble_box_"+(i||""),ref:function(t){e.element=t},className:ZA("bubble-box",s&&"bubble-box--show",r),onClick:c},n("div",{id:i,className:"bubble bubble-"+o,onClick:function(e){e.stopPropagation()},style:m&&{webkitTransformOrigin:l,msTransformOrigin:l,transformOrigin:l}},m&&"up"===o&&n("span",{className:"bubble__arrowDown",style:{left:u}}),d&&n("div",{className:"bubble-close"},n(tM,{type:eM.close,size:12,onClick:c,color:"#a3a3a3",hoverColor:"#333"})),a))},t}(I),rT=function(e,t,i,o,r,a,s,c){return t&&n("div",{id:e,className:ZA("title-buttons__operation",s)},n(tM,{type:i,onClick:a,size:12,title:o}),c)},aT=function(e,t,i,o,r,a){return e&&n("div",{className:ZA("title-buttons__operation","title-buttons__operation--text",i),style:r?{}:{borderLeft:"0px"}},n("a",{onClick:o},t),a)},sT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={showEndChatConfirm:!1},i.onClickShowEndChatConfirm=i.onClickShowEndChatConfirm.bind(i),i.updateEndChatConfirmStatus=i.updateEndChatConfirmStatus.bind(i),i}return ds(t,e),t.prototype.onClickShowEndChatConfirm=function(e){this.props.ifViewConfirmBubble?this.state.showEndChatConfirm||(e.stopPropagation(),e.preventDefault(),this.updateEndChatConfirmStatus(!0)):this.props.onEndChat(this.props.passEventArgs)},t.prototype.updateEndChatConfirmStatus=function(e){this.setState({showEndChatConfirm:e})},t.prototype.render=function(){var e=this,t=this.props,i=t.controls||{},o=t.languages||{},r=n(oT,{ifShow:this.state.showEndChatConfirm,showDirection:"down",onClose:function(){return e.updateEndChatConfirmStatus(!1)}},n("div",{className:"bubble--desc"},o.promptStopChat),n("div",{className:"embedded-end-chatConfirmAction bubble__operation"},n("button",{id:"embedded-end-chatConfirmLeave",className:"btn btn-primary",onClick:function(t){t.stopPropagation(),e.updateEndChatConfirmStatus(!1),e.props.onEndChat(e.props.passEventArgs)}},o.buttonYes),n("button",{id:"embedded-end-chatConfirmCancel",className:"btn btn-grey",onClick:function(){e.updateEndChatConfirmStatus(!1)}},o.buttonNo)));return n("div",{className:"title-buttons window__operation"},rT("",i.hasMinimize,eM.minimize,o.embeddedWindowMinimize,t.ifViewHeader&&t.color,t.onMinimize),rT("embedded-popup",i.hasPopOut,eM.popup,o.embeddedWindowPopup,t.ifViewHeader&&t.color,function(){return t.onPopOut(t.passEventArgs)}),rT("",i.hasPopIn,eM.embedded,o.embeddedWindowPopin,t.ifViewHeader&&t.color,function(){return t.onPopIn(t.passEventArgs)}),rT("",i.hasClose,eM.close,o.buttonClose,t.ifViewHeader&&t.color,function(){t.onClose(t.passEventArgs)},"embedded-only btn-close"),rT("",i.hasEndChat,eM.close,o.buttonEndChat,t.ifViewHeader&&t.color,this.onClickShowEndChatConfirm,"btn-end-chat embedded-end-chat",r),aT(i.hasTextEndChat,o.buttonEndChat,"btn-end-chat",this.onClickShowEndChatConfirm,i.hasPopIn,r),aT(i.hasTextClose,o.buttonClose,null,function(){return t.onClose(t.passEventArgs)},i.hasPopIn))},t}(I),cT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk1OENGMTMxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk1OENGMTQxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTU4Q0YxMTFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTU4Q0YxMjFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PscdlE0AAAduSURBVHja7J3tUxJbHMeXheV5EQUBwUdEqGayrKhpanrf/9ubunlfVLc718xeiRL4rIgPmKRpINL9CjN25w6Q4J4nOt8XTdNMZ5fP/s7v9/3tnj1revHihSJFXqpEIEFL0FIStAQtQUtJ0BK0lAQtQUvQUhK0BC0lQUvQErSUBC1BS0nQErQELUVeFt4DQVW9Nbndbl3X7Xa7paZqtVqpVMrl8nFNX79+PTg4KJVKEnR7MplMgUAgEon09/cDa8MLYK0JF+DyH4vFYj6f39raOj09laB/dUIWy2hNNput3f/bU1M8Ht/Z2clkMghzCbpxFI+MjMRisQ4Q/2+cUE25XC6dTp+cnEjQP+XxeCYnJxGPBo4ZDoeDwSBYr66u/vjxQ4JWotFoIpFA2jV8ZLPZfOvWLUT33Nwc21LJ2N4B7t27d2/evEmC8qX6+vqePn1q7HQRCTTq3qNHj2AtKBwLvvDx48fwML8daFBOJpOINWpHRBp58OABK9Yqq4yB30yT8uVx79+/j/bndwGNAuXz+Zgcuh7XyCTdD3poaAh+mWFtgE8Ha6Lllz1op9OJcGZuKOFA0Bl1M+g7d+40vHdBXwBN0/BRBT04OEi/ALbo1GnOLXqgUYXQ/ik8CVcdTWO3gR4eHqZf63+pRDyO0O4e0PgxY2NjCn9y6zqdbEYJNGaow+FQuFSUSgRQAg3vrPCqQDBot9m7AbSmaX6/X+FYoYFQN4BG3qBTcDpWJBI5Pz8XHjTn4Qx5vV6VcCjQAM1Pk9KKdW+v2KCdTieH9rnBtPP5iD5XJA7a4/EoIqi3r69yVhEYtMvlEgI0AuKsciYwaG77lAbnKXTqsFqtiiAiev+WOGiz2SwKaFVVydVDVegwMfhUNU1g0AIJPYvAoKvVqiigiXbhqtBnb6zOzkS2d+VyWRTQ379/Fxg0h4vvG6pUKmHykbvLSBz0t2/fhABdfz1AYNBcvd/QQoeHh6pJFTuiK5UK/6ALhYJqJkiDOGg404ODA/5B7+TzRJtYlU6wcE4Z0+7o6Ejsex1QPp/nHPTm5ib+NIsO+uTk5MuXLzyDXl1dVVVV+NQBbWxs8Ow39nZ3NcK3cymB3t7e5rZFzGQyCvn75pRAw+GtrKzw2XZnMxkkDdK3c+ndJl1bWyN616YzpVIpdN7XfCmaL9CgnF5c5Iry8fExTgkNobWbQEPrGxtcdeQfZ2cvwtlhp7BijSpodImfPn1i/v77paWDF4Kro5A3FPqPstCApebneWgFP8zMKBcLqVxdteL/UvhVS8vLcHsMKVer1bdv3pRKJVg6zarROSiDh7PwUogmtAmsQP/9/v3+/j6ShpPiKio2T8HhWt+9fYuiz6AAfvwIR4+J5XK7aa7aZrfcwGT6c3qaMuvZ2dmFVOoiNbtclBecqOw4m0yq+urly8L+PoXDwcb99e7d4sIC/u5wOukvVGO5gAZZUrNap6ens9ksaY/xx6tX9XsArNZrM16vVa9Isx8+wIckk0kSCMAXtbdcLmMK4VisFl2aePieIVqY09qmaVNTU+OxmFE1qlgsIilv53L1K4rqx3AhIBcrEOuxhqCb+Wcmk80+f/78+mPOzc2h7tW7UEQxxmf7ZhhHSz0v2gdNM+oxR/HwEJQxGkofhmX+6/haU4ugM2oLILeuO3h6T4m7Zbu6rhsyjtfrNascrYHnDrRRW3j5/f5q9VyCbpo6jHr78yKizTKim4ehUQ4M12wgHJagG2t0dNTA0cajUU4eMvAFOhgMBgIBAwf0+f0RboKaC3vncrni8fjAwIDhI0/duxfa3k6n08yXaTMGbbPZJiYmhoeHybVtuH6YK+vr65lMhuEiHmag0a2Nj48jKVPwBqqq4kCDg4NLS0srKytM3l9iABpk8bNBmXJnDD+TSCRwaGSSzc1NynWSKmjkh6GhIaRjOk/4myWrycnJaDS6sLCwu7vbhaDD4TAQc7KrhNvtTiaThUJhcXGRzmNiGqD7+/tv3LjB4Q4pPp/vyZMnuVzu8+fPpG0JWdDog4GY1Z7cV59qoVCItC0hBVrXdVQe+CpFBFGwJcaDdjgcyMWRSITzve6a2ZKRkRFkEsNtiZGgrVZrLBbDiVLe1d1Y2e12ErbEYlQs4MzGxsYE2gaFsi25LhcEb/1LYgLtncTElnQOGikYiRjpWJR9wK5pS9bW1rLZbMe2pEPQODDqxn8/2tjdwsRFYoQtWV5e7syWWDqYTbDGTD7Ow1yapnVsS9oAjdYOiBl+14srW4IAhy3Z29szEjSy8MTEBCaOcNaYnNCRPXz4EKBTqdRVFh9bfjlZ6r5NoH0CaQrz+9mzZ2jfkUxa10lL64p3+/btrvRtBqr+qVw4k/n5+a2trabltMUQ+P+S8tXrZOsvramtuyNJ8Opy1RbEtg0azbQQO5nzI8z+Fh8KUFtUVcmu7TskLnfboGXe6MTz9Xia7cUqI9pI9Xg8zbpzGdFGytPTU20XtChfm+BKvb29501SR9OG5fXr18dHRxzuGcO/oW7bRwu09TM/Oq80hvavAAMAcWJ5ooQVnC0AAAAASUVORK5CYII=",dT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={src:cT},i.download=i.download.bind(i),i.download(n.src),i}return ds(t,e),t.prototype.componentWillReceiveProps=function(e){e.src!==this.props.src&&(this.setState({src:cT}),this.download(e.src))},t.prototype.shouldComponentUpdate=function(e,t){return t.src!==this.state.src},t.prototype.download=function(e){var t=this,n=new Image,i=function(){t.setState({src:e})};n.onload=i,n.onerror=i,n.src=e},t.prototype.render=function(){var e=this.props;return n("img",cs({},e,{alt:e.alt,src:this.state.src}))},t}(I),lT=TA("header.icons")(sT),uT=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={showEndChatConfirm:!1,headerHeight:0},n.header=null,n.shuoldUpdateHeaderHeight=!1,n.shouldComponentUpdate=Zk(n,["passEventArgs","ifViewConfirmBubble","ifHideBio","ifViewHeaderBox","ifViewHeader","color","onMinimize","team","avatars","banner","avatar","name","title","bio","logo","tab","controls","languages","agent","windowDisabled"],["showEndChatConfirm","headerHeight"]),n.onMinimize=n.onMinimize.bind(n),n.onClose=n.onClose.bind(n),n.showAnimation=!0,n}return ds(t,e),t.prototype.componentWillReceiveProps=function(e){if(e.tab===Jd&&this.props.tab!==Jd&&(this.showAnimation=!0),e.windowStatus===ul&&this.props.windowStatus===ll){var t=e.agent;this.showAnimation=!(t&&t.avatar)}var n=e.agent&&e.agent.bio,i=this.props.agent&&this.props.agent.bio;(e.ifHideBio!==this.props.ifHideBio||this.props.windowDisabled&&n!==i)&&(this.shuoldUpdateHeaderHeight=!0)},t.prototype.componentDidUpdate=function(){var e=this;Sd||this.header&&this.shuoldUpdateHeaderHeight&&(this.shuoldUpdateHeaderHeight=!1,this.props.agent&&this.props.agent.bio?this.props.ifHideBio?this.header.style.height=(this.props.chatWindowStyle===Yd?80:104)+"px":this.props.windowDisabled?setTimeout(function(){e.header.style.height=e.header.scrollHeight+"px"},400):this.header.style.height=this.header.scrollHeight+"px":this.props.windowDisabled&&this.props.agent?this.header.style.height=(this.props.chatWindowStyle===Yd?80:104)+"px":this.props.agent||(this.header.style.height=""))},t.prototype.onMinimize=function(){this.props.onMinimize(this.props.tab)},t.prototype.onClose=function(){return this.props.onClose(this.props.tab)},t.prototype.updateEndChatConfirmStatus=function(e){this.setState({showEndChatConfirm:e})},t.prototype.render=function(){var e=this,t=this.props,i=this.props,o=i.agent,r=i.windowStatus,a=r===hl,s=this.showAnimation,c=cs({},t.controls,{});return n("div",{className:"window__headerContainer",onTouchMove:ed},t.ifViewHeader&&n("div",{id:"branding",className:ZA("window__header","window__header--noBio",s&&"window__header--fadeInDown"),ref:function(t){t&&(e.header=t)}},t.ifViewHeaderBox&&n("div",null,n("div",{className:ZA("window__headerBox","clearfix",t.team&&"window__headerBox--team",t.banner&&"window__headerBox--banner")},t.team&&n("div",{className:ZA("header__teamName",!t.avatars&&"header__teamNameNoAvatar")},t.team),t.avatars&&n("div",{className:ZA("header__teamAvatar",t.isAvatarGray&&"header__teamAvatar--gray",t.ifShowSideWindow&&"header__teamAvatar--withSideWindow")},t.avatars.map(function(e){return n(dT,{className:"header__teamAvatarImg",src:e,width:"50",height:"50",alt:""})})),t.banner&&n("img",{className:"header__bannerImg",src:t.banner,alt:""}),o&&n("div",{className:ZA("header__agent",t.logo?"header__agent--withlogo":"",o.bio&&t.ifHideBio?"header__agent--compact":"",s&&"header__agent--fadeInUp"),onClick:function(){t.ifHideBio&&e.props.onUpdateScrollStatus(!1)},onTouchEnd:function(){t.ifHideBio&&e.props.onUpdateScrollStatus(!1)}},o.avatar&&n("div",{id:"header-operator-avatar",className:ZA("header__avatar",this.props.ifShowSideWindow&&"header__avatar--withSideWindow",s&&"header__avatar--fadeInDown"),key:"avatar"},!a&&n(dT,{className:"header__avatarImage",src:o.avatar,alt:"",width:"50",height:"50"})),n("div",{className:ZA("header__agentInfo",!o.avatar&&"header__agentInfoNoAvatar")},o.name&&n("div",{className:"direction-ltr header__agentName",style:t.chatWindowStyle===Gd&&{lineHeight:o.title?"1.4rem":"40px"}},o.name),o.title&&n("div",{className:"direction-ltr header__agentTitle"},o.title)),o.bio&&n("div",{className:"header__agentBio",style:{height:t.ifHideBio?"0":"auto",marginTop:t.ifHideBio?0:"4px",paddingLeft:o.avatar&&t.chatWindowStyle===Yd?"60px":0},dangerouslySetInnerHTML:{__html:o.bio}})),t.logo&&n("div",{className:"header__logo "+(o&&(o.avatar||o.name)?"header__logo--up":""),key:"logo"},n("img",{id:"logo-image",className:"header__logoImg",src:t.logo,alt:"logo"}))))),n("div",{className:"end-chat-top window__title"},n("span",{id:"embedded-window-title",className:"title-text embedded-only"}),n(lT,{tab:t.tab,controls:c,languages:t.languages,passEventArgs:t.passEventArgs,ifViewConfirmBubble:t.ifViewConfirmBubble,onEndChat:t.onEndChat,ifViewHeader:t.ifViewHeader,color:t.color,onMinimize:this.onMinimize,onPopOut:t.onPopOut,onPopIn:t.onPopIn,onClose:this.onClose})))},t}(I),pT=TA("header","window__headerVessel")(uT),hT=(EM={},EM[Jd]="livechat.chat",EM[Qd]="livechat.prechat",EM[Xd]="livechat.postChat",EM[$d]="livechat.offlineMessage",EM),fT=function(e){var t=nh(e),n=Jp(e),i=t===Jd&&n===Hd,o=wl(e),r=vl(e);return{hasMinimize:!o,hasClose:!(r&&i||o),hasEndChat:r&&i&&!o,hasTextEndChat:r&&i&&o,hasTextClose:(!r||!i)&&o,hasPopOut:!o,hasPopIn:nb(e)}},mT=function(e){var t=nh(e),n=rh(e),i=Mm(e,n.id),o=Sp(e),r=nf(e);return cs({tab:t,controls:fT(e),windowDisabled:ef(e),chatWindowStyle:i,isAvatarGray:t===$d||t===el&&!Rp(e,n.id),ifViewConfirmBubble:t!==Xd,ifHideBio:Qh(e),isPopout:wl(e),languages:n.languages,ifViewHeader:!0,ifViewHeaderBox:!0,color:Vm(e),windowStatus:o,ifShowSideWindow:r},nw(i,e,n))},bT=function(e){return{onEndChat:function(){e(py()),e(Mg())},onClose:function(t){var n=hT[t];n&&yx(n+".close"),e(Wg())},onMinimize:function(t){var n=hT[t];n&&yx(n+".minimize"),e(Rg())},onPopIn:function(){e(Wv())},onPopOut:function(){e(Ov())},onUpdateScrollStatus:function(t){e(Dv(t))}}},wT=uA(mT,bT)(pT),gT=function(e){return n("div",{className:"poweredby"},n("a",{rel:"noopener noreferrer",onClick:function(e){e.target.blur()},target:"_blank",href:e.poweredByUrl},"Powered by Comm100"))},vT=TA("footer.poweredby")(gT),yT=function(e){return n("div",{className:"footer window__footer",style:e.style,onTouchMove:ed},e.showChatWithAgent&&n("div",{onClick:e.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--bottom"},n("i",{className:"icon icon-bubble"}),e.chatWithAgentText),e.icons&&n(e.icons),e.poweredByUrl&&n(vT,e))},_T=TA("footer")(yT),xT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={isShow:n.isShow},i.timer=null,i.footerOperation=null,i.shouldComponentUpdate=Zk(i,["isShow","icons","windowDisabled"],["isShow"]),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer=this.props.isShow&&setTimeout(function(){e.setState({isShow:!1})},333)},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{ref:function(t){e.footerOperation=t},className:ZA("footer__operation",this.state.isShow?"footer__operation--show":"")},n("ul",{className:"clearfix"},t.icons&&t.icons.map(function(e){return n(e.component,cs({},e.props,{onIconSelected:t.onIconSelected,windowDisabled:t.windowDisabled}))})))},t}(I),kT=TA("footer.toolbar")(xT),CT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={rateVal:n.rateVal,hoverRateVal:0},i.clickChange=i.clickChange.bind(i),i}return ds(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({rateVal:e.rateVal})},t.prototype.clickChange=function(e){this.setState({rateVal:e}),this.props.rateChange(e)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:"rating","data-vote":"0",style:cs({width:t.width,height:t.height},t.style),onFocus:t.onFocus,onBlur:t.onBlur},n("span",{className:"ratingStars",onMouseLeave:function(){return e.setState({hoverRateVal:0})}},t.rateItems.map(function(t,i){var o=0===e.state.hoverRateVal?e.state.rateVal:e.state.hoverRateVal;return n("div",{key:t.id,id:"rateItem-"+t.id,role:"button",tabIndex:t.id,className:ZA("star selected icon icon-rating-full")},n("span",{role:"button",tabIndex:t.id,className:ZA("full icon icon-rating-full",i<o?"starColour":""),"data-value":t.value,onClick:function(){return e.clickChange(t.value)},onMouseEnter:function(){return e.setState({hoverRateVal:i+1})},title:t.label}))}),t.children))},t}(I),ST=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["input.value","meta.touched","meta.invalid","focused","isDisabled"]),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},t.prototype.componentDidUpdate=function(e){e.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},t.prototype.render=function(){var e=this,t=this.props,i=t.input,o=t.rows,r=t.cols,a=t.style,s=t.isDisabled,c=t.placeholder,d=t.maxLength,l=t.className,u=t.meta;return n("textarea",cs({},i,{cols:r,rows:o,style:a,disabled:!!s&&"disabled",className:ZA(l,"multipleText",u.touched&&u.invalid&&"error"),placeholder:c,maxLength:d,ref:function(t){e.element=t}}))},t}(I),AT={large:"btn-lg",small:"btn-sm"},MT={primary:"btn-primary",default:"btn-default",gray:"btn-gray",noborder:"btn-noborder"},TT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["disabled","text","className","loading","size","icon","iconPosition","type","children"]),i}return ds(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,i=e.text,o=e.onClick,r=e.className,a=e.htmlType,s=e.loading,c=e.size,d=e.icon,l=e.iconPosition,u=e.type,p=e.children,h=ls(e,["disabled","text","onClick","className","htmlType","loading","size","icon","iconPosition","type","children"]),f=AT[c]||"",m=MT[u]||"btn-default",b=null;return s||d&&(b=d),n("button",cs({},h,{className:ZA("btn",t&&"disabled",f,m,r),disabled:!!t&&"disabled",onClick:t?void 0:o,type:a}),"right"!==l&&b,"right"!==l&&p,i&&n("span",null,i),"right"===l&&p,"right"===l&&b)},t}(I);TT.examples={DefaultExample:{description:"Loading Example",component:n(TT,{text:"Click Me!",loading:!0,iconPosition:"right"})},GrayButton:{description:"Gray Button",component:n(TT,{type:"gray",text:"Log In"})}};var IT,PT,DT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={active:!1,score:n.ratingValue||0,comment:n.commentValue||"",transformOrigin:"",arrowDownLeft:"",ratingError:!1,commentError:!1},i.onSubmit=i.onSubmit.bind(i),i.onClick=i.onClick.bind(i),i.toggle=i.toggle.bind(i),i.checkRequired=i.checkRequired.bind(i),i.checkIfEnter=i.checkIfEnter.bind(i),i.shouldComponentUpdate=Zk(i,["disabled","chatWindowStyle"],["score","comment","ratingError","commentError","active","transformOrigin","arrowDownLeft"]),i.checkRequired(),i}return ds(t,e),t.prototype.componentDidUpdate=function(e,t){this.inputElement&&!t.active&&this.state.active&&this.inputElement.focus()},t.prototype.onSubmit=function(){this.checkRequired()&&(this.toggle(!1),this.props.onSubmit({score:this.state.score,comment:this.state.comment}),this.props.onIconSelected&&this.props.onIconSelected())},t.prototype.onClick=function(){this.state.active?this.toggle(!1):this.toggle(!0);var e=0,t=this.rating.getBoundingClientRect().left;this.props.chatWindowStyle!==Gd&&this.props.chatWindowStyle!==qd||(e=this.props.isRightToLeft?t-40+2:t-(qc.querySelector("#chat_window_container").clientWidth-250-35)+2),this.setState({transformOrigin:e+"px calc(100% + 19px)",arrowDownLeft:e+"px"})},t.prototype.toggle=function(e){var t=this;this.state.active!==e&&(this.setState({active:e},function(){t.props.onToggle(e)}),!e&&this.props.onIconSelected&&this.props.onIconSelected())},t.prototype.checkIfEnter=function(){return this.state.comment.length>0||this.state.score>0},t.prototype.checkRequired=function(){var e=this.props,t=e.ratingField,n=e.commentField;return t&&t.isRequired&&this.setState({ratingError:0===this.state.score}),n&&n.isRequired&&this.setState({commentError:0===this.state.comment.length}),!this.state.ratingError&&!this.state.commentError},t.prototype.render=function(){var e=this,t=this.props,i=this.props,o=i.languages,r=i.ratingField,a=i.commentField,s=i.isMobile,c=i.chatWindowStyle;return r||a?n("li",{ref:function(t){e.rating=t},className:"footer__svg "+(t.disabled?"footer__svg--disabled":"")},n("div",{onClick:!s||this.state.active||t.windowDisabled?null:function(t){t.stopPropagation(),e.onClick(t)}},n("span",{title:o.buttonRating},n(HM,{id:"iconRating",color:t.color,type:"rating",active:this.state.active,onClick:t.windowDisabled||s?null:this.onClick})),s&&o.buttonRating),n("div",{onClick:function(e){return e.stopPropagation()}},n(oT,{iconId:"iconRating",ifShow:this.state.active,showDirection:"up",ifHasClose:!0,onClose:function(){e.toggle(!1)},transformOrigin:this.state.transformOrigin,arrowDownLeft:this.state.arrowDownLeft,chatWindowStyle:c},n("div",{className:"bubble--title"},o.ratingTitle),r&&n(CT,{rateVal:this.state.score,rateItems:r.options.map(function(e,t){return cs({},e,{id:t+1})}),rateChange:function(t){return e.setState({score:t})}},r.isRequired&&n("span",{className:"bubble__required"},"*")),a&&n("div",{className:"bubble--textarea"},n(ST,{input:{onInput:function(t){return e.setState({comment:t.target.value})},value:this.state.comment},ref:function(t){t&&(e.inputElement=t.element)},meta:{touched:!0,invalid:this.state.commentError},rows:3,cols:26,maxLength:2048,isDisabled:!1,placeholder:o.ratingCommentTitle}),a.isRequired&&n("span",{className:"bubble__required"},"*")),n("div",{className:"bubble__operation"},n(TT,{type:"primary",text:o.buttonSubmit,onClick:this.onSubmit,disabled:!this.checkIfEnter()||!this.checkRequired()}))))):null},t}(I),NT=function(e){return{chatWindowStyle:Mm(e,_p(e)),isPoppedOut:wl(e),isRightToLeft:mf(e),commentField:Gf(e),ratingField:Yf(e),ratingValue:$h(e,"rating"),commentValue:$h(e,"comment"),languages:rh(e).languages}},RT=function(e){return{onSubmit:function(t){yx("livechat.chat.visitor.rate",t),e(ly(t)),e({type:"footer/chatToolRating",payload:t})},onToggle:function(t){e(Gv(t))}}},OT=uA(NT,RT)(DT),WT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={active:!1,file:null,disabled:!1},i.onFileChange=i.onFileChange.bind(i),i}return ds(t,e),t.prototype.onFileChange=function(e){var t=this;e&&(this.tempfile=e,this.setState({disabled:!0}),this.props.onSubmit(this.tempfile).catch(function(e){return t.file&&(t.file.value=""),t.setState({disabled:!1}),""}).then(function(){t.file&&(t.file.value=""),t.setState({disabled:!1})}))},t.prototype.render=function(){var e=this,t=this.props,i=this.props,o=i.languages,r=i.isMobile,a=Ub(),s=this.state.disabled||t.disabled;return n("li",{title:o.buttonSendFile,className:"footer__svg "+(s?"footer__svg--disabled":""),onClick:function(){!r||t.windowDisabled||e.state.active||s||(e.file.click(),t.onIconSelected&&t.onIconSelected())}},n(HM,{id:"iconSendFile",color:t.color,type:"sendfile",active:this.state.active,onClick:r||t.windowDisabled||this.state.active||s?null:function(n){n.stopPropagation(),t.onIconSelected&&t.onIconSelected(),e.file.click()}}),r&&o.buttonSendFile,!a&&n("input",{type:"file",style:{display:"none"},onChange:function(t){return e.onFileChange(t.target.files[0])},ref:function(t){t&&(e.file=t)}}),a&&n(tC,{style:{display:"none"},onChange:function(t){return e.onFileChange(t)},onMounted:function(t){e.file=t}}))},t}(I),ET=function(e){return{color:"white",disabled:hf(e)||Eh(e)}},BT=function(e){return{onSubmit:function(t){return e(sv(t))}}},LT=uA(ET,BT)(WT),FT=function(e,t){var i=(e.isRequired,
e.input),o=e.isReadOnly,r=e.isDisabled,a=e.className,s=e.meta,c=e.type,d=e.placeholder,l=e.autoComplete,u=e.maxLength,p=e.animationEffect,h=e.style,f=ls(e,["isRequired","input","isReadOnly","isDisabled","className","meta","type","placeholder","autoComplete","maxLength","animationEffect","style"]);return n("input",cs({},i,{readOnly:o,disabled:r,className:ZA("input","form__input",p&&"input--effect01",a,s&&s.touched&&s.invalid&&"error"),type:c,placeholder:d,autoComplete:l?"on":"off",maxLength:u,style:h,ref:t},f))},zT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.refCallback=i.refCallback.bind(i),i.shouldComponentUpdate=Zk(i,["input.value","meta.invalid","meta.touched","focused","isRequired","isDisabled","style"]),i.focus=i.focus.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.focus()},t.prototype.componentDidUpdate=function(e){this.props.focused!==e.focused&&this.props.focused&&this.focus()},t.prototype.focus=function(){var e=this.element;e&&e.focus()},t.prototype.refCallback=function(e){this.element=e},t.prototype.render=function(){var e=this.props;return e.animationEffect?n("div",{className:"form__inputContainer"},FT(e,this.refCallback),n("span",{className:"input__focusBorder"},n("i",null))):FT(e,this.refCallback)},t}(I),VT=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={active:!1,transformOrigin:"",arrowDownLeft:"",email:i.props.emailAddress,isLawful:!0},i.onSubmit=i.onSubmit.bind(i),i.onClick=i.onClick.bind(i),i.toggle=i.toggle.bind(i),i.CheckLegitimacy=i.CheckLegitimacy.bind(i),i.checkRequired=i.checkRequired.bind(i),i.emailFocus=i.emailFocus.bind(i),i}return ds(t,e),t.prototype.componentWillMount=function(){var e=this;this.props.isActive&&setTimeout(function(){e.toggle(!0),e.setStateLeftDistance()},458)},t.prototype.componentDidMount=function(){this.emailFocus()},t.prototype.componentWillReceiveProps=function(e){var t=this;e.isActive&&setTimeout(function(){t.toggle(!0),t.setStateLeftDistance()},458)},t.prototype.componentDidUpdate=function(e,t){this.inputElement&&!t.active&&this.state.active&&this.emailFocus()},t.prototype.onSubmit=function(){this.checkRequired()?(this.toggle(!1),this.setState({isLawful:!0}),this.props.onSubmit(this.state.email),this.props.onIconSelected&&this.props.onIconSelected()):this.setState({isLawful:!1})},t.prototype.onClick=function(){this.toggle(!this.state.active),this.setStateLeftDistance()},t.prototype.setStateLeftDistance=function(){if(this.sendemail){var e=0,t=this.sendemail.getBoundingClientRect().left;this.props.chatWindowStyle!==Gd&&this.props.chatWindowStyle!==qd||(e=this.props.isRightToLeft?t-40+2:t-(qc.querySelector("#chat_window_container").clientWidth-250-35)+2),this.setState({transformOrigin:e+"px calc(100% + 19px)",arrowDownLeft:e+"px"})}},t.prototype.emailFocus=function(){var e=this;this.timer=setTimeout(function(){e.inputElement.focus()},333)},t.prototype.toggle=function(e){var t=this;this.state.active!==e&&(this.setState({active:e},function(){t.props.onToggle(e)}),!e&&this.props.onIconSelected&&this.props.onIconSelected())},t.prototype.checkRequired=function(){return vb(this.state.email)},t.prototype.CheckLegitimacy=function(){return!!this.state.email},t.prototype.render=function(){var e=this,t=this.props,i=this.props,o=i.languages,r=i.isMobile,a=i.chatWindowStyle;return n("li",{ref:function(t){e.sendemail=t},className:"footer__svg "+(t.disabled?"footer__svg--disabled":"")},n("div",{id:"icon_container",onClick:!r||t.windowDisabled||this.state.active?null:function(t){t.stopPropagation(),e.onClick(t)}},n("span",{title:o.buttonTranscript},n(HM,{id:"iconSendEmail",color:t.color,type:"sendemail",active:this.state.active,onClick:t.windowDisabled||r?null:this.onClick})),r&&o.buttonTranscript),n("div",{onClick:function(e){return e.stopPropagation()}},n(oT,{id:"sendEmail",iconId:"iconSendEmail",ifShow:this.state.active,showDirection:"up",ifHasClose:!0,onClose:function(){e.toggle(!1)},chatWindowStyle:a,transformOrigin:this.state.transformOrigin,arrowDownLeft:this.state.arrowDownLeft},n("div",{className:"bubble--title"},o.promptEmail),n(zT,{placeholder:o.typeYourEmailHere,ref:function(t){t&&(e.inputElement=t.element)},style:this.state.isLawful?null:{borderColor:"#ff0000"},input:{onInput:function(t){return e.setState({email:t.target.value})},value:this.state.email,onKeyDown:function(t){13===t.which&&e.checkRequired()&&(t.stopPropagation(),e.onSubmit())}},className:"footer-text-single-line",maxLength:128,isRequired:!0,meta:{touched:!0,invalid:this.state.showRequired}}),n("div",{className:"bubble__operation"},n(TT,{type:"primary",text:o.buttonSend,onClick:function(){return e.onSubmit()},disabled:!this.CheckLegitimacy()})))))},t}(I),UT=function(e){var t=Bh(e),n=Rh(e),i=ff(e),o=$h(e,"email");return{chatWindowStyle:Mm(e,_p(e)),isPoppedOut:wl(e),isRightToLeft:mf(e),isActive:i&&!t&&!n,disabled:!1,color:"white",emailAddress:o,languages:rh(e).languages}},HT=function(e){return{onSubmit:function(t){yx("livechat.chat.visitor.setEmail",t),e(uy(t))},onToggle:function(t){e(Gv(t))}}},jT=uA(UT,HT)(VT),YT=function(e){return n("li",{title:e.languages.buttonAudioChat,className:"footer__svg "+(e.disabled?"footer__svg--disabled":""),onClick:function(){e.isMobile&&!e.windowDisabled&&!e.disabled&&e.onClick&&(e.onClick(),e.onIconSelected&&e.onIconSelected())}},n(HM,{id:"iconAudioChat",color:e.color,type:"voicechat",active:e.active,onClick:function(t){t.stopPropagation(),e.isMobile||e.windowDisabled||e.disabled||!e.onClick||(e.onClick(),e.onIconSelected&&e.onIconSelected())}}),e.isMobile&&e.languages.buttonAudioChat)},GT=function(e){return{disabled:af(e)||hf(e)||!of(e)}},qT=function(e){return{onClick:function(){e({type:"footer/chatToolAudio",payload:!0})}}},ZT=uA(GT,qT)(YT),KT=function(e){return n("li",{title:e.languages.buttonVideoChat,className:"footer__svg "+(e.disabled?"footer__svg--disabled":""),onClick:function(){e.isMobile&&!e.windowDisabled&&!e.disabled&&e.onClick&&(e.onClick(),e.onIconSelected&&e.onIconSelected())}},n(HM,{id:"iconVideoChat",color:e.color,type:"videochat",active:e.active,onClick:function(t){t.stopPropagation(),e.isMobile||e.windowDisabled||e.disabled||!e.onClick||(e.onClick(),e.onIconSelected&&e.onIconSelected())}}),e.isMobile&&e.languages.buttonVideoChat)},QT=function(e){return{disabled:af(e)||hf(e)||!of(e)}},JT=function(e){return{onClick:function(){e({type:"footer/chatToolVideo",payload:!0})}}},XT=uA(QT,JT)(KT),$T=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={active:!1},i.timer=null,i.printWindow=null,i.getPrintContent=i.getPrintContent.bind(i),i.getPrintElement=i.getPrintElement.bind(i),i.print=i.print.bind(i),i}return ds(t,e),t.prototype.getPrintContent=function(){var e=this;return n("div",{className:Zd(this.props.windowStyle),ref:function(t){e.element=t}}," ",n(this.props.content,{isPrint:!0})," ")},t.prototype.getPrintElement=function(){var e=this;if(Ad){if(!this.printWindow&&!this.timer){this.printWindow=Gc.open("about:blank","_blank","width=800\uff0c height=600, status=yes, toolbar=no, resizable=yes,location=no,tilebar=no");var t=this.printWindow.document,i=t.head,o=t.createElement("style");o.innerHTML=this.props.innerCss,i.appendChild(o),setTimeout(function(){t.body.appendChild(e.element),e.print(e.printWindow)},0)}return n("div",{style:{display:"none"}},this.getPrintContent())}return n(Xk,{key:"printWin",id:"print_transcript_container",style:{width:0,height:0},callback:function(t){e.print(t.contentWindow)},innerCss:this.props.innerCss},this.getPrintContent())},t.prototype.print=function(e){var t=this;this.timer||(this.timer=setTimeout(function(){e.focus(),e.print(),e.close(),t.setState({active:!1}),t.timer=null,t.printWindow=null},200))},t.prototype.render=function(){var e=this,t=this.props,i=this.props,o=i.languages,r=i.isMobile,a=this.state.active;return n("li",{title:o.buttonPrint,className:"footer__svg "+(a?"footer__svg--disabled":""),onClick:!r||t.windowDisabled||this.state.active?null:function(){e.setState({active:!0}),t.onIconSelected&&t.onIconSelected()}},n(HM,{id:"iconPrint",color:t.color,type:"print",active:this.state.active,onClick:r||t.windowDisabled?null:function(n){n.stopPropagation(),t.onIconSelected&&t.onIconSelected(),e.setState({active:!0})}}),r&&o.buttonPrint,this.state.active&&this.getPrintElement())},t}(I),eI=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{id:"visitorRequestChat"===t.type&&"system-queue-position",className:"chat-system-message window__chatSystemMessage",ref:function(t){e.container=t}},t.windowStyle===qd&&n("div",{className:"window__chatSystemMessageContent"},t.message),t.windowStyle!==qd&&t.message,t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])},t}(I),tI=function(e){if(null==e.parentNode)return null;var t=e.parentNode,n=t.getElementsByClassName("window__chatVisitorMessage");if(n.length>0)return n[0];var i=t.getElementsByClassName("window__chatAgentMessage");return i.length>0?i[0]:null},nI=function(e,t){for(var n=t.parentNode;n&&!/\bwindow__chat\b/.test(n.className);)n=n.parentNode;var i=n.getBoundingClientRect(),o=e.clientY+20+t.offsetHeight<i.top+i.height?20:-20,r=t.parentNode.getBoundingClientRect(),a=r.left,s=r.top;return{left:e.clientX-a-Math.floor(t.offsetWidth/2),top:e.clientY-s+o}},iI=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.messageElement=tI(this.element),this.messageElement){var t=vd(function(t){e.setState(cs({},nI(t,e.element),{opacity:1}))},500);this.onMessageMouseMove=function(n){e.setState({opacity:0}),t(n)},this.onMessageMouseOver=function(t){e.setState({display:"block"}),e.onMessageMouseMove(t)},this.onMessageMouseOut=function(){e.setState({display:"none"})},this.messageElement.addEventListener("mouseover",this.onMessageMouseOver),this.messageElement.addEventListener("mousemove",this.onMessageMouseMove),this.messageElement.addEventListener("mouseout",this.onMessageMouseOut)}},t.prototype.componentWillUnmount=function(){this.messageElement&&(this.messageElement.removeEventListener("mouseover",this.onMessageMouseOver),this.messageElement.removeEventListener("mousemove",this.onMessageMouseMove),this.messageElement.removeEventListener("mouseout",this.onMessageMouseOut))},t.prototype.render=function(){var e=this;return n("div",{style:cs({},this.state),ref:function(t){e.element=t},className:"chat-time chat__time"},hd(this.props.time))},t}(I),oI=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.messageElement=tI(this.element),this.messageElement){var t=vd(function(){e.setState({opacity:0})},1500);this.onMessageClick=function(n){e.setState(cs({},nI(n,e.element),{opacity:1})),t()},this.messageElement.addEventListener("click",this.onMessageClick)}},t.prototype.componentWillUnmount=function(){this.messageElement&&this.messageElement.removeEventListener("click",this.onMessageClick)},t}(iI),rI=function(e){var t=e.isMobile,i=void 0!==t&&t,o=ls(e,["isMobile"]);return i?n(oI,o):n(iI,o)},aI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={ifShowLoading:!1},i.timer=null,i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;"visitorText"===this.props.type&&(this.timer=setTimeout(function(){e.setState({ifShowLoading:!0}),e.timer=null},1e3));var t=this.props.scrollDown;t(),Pd(this.container,t)},t.prototype.componentWillReceiveProps=function(e){"visitorText"!==e.type&&(this.timer&&clearTimeout(this.timer),this.setState({ifShowLoading:!1}))},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props,i=void 0,o=!1,r="";return"visitorText"===t.type?i=Fb(t.message,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId):"visitorAddTextMessage"===t.type?t.translated?(i=Fb(t.translated,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId),i.push(n("i",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",t.translatedTag,")")),i.push(n("i",{className:"window__chatMessageOrignal"},Fb(t.message,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId)," (",t.originalTag,")"))):i=Fb(t.message,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId):"visitorSendImage"===t.type?(o=!0,r=/.*[.](gif)$/i.test(t.message.name)?t.message.url:t.message.url+"&maxWidth=200&maxHeight=200",i=n("a",{href:t.message.url+"&isImage",target:"_blank",rel:"noopener noreferrer"},n("img",{src:r,alt:t.message.name,style:{maxWidth:200,maxHeight:200},onLoad:t.scrollDown}))):"visitorSendFile"===t.type?/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(t.message.name)?(o=!0,r=/.*[.](gif)$/i.test(t.message.name)?t.message.url:t.message.url+"&maxWidth=200&maxHeight=200",i=n("a",{href:t.message.url+"&isImage",target:"_blank",rel:"noopener noreferrer"},n("img",{src:r,alt:t.message.name,style:{maxWidth:200,maxHeight:200},onLoad:t.scrollDown}))):(o=!1,i=n("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},n(tM,{type:eM.sendfile}),n("a",{href:t.message.url,target:"_blank",rel:"noopener noreferrer"},t.message.name))):"visitorFile"===t.type||"visitorImage"===t.type?(i=[t.fileName],t.percent&&i.push(n("span",null,"(",t.percent,"%)")),t.onCloseClick&&i.push(n("i",{className:"icon icon-close",style:{color:"#a3a3a3",fontSize:12},onClick:function(e){e.preventDefault(),e.stopPropagation(),t.onCloseClick()}})),i.push(n("span",{className:"chat-message--loading"},n(HM,{type:"loading",className:"svg--loading",viewBox:"0 0 100 100"})))):"visitorSubmitBotForm"!==t.type&&"visitorConfirmBotForm"!==t.type&&"visitorCancelBotForm"!==t.type||(i=t.message.Message),n("div",{className:"chat-visitor window__chatVisitor clearfix",ref:function(t){e.container=t}},n("div",{className:ZA("chat-visitor-message","window__chatVisitorMessage",o&&"chat-message--img")},i,this.state.ifShowLoading&&n("span",{className:"chat-message--loading"},n(HM,{type:"loading",className:"svg--loading",viewBox:"0 0 100 100"})),t.windowStyle===qd&&[n(HM,{type:"bubblelineright",className:"icon-bubble-line-right",viewBox:"0 0 19 28"})]),"visitorText"!==this.props.type&&t.time&&n(rI,{time:t.time,isMobile:this.props.isMobile}),"visitorText"===this.props.type&&n(rI,{time:t.time}))},t}(I),sI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1},i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props;e.scrollDown(),yx("livechat.chat.agent.input",e.sender,e.message),Pd(this.container,e.scrollDown)},t.prototype.shouldComponentUpdate=function(e,t){return this.props.message!==e.message||e.sender.name!==this.props.sender.name||e.sender.avatar!==this.props.sender.avatar||e.time!==this.props.time||e.translated!==this.props.translated||e.ifShowName!==this.props.ifShowName||e.ifShowAvatar!==this.props.ifShowAvatar||e.isMobile!==this.props.isMobile||e.type!==this.props.type||t.mobileShowTime!==this.state.mobileShowTime},t.prototype.componentWillUnmount=function(){Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props,i=void 0,o=!1,r="";if("agentSendText"===t.type||"autoInvMsg"===t.type||"agentAddInvitationText"===t.type)t.translated?(i=Fb(t.translated,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId),i.push(n("i",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",t.translatedTag,")")),i.push(n("i",{className:"window__chatMessageOrignal"},Fb(t.message,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId)," (",t.originalTag,")"))):i=Fb(t.message,n("br",null),t.KbHost,t.onKbLinkClick,t.siteId);else if(t.type===Ed){var a=t.message.replace("<a","<a target='_blank'"),s=n("div",{dangerouslySetInnerHTML:{__html:a}});i=[s]}else"agentSendUrl"===t.type?i=wd(t.message):"agentSendImage"===t.type?(o=!0,r=/.*[.](gif)$/i.test(t.message.name)?t.message.url:t.message.url+"&maxWidth=200&maxHeight=200",i=n("a",{href:t.message.url+"&isImage",target:"_blank",rel:"noopener noreferrer"},n("img",{src:r,alt:t.message.name,style:{maxWidth:200,maxHeight:200},onLoad:t.scrollDown}))):"agentSendFile"===t.type&&(/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(t.message.name)?(o=!0,r=t.message.url,i=n("a",{href:t.message.url+"&isImage",target:"_blank",rel:"noopener noreferrer"},n("img",{src:r,alt:t.message.name,style:{maxWidth:200,maxHeight:200},onLoad:t.scrollDown}))):(o=!1,i=n("div",{className:"chat-operator-message window__chatAgentMessage--file"},n("a",{href:t.message.url,target:"_blank",rel:"noopener noreferrer"},t.message.name))));return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{className:ZA("chat-operator-message","window__chatAgentMessage",o&&"chat-message--img","agentSendImageStart"===t.type&&"chat-message--imgLoading",(!t.ifShowAvatar||!t.sender.avatar)&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),"agentSendImageStart"===t.type&&n(HM,{type:"loading",className:"svg--loading",viewBox:"0 0 100 100"}),i,t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n(rI,{time:t.time,isMobile:t.isMobile}))},t}(I),cI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1},i.timer=null,i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props;return t.message&&(t.message.Message||t.message.TextChatWithAgent)?n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),t.message.Message&&n("div",null,t.message.Message),t.message.TextChatWithAgent&&n("a",{onClick:function(e){e.preventDefault(),e.stopPropagation(),t.onChatWithAgentClick()},className:"btn btn-primary"},t.message.TextChatWithAgent),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n(rI,{time:t.time,isMobile:this.props.isMobile})):null},t}(I),dI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.timer=null,i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer=setTimeout(function(){e.props.onChatbotTimeout(e.props.message),e.timer=null},3e4);var t=this.props.scrollDown;t(),Pd(this.container,t)},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props;if(!t.message)return null;if(t.timeout){var i={type:"chatbotBadAnswer",message:t.message,sender:t.sender,time:t.time,onChatWithAgentClick:t.onChatWithAgentClick,ifShowName:t.ifShowName,ifShowAvatar:t.ifShowAvatar,windowStyle:t.windowStyle,isMobile:t.isMobile,scrollDown:t.scrollDown};return n(cI,i)}return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},n("div",{className:"dot"},n("div",{className:ZA("dot__element",!kd&&"dot__element--loadingAnimation","animated-delayFrames7")}),n("div",{className:ZA("dot__element",!kd&&"dot__element--loadingAnimation","animated-delayFrames10")}),n("div",{className:ZA("dot__element",!kd&&"dot__element--loadingAnimation","animated-delayFrames13")})),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]))},t}(I),lI=function(e){try{return JSON.parse(e).messages.map(function(e){if(void 0!==e.text)return n("div",{dangerouslySetInnerHTML:{__html:e.text||""}});if(e.attachment){if("image"===e.attachment.type){var t=e.attachment.payload.url;return n("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n("img",{src:t,alt:"img",style:{maxWidth:200,maxHeight:200}}))}if("file"===e.attachment.type)return n("div",{className:"chat-operator-message window__chatAgentMessage--file"},n("a",{href:e.attachment.payload.url,target:"_blank",rel:"noopener noreferrer"},"File"))}return null}).filter(function(e){return null!=e})}catch(e){return n("div",null,"Webhook Response Error: Bot has problems answering your question.")}},uI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1,helpful:!1,notHelpful:!1},i.handleLinkClick=i.handleLinkClick.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.scrollDown;if(t(),Pd(this.container,t),this.container){if(this.container.getBoundingClientRect().height>80)for(var n=this.container.querySelectorAll(".chat-time"),i=0;i<n.length;i+=1)n[i].className=n[i].className.replace("chat-time-has-rate","");var o=this.container.querySelector('a[data-linktype="0"][data-pushpage=true][data-opentype="0"]');if(o){var r=Ky(),a=JSON.parse(r.getItem("pushpage_list")||"[]");a.some(function(t){return t===e.props.message.GUID})||this.props.chatStatus===jd||(this.handleLinkClick({target:o,preventDefault:function(){}}),a.push(this.props.message.GUID),r.setItem("pushpage_list",JSON.stringify(a)))}}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.helpful!==t.helpful||this.state.notHelpful!==t.notHelpful||this.props.disableRate!==e.disableRate||this.state.mobileShowTime!==t.mobileShowTime},t.prototype.componentWillUnmount=function(){Dd(this.container,this.props.scrollDown)},t.prototype.handleLinkClick=function(e){var t=e.target;if("A"===t.nodeName){if(this.props.KbHost&&this.props.onKbLinkClick){var n=this.props.KbHost,i=this.props.onKbLinkClick,o=t.href;if(new RegExp(n+"/kb/[\\d]+-[\\d]+-a[\\d]+","i").test(o)){return i(o.match(/\/kb\/[\d]+-[\d]+-a([\d]+)\/?/i)[1]),e.preventDefault(),!1}}var r=t.getAttribute("data-linktype");if(r){var a=t.getAttribute("href"),s=t.getAttribute("data-displaytext");e.preventDefault();var c=this.props.onBotSignLinkClick;if("0"===r){if(a&&c){var d=t.getAttribute("data-opentype");"1"===d?Gc.open(a):"2"===d?Gc.location.href=a:c({signInUrl:a,signInType:4,signInText:s})}}else if("1"===r){var l=t.getAttribute("data-intentid");this.props.sender.id?this.props.onRelatedQuestionClickWithAgent({GUID:this.props.message.GUID,questionId:l,questionName:s,clickType:1,senderId:this.props.sender.id,senderType:this.props.sender.id?1:3}):this.props.onRelatedQuestionClickWithAgent({GUID:this.props.message.GUID,questionId:l,questionName:s,clickType:1,senderId:0,senderType:3})}return!1}}if("DIV"===t.nodeName&&"video"===t.getAttribute("data-type")){var u=t.getAttribute("data-frame");(0,this.props.onBotSignLinkClick)({signInFrame:u,signInType:3,signInText:"Video"})}return!0},t.prototype.render=function(){var e=this,t=this.props,i=this.state,o=t.disableRate||i.notHelpful,r=t.disableRate||i.helpful;return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),0===t.message.AnswerContentType&&n("div",{onClick:this.handleLinkClick,dangerouslySetInnerHTML:{__html:t.message.Answer}}),0!==t.message.AnswerContentType&&n("div",null,lI(t.message.Answer)),t.message.RelatedQuestion&&t.message.RelatedQuestion.length>0&&n("div",null,n("div",{className:"chatMessage__chatBotRateSplitLine"}),n("div",null,t.message.TextRelatedQuestions),n("ul",{className:"chatMessage__questionList chatMessage__questionList--disc"},t.message.RelatedQuestion.map(function(e){return n("li",{key:e.QuestionId},n("a",{onClick:function(n){n.preventDefault(),n.stopPropagation(),t.onRelatedQuestionClick(e)}},e.QuestionName))}))),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n(rI,{time:t.time,isMobile:t.isMobile}),!t.message.IfSystem&&n("div",{className:"chatMessage__chatBotRate"},n("div",{className:ZA(!i.helpful&&o&&"chatMessage__chatBotRate--disabled",i.helpful&&"chatMessage__chatBotRate--selected"),onClick:o||i.helpful?void 0:function(n){n.preventDefault(),n.stopPropagation(),i.notHelpful||e.setState({helpful:!0}),e.props.sender.id?t.OnRateClickWithAgent(t.message.GUID,!0,t.message.StandardQuestionId):t.OnRateClick(t.message.GUID,!0,t.message.StandardQuestionId)},title:t.message.TextHelpful},n("i",{className:"icon icon-helpful",title:"Helpful"})),n("div",{className:ZA("chatMessage__chatBotRateLast",!i.notHelpful&&r&&"chatMessage__chatBotRate--disabled",i.notHelpful&&"chatMessage__chatBotRate--selected"),onClick:r||i.notHelpful?void 0:function(n){n.preventDefault(),n.stopPropagation(),i.helpful||e.setState({notHelpful:!0}),e.props.sender.id?t.OnRateClickWithAgent(t.message.GUID,!1,t.message.StandardQuestionId):t.OnRateClick(t.message.GUID,!1,t.message.StandardQuestionId)},title:t.message.TextNotHelpful},n("i",{className:"icon icon-not-helpful",title:"Not Helpful"}))))},t}(I),pI=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),t.message.Message,n("ul",{className:"chatMessage__questionList"},t.message.RelatedQuestion.map(function(e){return n("li",{key:e.QuestionId},n("a",{onClick:function(n){n.preventDefault(),n.stopPropagation(),t.onRelatedQuestionClick(e)}},e.QuestionName))})),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n(rI,{time:t.time,isMobile:t.isMobile}))},t}(I),hI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1},i.onClick=i.onClick.bind(i),i.handleLinkClick=i.handleLinkClick.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.onClick=function(e){var t=this;e.stopPropagation(),this.props.isMobile&&(this.setState({mobileShowTime:!0}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({mobileShowTime:!1}),t.timer=null},2e3))},t.prototype.handleLinkClick=function(e){if("A"===e.target.nodeName&&(e.preventDefault(),this.props.message.Url&&this.props.onBotSignLinkClick))return 1===this.props.message.OpenType?window.open(this.props.message.Url):(0,this.props.onBotSignLinkClick)({signInUrl:this.props.message.Url,signInText:this.props.message.SignInText,signInType:this.props.message.SignInType}),!1;return!0},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{onClick:this.props.isMobile?this.onClick:void 0,className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),n("div",{onClick:this.handleLinkClick,dangerouslySetInnerHTML:{__html:t.message.Message+' <a href="'+t.message.Url+'">'+t.message.SignInText+"</a>."}}),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),this.props.isMobile&&n("div",{style:{opacity:this.state.mobileShowTime?1:0},className:"chat-time chat__time"},hd(t.time)),!this.props.isMobile&&n("div",{className:"chat-time chat__time"},hd(t.time)))},t}(I),fI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldCOmponentUpdate=Zk(i,["input.value","isDisabled"]),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},t.prototype.componentDidUpdate=function(e){e.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},t.prototype.render=function(){var e=this,t=this.props,i=!(!t.input.value&&!t.initialValue);return n("div",{className:ZA("container-checkbox",t.isDisabled&&"disable",t.className),onClick:t.isDisabled?void 0:function(){t.input.onChange(!i,t.text,t.id)}},n("span",{className:"checkbox__text"},t.text||t.children),n("input",{id:"checkbox-"+t.id,type:"Checkbox",className:"checkbox",disabled:!!t.isDisabled&&"disabled",checked:i,onFocus:t.input.onFocus,onBlur:t.input.onBlur,ref:function(t){e.element=t}}),n("i",{className:i?"selected":"unselected"},n(HM,{type:"checkbox"})))},t}(I),mI=[Bd,Ld,"phone","company","product","department","rating",Fd,"subject","content","attachment"],bI=function(e){return mI.indexOf(e)>=0},wI=function(e){return At(function(t){function i(e){ss(this,i);var n=us(this,t.call(this,e));return n.params={onChange:n.onChange.bind(n),onBlur:n.onBlur.bind(n),onFocus:n.onFocus.bind(n),siteId:e.siteId,style:e.style,isHorizontal:e.isHorizontal,disabled:e.disabled,languages:e.languages,forceLabel:e.forceLabel},n.shouldComponentUpdate=Zk(n,["field","disabled"]),n}return ds(i,t),i.prototype.componentWillReceiveProps=function(e){var t=this.params;t.disabled===e.disabled&&t.languages===e.languages||(this.params.disabled=e.disabled,this.params.languages=e.languages)},i.prototype.onChange=function(e){this.props.onChange(this.props.field,e)},i.prototype.onBlur=function(){this.props.onBlur(this.props.field)},i.prototype.onFocus=function(){this.props.onFocus(this.props.field)},i.prototype.render=function(){var t=this.props.field,i=t.label,o=t.error,r=t.isErrorShowed,a=t.isHidden,s=t.isRequired,c=bI(t.type);if(a)return null;var d="checkbox"===t.type&&!this.props.isHorizontal;return n("div",{className:ZA("box-field",c&&"system-field")},n("div",{className:"field-name"},d?"":i,s&&!d&&n("span",{className:"field__requiredTag"},"*"),r&&o&&n("span",{className:"field__requiredMsg"},o)),e(t,this.params))},i}(I))},gI=function(e,t){
var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.isHorizontal,s=t.disabled,c=e.value;if(Array.isArray(c)){var d=c.indexOf(e.label);c=d>=0?"true":"false",i(d>=0?"true":"false")}else c||(c="false",i("false"));return n(fI,{input:{value:c&&"true"===c.toString(),onChange:function(e){i(e?"true":"false")},onFocus:r,onBlur:o},text:a?"":e.label,id:e.id,focused:e.isFocused,isDisabled:s})},vI=wI(gI),yI=At(vI),_I=function(){},xI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));i.Change=i.Change.bind(i),i.shouldComponentUpdate=Zk(i,["input.value","options"]);var o=i.validate.bind(i);return i.componentDidMount=o,i.componentDidUpdate=o,i}return ds(t,e),t.prototype.validate=function(){var e=this,t=this.props.input.value;0!==t.length&&t.every(function(t){return e.props.options.every(function(e){return e.id.toString()!==t.toString()})})&&this.props.input.onChange([])},t.prototype.Change=function(e,t,n){var i=this.props.input.value,o=this.props.input.onChange||_I;o(-1===i.indexOf(n)?i.concat(n):i.filter(function(e){return e!==n}))},t.prototype.render=function(){var e=this,t=this.props,i=t.className,o=t.options,r=(t.align,t.focused),a=ls(t,["className","options","align","focused"]);return n("div",{className:ZA("container-checkboxlist",i)},o.map(function(t,i){return n("div",{key:t.id,className:"vertical"},n(fI,cs({},a,{focused:0===i&&r,id:t.id.toString(),text:t.text,input:{value:-1!==e.props.input.value.indexOf(t.id.toString()),onChange:e.Change,onBlur:e.props.input.onBlur,onFocus:e.props.input.onFocus}})))}))},t}(I),kI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=e.value,c=e.options;return c||(c=[]),Array.isArray(s)||(s?(s=c.find(function(e){return e.value===s})?[s]:[],i(s)):s=[]),n(xI,{input:{value:s,onChange:i,onFocus:r,onBlur:o},options:c.map(function(e){return{id:e.value,text:e.label}}),focused:e.isFocused,isDisabled:a})},CI=wI(kI),SI=At(CI),AI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.onChange=i.onChange.bind(i),i.onError=i.onError.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){this.element=this.props.field.element(this.onChange,this.onError),this.element&&this.container.appendChild(this.element)},t.prototype.componentWillUnmount=function(){this.container.removeChild(this.element)},t.prototype.onChange=function(e){this.props.onChange(this.props.field,e)},t.prototype.onError=function(e){this.props.onError(this.props.field,e)},t.prototype.render=function(){var e=this;return n("div",{ref:function(t){e.container=t}})},t}(I),MI=At(AI),TI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.style,s=t.disabled,c=e.value;return Array.isArray(c)&&(c=c.join(","),i(c)),n("div",{className:"field-control"},n(zT,{maxLength:64,type:"email",input:{value:e.value,onBlur:function(e){var t=e.target.value;t!==c&&i(t),o()},onFocus:r,disabled:s},meta:{invalid:!!e.error,touched:e.isErrorShowed},isRequired:e.isRequired,isDisabled:s,animationEffect:Yd===a,focused:e.isFocused}))},II=wI(TI),PI=At(II),DI=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.shouldComponentUpdate=Zk(n,["radioOption","selectedVal"]),n.time=(new Date).getTime(),n}return ds(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.first&&this.first.focus()},t.prototype.componentDidUpdate=function(e){e.focused!==this.props.focused&&this.props.focused&&this.first&&this.first.focus()},t.prototype.render=function(){var e=this;return n("div",{className:"clearfix"},this.props.radioOption.map(function(t,i){var o=e.props.id+"-"+i+"-"+e.time,r=e.props.id+"-"+e.props.label+"-"+e.time;return n("label",{key:t.id,className:ZA("control","controlRadio",e.props.className),htmlFor:o},t.text,n("input",{type:"radio",name:r,value:t.value,checked:e.props.selectedVal===t.value||t.checked,onChange:e.props.handleChange,onBlur:e.props.onBlur,onFocus:e.props.onFocus,id:o,disabled:e.props.disabled,ref:function(t){0===i&&(e.first=t)}}),n("div",{className:"controlIndicator"}),t.component?t.component:"")}))},t}(I),NI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=e.value,c=e.options;return c||(c=[]),Array.isArray(s)&&(s=s.find(function(e){return c.some(function(t){return t.value===e})})||null,i(s)),n(DI,{label:e.label,id:e.id,radioOption:c.map(function(t,n){return{id:n,text:t.label,value:t.value,checked:t.value===e.value}}),selectedVal:e.value,handleChange:function(e){var t=e.target.value;t!==s&&i(t)},onBlur:o,onFocus:r,focused:e.isFocused,disabled:a})},RI=wI(NI),OI=At(RI),WI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=e.value;return Array.isArray(s)&&(s=s.join(","),i(s)),n("div",{className:"field-control"},n(ST,{input:{value:e.value,onBlur:function(e){var t=e.target.value;s!==t&&i(t),o()},onFocus:r},rows:2,meta:{touched:e.isErrorShowed,invalid:!!e.error},maxLength:2048,focused:e.isFocused,isDisabled:a}))},EI=wI(WI),BI=At(EI),LI=function(e){return At(wI(function(t,i){var o=i.onChange,r=i.onBlur,a=i.onFocus,s=i.style,c=i.disabled,d=t.value;return Array.isArray(t.value)&&(d=d.join(","),o(d)),n("div",{className:"field-control"},n(zT,{maxLength:e,type:"text",input:{value:t.value,onBlur:function(e){var t=e.target.value;t!==d&&o(t),r()},onFocus:a},meta:{invalid:!!t.error,touched:t.isErrorShowed},isRequired:t.isRequired,animationEffect:s===Yd,focused:t.isFocused,isDisabled:c}))}))},FI=LI(128),zI=LI(64),VI=LI(32),UI=LI(64),HI=function(e,t){return e==t},jI=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.shouldComponentUpdate=Zk(i,["options","disabled","className","width","selectedValue"]),i.handleChange=i.handleChange.bind(i),i.validate=i.validate.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus(),this.validate()},t.prototype.componentDidUpdate=function(e){this.validate(),e.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},t.prototype.handleChange=function(e){e.target.value!==this.props.selectedValue&&this.props.handleChange(e.target.value)},t.prototype.validate=function(){var e=this;this.props.selectedValue&&this.props.options.every(function(t){return!HI(t.value,e.props.selectedValue)})&&this.props.handleChange(this.props.options[0].value)},t.prototype.render=function(){var e=this,t=this.props,i=t.options,o=t.disabled,r=t.className,a=t.width,s=t.selectedValue,c=ls(t,["options","disabled","className","width","selectedValue"]);return n("div",{className:"select-box",style:{width:a+"px"}},n("select",cs({disabled:o,onChange:this.handleChange,className:"select "+(void 0!==r?r:""),ref:function(t){e.element=t}},c),i.map(function(e){return n("option",{index:e.id,style:{color:e.themeColor||"black"},value:e.value,selected:HI(s,e.value)},e.text)})))},t}(I),YI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=t.languages,c=e.value,d=e.options;return d||(d=[]),Array.isArray(c)&&(c=c.find(function(e){return d.some(function(t){return t.value===e})})||"",i(c)),n(jI,{options:[{id:-1,text:s.dropdownListDefault,value:""}].concat(d.map(function(e,t){return{id:t,value:e.value,text:e.label}})),selectedValue:c,handleChange:i,onFocus:r,onBlur:o,focused:e.isFocused,disabled:a})},GI=wI(YI),qI=At(GI),ZI=LI(32),KI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=t.languages,c=e.value;return Array.isArray(c)?(c=c.find(function(t){return e.options.some(function(e){return e.value==t})})||"",i(c)):-1===c&&(c=""),n(jI,{options:[{id:-1,text:s.fieldNoDepartment,value:""}].concat(e.options.map(function(e,t){return{id:t,value:e.value,text:e.label+" "+(e.isOnline?s.fieldDepartmentStatusOnline:s.fieldDepartmentStatusOffline),themeColor:e.isOnline?"green":"red"}})),selectedValue:c,handleChange:i,onFocus:r,onBlur:o,focused:e.isFocused,disabled:a})},QI=wI(KI),JI=At(QI),XI=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=e.value;return Array.isArray(s)&&(s=s.find(function(t){return e.options.some(function(e){return+e.value==+t})})||0,i(s)),n(CT,{rateVal:+s,rateItems:e.options.map(function(e){return{id:e.id,value:e.value,label:e.label}}),rateChange:i,onBlur:o,onFocus:r,disabled:a})},$I=wI(XI),eP=At($I),tP=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.siteId,s=t.style,c=t.disabled,d=e.value;return Array.isArray(d)&&(d=d[0],i(d)),n("div",{className:"fieldControl__Ticket"},n("div",{className:"form__ticketPrefix"},"S"+a+"-T"),n("div",{className:"field-control"},n(zT,{maxLength:256,type:"text",input:{value:d,onBlur:function(e){var t=e.target.value;t!==d&&i(t),o()},onFocus:r},meta:{invalid:!!e.error,touched:e.isErrorShowed},isDisabled:c,isRequired:e.isRequired,animationEffect:Yd===s,focused:e.isFocused,className:Cd&&"form__input--ie10"})))},nP=wI(tP),iP=At(nP),oP=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled;return n("input",{type:"file",onChange:function(e){i(e.target.files[0])},onBlur:o,onFocus:r,disabled:a})},rP=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){nC(this.div,this.props)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this;return n("div",{ref:function(t){e.div=t}})},t}(I),aP=function(e,t,i,o){return n(rP,{onChange:t,onBlur:i,onFocus:o})},sP=Ub()?aP:oP,cP=wI(sP),dP=At(cP);PT=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var lP=Tt.momentProperties=[],uP=!1,pP={};Tt.suppressDeprecationWarnings=!1,Tt.deprecationHandler=null;var hP;hP=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)Et(e,t)&&n.push(t);return n};var fP={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},mP={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},bP={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},wP={},gP={},vP=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yP=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_P={},xP={},kP=/[+-]?\d{6}/,CP=/Z|[+-]\d\d:?\d\d/gi,SP=/Z|[+-]\d\d(?::?\d\d)?/gi,AP=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,MP={},TP={},IP=0,PP=1,DP=2,NP=3,RP=4,OP=5,WP=6,EP=7,BP=8;mn("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),mn(0,["YY",2],0,function(){return this.year()%100}),mn(0,["YYYY",4],0,"year"),mn(0,["YYYYY",5],0,"year"),mn(0,["YYYYYY",6,!0],0,"year"),dn("year","y"),pn("year",1),yn("Y",/[+-]?\d+/),yn("YY",/\d\d?/,/\d\d/),yn("YYYY",/\d{1,4}/,/\d{4}/),yn("YYYYY",/[+-]?\d{1,6}/,kP),yn("YYYYYY",/[+-]?\d{1,6}/,kP),Cn(["YYYYY","YYYYYY"],IP),Cn("YYYY",function(e,t){t[IP]=2===e.length?Tt.parseTwoDigitYear(e):qt(e)}),Cn("YY",function(e,t){t[IP]=Tt.parseTwoDigitYear(e)}),Cn("Y",function(e,t){t[IP]=parseInt(e,10)}),Tt.parseTwoDigitYear=function(e){return qt(e)+(qt(e)>68?1900:2e3)};var LP,FP=Pn("FullYear",!0);LP=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},mn("M",["MM",2],"Mo",function(){return this.month()+1}),mn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),mn("MMMM",0,0,function(e){return this.localeData().months(this,e)}),dn("month","M"),pn("month",8),yn("M",/\d\d?/),yn("MM",/\d\d?/,/\d\d/),yn("MMM",function(e,t){return t.monthsShortRegex(e)}),yn("MMMM",function(e,t){return t.monthsRegex(e)}),Cn(["M","MM"],function(e,t){t[PP]=qt(e)-1}),Cn(["MMM","MMMM"],function(e,t,n,i){var o=n._locale.monthsParse(e,i,n._strict);null!=o?t[PP]=o:zt(n).invalidMonth=e});var zP=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,VP="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),UP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),HP=AP,jP=AP;mn("w",["ww",2],"wo","week"),mn("W",["WW",2],"Wo","isoWeek"),dn("week","w"),dn("isoWeek","W"),pn("week",5),pn("isoWeek",5),yn("w",/\d\d?/),yn("ww",/\d\d?/,/\d\d/),yn("W",/\d\d?/),yn("WW",/\d\d?/,/\d\d/),Sn(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=qt(e)});var YP={dow:0,doy:6};mn("d",0,"do","day"),mn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),mn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),mn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),mn("e",0,0,"weekday"),mn("E",0,0,"isoWeekday"),dn("day","d"),dn("weekday","e"),dn("isoWeekday","E"),pn("day",11),pn("weekday",11),pn("isoWeekday",11),yn("d",/\d\d?/),yn("e",/\d\d?/),yn("E",/\d\d?/),yn("dd",function(e,t){return t.weekdaysMinRegex(e)}),yn("ddd",function(e,t){return t.weekdaysShortRegex(e)}),yn("dddd",function(e,t){return t.weekdaysRegex(e)}),Sn(["dd","ddd","dddd"],function(e,t,n,i){var o=n._locale.weekdaysParse(e,i,n._strict);null!=o?t.d=o:zt(n).invalidWeekday=e}),Sn(["d","e","E"],function(e,t,n,i){t[i]=qt(e)});var GP="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qP="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZP="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KP=AP,QP=AP,JP=AP;mn("H",["HH",2],0,"hour"),mn("h",["hh",2],0,gi),mn("k",["kk",2],0,vi),mn("hmm",0,0,function(){return""+gi.apply(this)+fn(this.minutes(),2)}),mn("hmmss",0,0,function(){return""+gi.apply(this)+fn(this.minutes(),2)+fn(this.seconds(),2)}),mn("Hmm",0,0,function(){return""+this.hours()+fn(this.minutes(),2)}),mn("Hmmss",0,0,function(){return""+this.hours()+fn(this.minutes(),2)+fn(this.seconds(),2)}),yi("a",!0),yi("A",!1),dn("hour","h"),pn("hour",13),yn("a",_i),yn("A",_i),yn("H",/\d\d?/),yn("h",/\d\d?/),yn("k",/\d\d?/),yn("HH",/\d\d?/,/\d\d/),yn("hh",/\d\d?/,/\d\d/),yn("kk",/\d\d?/,/\d\d/),yn("hmm",/\d\d\d\d?/),yn("hmmss",/\d\d\d\d\d\d?/),yn("Hmm",/\d\d\d\d?/),yn("Hmmss",/\d\d\d\d\d\d?/),Cn(["H","HH"],NP),Cn(["k","kk"],function(e,t,n){var i=qt(e);t[NP]=24===i?0:i}),Cn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Cn(["h","hh"],function(e,t,n){t[NP]=qt(e),zt(n).bigHour=!0}),Cn("hmm",function(e,t,n){var i=e.length-2;t[NP]=qt(e.substr(0,i)),t[RP]=qt(e.substr(i)),zt(n).bigHour=!0}),Cn("hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[NP]=qt(e.substr(0,i)),t[RP]=qt(e.substr(i,2)),t[OP]=qt(e.substr(o)),zt(n).bigHour=!0}),Cn("Hmm",function(e,t,n){var i=e.length-2;t[NP]=qt(e.substr(0,i)),t[RP]=qt(e.substr(i))}),Cn("Hmmss",function(e,t,n){var i=e.length-4,o=e.length-2;t[NP]=qt(e.substr(0,i)),t[RP]=qt(e.substr(i,2)),t[OP]=qt(e.substr(o))});var XP,$P=Pn("Hours",!0),eD={calendar:fP,longDateFormat:mP,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:bP,months:VP,monthsShort:UP,week:YP,weekdays:GP,weekdaysMin:ZP,weekdaysShort:qP,meridiemParse:/[ap]\.?m?\.?/i},tD={},nD={},iD=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oD=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rD=/Z|[+-]\d\d(?::?\d\d)?/,aD=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sD=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],cD=/^\/?Date\((\-?\d+)/i,dD=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,lD={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};Tt.createFromInputFallback=Qt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Tt.ISO_8601=function(){},Tt.RFC_2822=function(){};var uD=Qt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$i.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ut()}),pD=Qt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$i.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ut()}),hD=function(){return Date.now?Date.now():+new Date},fD=["year","quarter","month","week","day","hour","minute","second","millisecond"];lo("Z",":"),lo("ZZ",""),yn("Z",SP),yn("ZZ",SP),Cn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=uo(SP,e)});var mD=/([\+\-]|\d\d)/gi;Tt.updateOffset=function(){};var bD=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,wD=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;So.fn=ao.prototype,So.invalid=ro;var gD=Io(1,"add"),vD=Io(-1,"subtract");Tt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Tt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yD=Qt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});mn(0,["gg",2],0,function(){return this.weekYear()%100}),mn(0,["GG",2],0,function(){return this.isoWeekYear()%100}),lr("gggg","weekYear"),lr("ggggg","weekYear"),lr("GGGG","isoWeekYear"),lr("GGGGG","isoWeekYear"),dn("weekYear","gg"),dn("isoWeekYear","GG"),pn("weekYear",1),pn("isoWeekYear",1),yn("G",/[+-]?\d+/),yn("g",/[+-]?\d+/),yn("GG",/\d\d?/,/\d\d/),yn("gg",/\d\d?/,/\d\d/),yn("GGGG",/\d{1,4}/,/\d{4}/),yn("gggg",/\d{1,4}/,/\d{4}/),yn("GGGGG",/[+-]?\d{1,6}/,kP),yn("ggggg",/[+-]?\d{1,6}/,kP),Sn(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=qt(e)}),Sn(["gg","GG"],function(e,t,n,i){t[i]=Tt.parseTwoDigitYear(e)}),mn("Q",0,"Qo","quarter"),dn("quarter","Q"),pn("quarter",7),yn("Q",/\d/),Cn("Q",function(e,t){t[PP]=3*(qt(e)-1)}),mn("D",["DD",2],"Do","date"),dn("date","D"),pn("date",9),yn("D",/\d\d?/),yn("DD",/\d\d?/,/\d\d/),yn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Cn(["D","DD"],DP),Cn("Do",function(e,t){t[DP]=qt(e.match(/\d\d?/)[0])});var _D=Pn("Date",!0);mn("DDD",["DDDD",3],"DDDo","dayOfYear"),dn("dayOfYear","DDD"),pn("dayOfYear",4),yn("DDD",/\d{1,3}/),yn("DDDD",/\d{3}/),Cn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=qt(e)}),mn("m",["mm",2],0,"minute"),dn("minute","m"),pn("minute",14),yn("m",/\d\d?/),yn("mm",/\d\d?/,/\d\d/),Cn(["m","mm"],RP);var xD=Pn("Minutes",!1);mn("s",["ss",2],0,"second"),dn("second","s"),pn("second",15),yn("s",/\d\d?/),yn("ss",/\d\d?/,/\d\d/),Cn(["s","ss"],OP);var kD=Pn("Seconds",!1);mn("S",0,0,function(){return~~(this.millisecond()/100)}),mn(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),mn(0,["SSS",3],0,"millisecond"),mn(0,["SSSS",4],0,function(){return 10*this.millisecond()}),mn(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),mn(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),mn(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),mn(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),mn(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),dn("millisecond","ms"),pn("millisecond",16),yn("S",/\d{1,3}/,/\d/),yn("SS",/\d{1,3}/,/\d\d/),yn("SSS",/\d{1,3}/,/\d{3}/);var CD;for(CD="SSSS";CD.length<=9;CD+="S")yn(CD,/\d+/);for(CD="S";CD.length<=9;CD+="S")Cn(CD,vr);var SD=Pn("Milliseconds",!1);mn("z",0,0,"zoneAbbr"),mn("zz",0,0,"zoneName");var AD=jt.prototype;AD.add=gD,AD.calendar=No,AD.clone=Ro,AD.diff=zo,AD.endOf=$o,AD.format=Yo,AD.from=Go,AD.fromNow=qo,AD.to=Zo,AD.toNow=Ko,AD.get=Rn,AD.invalidAt=cr,AD.isAfter=Oo,AD.isBefore=Wo,AD.isBetween=Eo,AD.isSame=Bo,AD.isSameOrAfter=Lo,AD.isSameOrBefore=Fo,AD.isValid=ar,AD.lang=yD,AD.locale=Qo,AD.localeData=Jo,AD.max=pD,AD.min=uD,AD.parsingFlags=sr,AD.set=On,AD.startOf=Xo,AD.subtract=vD,AD.toArray=ir,AD.toObject=or,AD.toDate=nr,AD.toISOString=Ho,AD.inspect=jo,AD.toJSON=rr,AD.toString=Uo,AD.unix=tr,AD.valueOf=er,AD.creationData=dr,AD.year=FP,AD.isLeapYear=In,AD.weekYear=ur,AD.isoWeekYear=pr,AD.quarter=AD.quarters=wr,AD.month=Un,AD.daysInMonth=Hn,AD.week=AD.weeks=ni,AD.isoWeek=AD.isoWeeks=ii,AD.weeksInYear=fr,AD.isoWeeksInYear=hr,AD.date=_D,AD.day=AD.days=ui,AD.weekday=pi,AD.isoWeekday=hi,AD.dayOfYear=gr,AD.hour=AD.hours=$P,AD.minute=AD.minutes=xD,AD.second=AD.seconds=kD,AD.millisecond=AD.milliseconds=SD,AD.utcOffset=fo,AD.utc=bo,AD.local=wo,AD.parseZone=go,AD.hasAlignedHourOffset=vo,AD.isDST=yo,AD.isLocal=xo,AD.isUtcOffset=ko,AD.isUtc=Co,AD.isUTC=Co,AD.zoneAbbr=yr,AD.zoneName=_r,AD.dates=Qt("dates accessor is deprecated. Use date instead.",_D),AD.months=Qt("months accessor is deprecated. Use month instead",Un),AD.years=Qt("years accessor is deprecated. Use year instead",FP),AD.zone=Qt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mo),AD.isDSTShifted=Qt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_o);var MD=tn.prototype;MD.calendar=nn,MD.longDateFormat=on,MD.invalidDate=rn,MD.ordinal=an,MD.preparse=Cr,MD.postformat=Cr,MD.relativeTime=sn,MD.pastFuture=cn,MD.set=$t,MD.months=Bn,MD.monthsShort=Ln,MD.monthsParse=zn,MD.monthsRegex=Yn,MD.monthsShortRegex=jn,MD.week=$n,MD.firstDayOfYear=ti,MD.firstDayOfWeek=ei,MD.weekdays=ai,MD.weekdaysMin=ci,MD.weekdaysShort=si,MD.weekdaysParse=li,MD.weekdaysRegex=fi,MD.weekdaysShortRegex=mi,MD.weekdaysMinRegex=bi,MD.isPM=xi,MD.meridiem=ki,Mi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===qt(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Tt.lang=Qt("moment.lang is deprecated. Use moment.locale instead.",Mi),Tt.langData=Qt("moment.langData is deprecated. Use moment.localeData instead.",Pi);var TD=Math.abs,ID=Hr("ms"),PD=Hr("s"),DD=Hr("m"),ND=Hr("h"),RD=Hr("d"),OD=Hr("w"),WD=Hr("M"),ED=Hr("y"),BD=Gr("milliseconds"),LD=Gr("seconds"),FD=Gr("minutes"),zD=Gr("hours"),VD=Gr("days"),UD=Gr("months"),HD=Gr("years"),jD=Math.round,YD={ss:44,s:45,m:45,h:22,d:26,M:11},GD=Math.abs,qD=ao.prototype;qD.isValid=oo,qD.abs=Rr,qD.add=Wr,qD.subtract=Er,qD.as=Vr,qD.asMilliseconds=ID,qD.asSeconds=PD,qD.asMinutes=DD,qD.asHours=ND,qD.asDays=RD,qD.asWeeks=OD,qD.asMonths=WD,qD.asYears=ED,qD.valueOf=Ur,qD._bubble=Lr,qD.clone=jr,qD.get=Yr,qD.milliseconds=BD,qD.seconds=LD,qD.minutes=FD,qD.hours=zD,qD.days=VD,qD.weeks=qr,qD.months=UD,qD.years=HD,qD.humanize=Xr,qD.toISOString=ea,qD.toString=ea,qD.toJSON=ea,qD.locale=Qo,qD.localeData=Jo,qD.toIsoString=Qt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ea),qD.lang=yD,mn("X",0,0,"unix"),mn("x",0,0,"valueOf"),yn("x",/[+-]?\d+/),yn("X",/[+-]?\d+(\.\d{1,3})?/),Cn("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Cn("x",function(e,t,n){n._d=new Date(qt(e))}),Tt.version="2.20.1",function(e){IT=e}($i),Tt.fn=AD,Tt.min=to,Tt.max=no,Tt.now=hD,Tt.utc=Lt,Tt.unix=xr,Tt.months=Tr,Tt.isDate=Ot,Tt.locale=Mi,Tt.invalid=Ut,Tt.duration=So,Tt.isMoment=Yt,Tt.weekdays=Pr,Tt.parseZone=kr,Tt.localeData=Pi,Tt.isDuration=so,Tt.monthsShort=Ir,Tt.weekdaysMin=Nr,Tt.defineLocale=Ti,Tt.updateLocale=Ii,Tt.locales=Di,Tt.weekdaysShort=Dr,Tt.normalizeUnits=ln,Tt.relativeTimeRounding=Qr,Tt.relativeTimeThreshold=Jr,Tt.calendarFormat=Do,Tt.prototype=AD,Tt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};var ZD=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],KD=["Su","Mo","Tu","We","Th","Fr","Sa"],QD=["January","February","March","April","May","June","July","August","September","October","November","December"],JD={formatDay:ia,formatMonthTitle:oa,formatWeekdayShort:ra,formatWeekdayLong:aa,getFirstDayOfWeek:sa,getMonths:ca},XD=Object.freeze({formatDay:ia,formatMonthTitle:oa,formatWeekdayShort:ra,formatWeekdayLong:aa,getFirstDayOfWeek:sa,getMonths:ca,default:JD}),$D=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.handleKeyUp=i.handleKeyUp.bind(i),i}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()},t.prototype.handleKeyUp=function(e){13===e.keyCode&&this.props.onClick(e)},t.prototype.render=function(){var e=this.props,t=e.classNames,i=e.date,o=e.months,r=e.locale,a=e.localeUtils,s=e.onClick;return n("div",{className:t.caption,role:"heading"},n("div",{onClick:s,onKeyUp:this.handleKeyUp},o?o[i.getMonth()]+" "+i.getFullYear():a.formatMonthTitle(i,r)))},t}(I);$D.defaultProps={localeUtils:JD};var eN={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"},tN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.handleNextClick=i.handleNextClick.bind(i),i.handlePreviousClick=i.handlePreviousClick.bind(i),i.handleNextKeyDown=i.handleNextKeyDown.bind(i),i.handlePreviousKeyDown=i.handlePreviousKeyDown.bind(i),i}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton},t.prototype.handleNextClick=function(){this.props.onNextClick&&this.props.onNextClick()},t.prototype.handlePreviousClick=function(){this.props.onPreviousClick&&this.props.onPreviousClick()},t.prototype.handleNextKeyDown=function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.handleNextClick())},t.prototype.handlePreviousKeyDown=function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.handlePreviousClick())},t.prototype.render=function(){var e=this.props,t=e.classNames,i=e.className,o=e.showPreviousButton,r=e.showNextButton,a=e.labels,s=e.dir,c=void 0,d=void 0,l=void 0,u=void 0,p=void 0,h=void 0;"rtl"===s?(c=this.handleNextClick,d=this.handlePreviousClick,l=this.handleNextKeyDown,u=this.handlePreviousKeyDown,h=o,p=r):(c=this.handlePreviousClick,d=this.handleNextClick,l=this.handlePreviousKeyDown,u=this.handleNextKeyDown,h=r,p=o);var f=p?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,m=h?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,b=n("span",{tabIndex:"0",role:"button","aria-label":a.previousMonth,key:"previous",className:f,onKeyDown:p?l:void 0,onClick:p?c:void 0}),w=n("span",{tabIndex:"0",role:"button","aria-label":a.nextMonth,key:"right",className:m,onKeyDown:h?u:void 0,onClick:h?d:void 0});return n("div",{className:i||t.navBar},"rtl"===s?[w,b]:[b,w])},t}(I);tN.defaultProps={classNames:eN,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0};var nN=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props!==e},t.prototype.render=function(){for(var e=this.props,t=e.classNames,i=e.firstDayOfWeek,r=e.showWeekNumbers,a=e.weekdaysLong,s=e.weekdaysShort,c=e.locale,d=e.localeUtils,l=e.weekdayElement,u=[],p=0;p<7;p+=1){var h=(p+i)%7,f={key:p,className:t.weekday,weekday:h,weekdaysLong:a,weekdaysShort:s,localeUtils:d,locale:c},m=o(l,f);u.push(m)}return n("div",{className:t.weekdays,role:"rowgroup"},n("div",{className:t.weekdaysRow,role:"row"},r&&n("div",{className:t.weekday}),u))},t}(I),iN=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,rN=Object.prototype.propertyIsEnumerable,aN=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,o=da(e),r=1;r<arguments.length;r++){n=Object(arguments[r]);for(var a in n)oN.call(n,a)&&(o[a]=n[a]);if(iN){i=iN(n);for(var s=0;s<i.length;s++)rN.call(n,i[s])&&(o[i[s]]=n[i[s]])}}return o},sN={addDayToRange:ga,addMonths:ua,clone:la,getWeekNumber:ya,isDayAfter:fa,isDayBefore:ha,isDayBetween:wa,isDayInRange:va,isFutureDay:ba,isPastDay:ma,isSameDay:pa},cN=Object.freeze({clone:la,addMonths:ua,isSameDay:pa,isDayBefore:ha,isDayAfter:fa,isPastDay:ma,isFutureDay:ba,isDayBetween:wa,addDayToRange:ga,isDayInRange:va,getWeekNumber:ya,default:sN}),dN=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this,n=Object.keys(this.props),i=Object.keys(e);return n.length!==i.length||n.some(function(n){if("modifiers"===n||"modifiersStyles"===n||"classNames"===n){var i=t.props[n],o=e[n],r=Object.keys(i),a=Object.keys(o);return r.length!==a.length||r.some(function(e){return!Na(o,e)||i[e]!==o[e]})}return"day"===n?!pa(t.props[n],e[n]):!Na(e,n)||t.props[n]!==e[n]})},t.prototype.render=function(){var e=this.props,t=e.classNames,i=e.modifiersStyles,o=e.day,r=e.tabIndex,a=e.empty,s=e.modifiers,c=e.onMouseEnter,d=e.onMouseLeave,l=e.onMouseUp,u=e.onMouseDown,p=e.onClick,h=e.onKeyDown,f=e.onTouchStart,m=e.onTouchEnd,b=e.onFocus,w=e.ariaLabel,g=e.ariaDisabled,v=e.ariaSelected,y=e.children,_=t.day;_+=t!==eN?" "+Object.keys(s).join(" "):Object.keys(s).map(function(e){return" "+_+"--"+e}).join("");var x=void 0;return i&&Object.keys(s).filter(function(e){return!!i[e]}).forEach(function(e){x=aN({},x,i[e])}),a?n("div",{"aria-disabled":!0,className:_,style:x}):n("div",{className:_,tabIndex:r,style:x,role:"gridcell","aria-label":w,"aria-disabled":g,"aria-selected":v,onClick:Ra(p,o,s),onKeyDown:Ra(h,o,s),onMouseEnter:Ra(c,o,s),onMouseLeave:Ra(d,o,s),onMouseUp:Ra(l,o,s),onMouseDown:Ra(u,o,s),onTouchEnd:Ra(m,o,s),onTouchStart:Ra(f,o,s),onFocus:Ra(b,o,s)},y)},t}(I);dN.defaultProps={tabIndex:-1,modifiers:{},modifiersStyles:{},empty:!1};var lN={dayMatchesModifier:Oa,getModifiersForDay:Wa},uN=Object.freeze({dayMatchesModifier:Oa,getModifiersForDay:Wa,default:lN}),pN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n))
;return i.renderDay=i.renderDay.bind(i),i}return ds(t,e),t.prototype.renderDay=function(e){var t=this.props.month.getMonth(),i=Ca(this.props),o=Wa(e,i);pa(e,new Date)&&!Object.prototype.hasOwnProperty.call(i,this.props.classNames.today)&&o.push(this.props.classNames.today),e.getMonth()!==t&&o.push(this.props.classNames.outside);var r=e.getMonth()!==t,a=-1;this.props.onDayClick&&!r&&1===e.getDate()&&(a=this.props.tabIndex);var s=""+e.getFullYear()+e.getMonth()+e.getDate(),c={};return o.forEach(function(e){c[e]=!0}),n(dN,{key:(r?"outside-":"")+s,classNames:this.props.classNames,day:e,modifiers:c,modifiersStyles:this.props.modifiersStyles,empty:r&&!this.props.showOutsideDays&&!this.props.fixedWeeks,tabIndex:a,ariaLabel:this.props.localeUtils.formatDay(e,this.props.locale),ariaDisabled:r||o.indexOf("disabled")>-1,ariaSelected:o.indexOf("selected")>-1,onClick:this.props.onDayClick,onFocus:this.props.onDayFocus,onKeyDown:this.props.onDayKeyDown,onMouseEnter:this.props.onDayMouseEnter,onMouseLeave:this.props.onDayMouseLeave,onMouseDown:this.props.onDayMouseDown,onMouseUp:this.props.onDayMouseUp,onTouchEnd:this.props.onDayTouchEnd,onTouchStart:this.props.onDayTouchStart},this.props.renderDay(e,c))},t.prototype.render=function(){var e=this,t=this.props,i=t.classNames,r=t.month,a=t.months,s=t.fixedWeeks,c=t.captionElement,d=t.weekdayElement,l=t.locale,u=t.localeUtils,p=t.weekdaysLong,h=t.weekdaysShort,f=t.firstDayOfWeek,m=t.onCaptionClick,b=t.showWeekNumbers,w=t.showWeekDays,g=t.onWeekClick,v={date:r,classNames:i,months:a,localeUtils:u,locale:l,onClick:m?function(e){return m(r,e)}:void 0},y=o(c,v),_=Ta(r,f,s);return n("div",{className:i.month,role:"grid"},y,w&&n(nN,{classNames:i,weekdaysShort:h,weekdaysLong:p,firstDayOfWeek:f,showWeekNumbers:b,locale:l,localeUtils:u,weekdayElement:d}),n("div",{className:i.body,role:"rowgroup"},_.map(function(t){var o=void 0;return b&&(o=ya(t[0])),n("div",{key:t[0].getTime(),className:i.week,role:"row"},b&&n("div",{className:i.weekNumber,tabIndex:0,role:"gridcell",onClick:g?function(e){return g(o,t,e)}:void 0,onKeyUp:g?function(e){return 13===e.keyCode&&g(o,t,e)}:void 0},e.props.renderWeek(o,t,r)),t.map(e.renderDay))})))},t}(I),hN=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props!==e},t.prototype.render=function(){var e=this.props,t=e.weekday,i=e.className,o=e.weekdaysLong,r=e.weekdaysShort,a=e.localeUtils,s=e.locale,c=void 0;c=o?o[t]:a.formatWeekdayLong(t,s);var d=void 0;return d=r?r[t]:a.formatWeekdayShort(t,s),n("div",{className:i,role:"columnheader"},n("abbr",{title:c},d))},t}(I),fN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state=i.getStateFromProps(n),i.getNextNavigableMonth=i.getNextNavigableMonth.bind(i),i.getPreviousNavigableMonth=i.getPreviousNavigableMonth.bind(i),i.getPreviousNavigableMonth=i.getPreviousNavigableMonth.bind(i),i.allowPreviousMonth=i.allowPreviousMonth.bind(i),i.allowNextMonth=i.allowNextMonth.bind(i),i.allowMonth=i.allowMonth.bind(i),i.allowYearChange=i.allowYearChange.bind(i),i.showMonth=i.showMonth.bind(i),i.showNextMonth=i.showNextMonth.bind(i),i.showPreviousMonth=i.showPreviousMonth.bind(i),i.showNextYear=i.showNextYear.bind(i),i.showPreviousYear=i.showPreviousYear.bind(i),i.focusFirstDayOfMonth=i.focusFirstDayOfMonth.bind(i),i.focusLastDayOfMonth=i.focusLastDayOfMonth.bind(i),i.focusPreviousDay=i.focusPreviousDay.bind(i),i.focusNextDay=i.focusNextDay.bind(i),i.focusNextWeek=i.focusNextWeek.bind(i),i.focusPreviousWeek=i.focusPreviousWeek.bind(i),i.handleKeyDown=i.handleKeyDown.bind(i),i.handleDayKeyDown=i.handleDayKeyDown.bind(i),i.handleDayClick=i.handleDayClick.bind(i),i.handleOutsideDayClick=i.handleOutsideDayClick.bind(i),i.handleTodayButtonClick=i.handleTodayButtonClick.bind(i),i}return ds(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.month!==e.month&&this.setState(this.getStateFromProps(e))},t.prototype.getStateFromProps=function(e){var t=Ia(e.month||e.initialMonth),n=t;if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var i=Ma(e.fromMonth,n);n=ua(e.fromMonth,Math.floor(i/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&Ma(n,e.toMonth)<=0&&(n=ua(e.toMonth,1-this.props.numberOfMonths));return{currentMonth:n}},t.prototype.getNextNavigableMonth=function(){return ua(this.state.currentMonth,this.props.numberOfMonths)},t.prototype.getPreviousNavigableMonth=function(){return ua(this.state.currentMonth,-1)},t.prototype.allowPreviousMonth=function(){var e=ua(this.state.currentMonth,-1);return this.allowMonth(e)},t.prototype.allowNextMonth=function(){var e=ua(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)},t.prototype.allowMonth=function(e){var t=this.props,n=t.fromMonth,i=t.toMonth;return!(!t.canChangeMonth||n&&Ma(n,e)<0||i&&Ma(i,e)>0)},t.prototype.allowYearChange=function(){return this.props.canChangeMonth},t.prototype.showMonth=function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:Ia(e)},function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)})},t.prototype.showNextMonth=function(e){if(this.allowNextMonth()){var t=this.props.pagedNavigation?this.props.numberOfMonths:1,n=ua(this.state.currentMonth,t);this.showMonth(n,e)}},t.prototype.showPreviousMonth=function(e){if(this.allowPreviousMonth()){var t=this.props.pagedNavigation?this.props.numberOfMonths:1,n=ua(this.state.currentMonth,-t);this.showMonth(n,e)}},t.prototype.showNextYear=function(){if(this.allowYearChange()){var e=ua(this.state.currentMonth,12);this.showMonth(e)}},t.prototype.showPreviousYear=function(){if(this.allowYearChange()){var e=ua(this.state.currentMonth,-12);this.showMonth(e)}},t.prototype.focusFirstDayOfMonth=function(){Pa(this.dayPicker,this.props.classNames)[0].focus()},t.prototype.focusLastDayOfMonth=function(){var e=Pa(this.dayPicker,this.props.classNames);e[e.length-1].focus()},t.prototype.focusPreviousDay=function(e){var t=this,n=Pa(this.dayPicker,this.props.classNames),i=Da(n).indexOf(e);0===i?this.showPreviousMonth(function(){return t.focusLastDayOfMonth()}):n[i-1].focus()},t.prototype.focusNextDay=function(e){var t=this,n=Pa(this.dayPicker,this.props.classNames),i=Da(n).indexOf(e);i===n.length-1?this.showNextMonth(function(){return t.focusFirstDayOfMonth()}):n[i+1].focus()},t.prototype.focusNextWeek=function(e){var t=this,n=Pa(this.dayPicker,this.props.classNames),i=Da(n).indexOf(e);i>n.length-8?this.showNextMonth(function(){var e=n.length-i,o=7-e;Pa(t.dayPicker,t.props.classNames)[o].focus()}):n[i+7].focus()},t.prototype.focusPreviousWeek=function(e){var t=this,n=Pa(this.dayPicker,this.props.classNames),i=Da(n).indexOf(e);i<=6?this.showPreviousMonth(function(){var e=Pa(t.dayPicker,t.props.classNames);e[e.length-7+i].focus()}):n[i-7].focus()},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case 37:this.showPreviousMonth();break;case 39:this.showNextMonth();break;case 38:this.showPreviousYear();break;case 40:this.showNextYear()}this.props.onKeyDown&&this.props.onKeyDown(e)},t.prototype.handleDayKeyDown=function(e,t,n){switch(n.keyCode){case 37:_a(n),this.focusPreviousDay(n.target);break;case 39:_a(n),this.focusNextDay(n.target);break;case 38:_a(n),this.focusPreviousWeek(n.target);break;case 40:_a(n),this.focusNextWeek(n.target);break;case 13:case 32:_a(n),this.props.onDayClick&&this.handleDayClick(e,t,n)}this.props.onDayKeyDown&&this.props.onDayKeyDown(e,t,n)},t.prototype.handleDayClick=function(e,t,n){t[this.props.classNames.outside]&&this.handleOutsideDayClick(e),this.props.onDayClick&&this.props.onDayClick(e,t,n)},t.prototype.handleOutsideDayClick=function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,i=Ma(t,e);i>0&&i>=n?this.showNextMonth():i<0&&this.showPreviousMonth()},t.prototype.handleTodayButtonClick=function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth());this.showMonth(n),e.target.blur(),this.props.onTodayButtonClick&&this.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),Wa(t,this.props.modifiers),e)},t.prototype.renderNavbar=function(){var e=this.props,t=e.labels,n=e.locale,i=e.localeUtils,r=e.canChangeMonth,a=e.navbarElement,s=ls(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);return r?o(a,{month:this.state.month,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:s.dir,labels:t,locale:n,localeUtils:i}):null},t.prototype.renderMonths=function(){for(var e=[],t=Sa(this.props),i=0;i<this.props.numberOfMonths;i+=1){var o=ua(this.state.currentMonth,i);e.push(n(pN,cs({key:i},this.props,{month:o,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e},t.prototype.renderFooter=function(){return this.props.todayButton?n("div",{className:this.props.classNames.footer},this.renderTodayButton()):null},t.prototype.renderTodayButton=function(){return n("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)},t.prototype.render=function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),n("div",cs({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),n("div",{className:this.props.classNames.wrapper,tabIndex:this.props.canChangeMonth&&this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),n("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))},t}(I);fN.DateUtils=cN,fN.LocaleUtils=XD,fN.ModifiersUtils=uN,fN.dayPicker=null,fN.VERSION="7.0.7",fN.defaultProps={classNames:eN,tabIndex:0,initialMonth:new Date,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:XD,showOutsideDays:!1,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:n(hN,null),navbarElement:n(tN,{classNames:eN}),captionElement:n($D,{classNames:eN})};var mN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state=i.getStateFromProps(n),i.state.showOverlay=n.showOverlay,i.input=null,i.daypicker=null,i.clickedInside=!1,i.clickTimeout=null,i.hideTimeout=null,i.hideAfterDayClick=i.hideAfterDayClick.bind(i),i.handleContainerMouseDown=i.handleContainerMouseDown.bind(i),i.handleInputClick=i.handleInputClick.bind(i),i.handleInputFocus=i.handleInputFocus.bind(i),i.handleInputBlur=i.handleInputBlur.bind(i),i.handleInputChange=i.handleInputChange.bind(i),i.handleInputKeyDown=i.handleInputKeyDown.bind(i),i.handleInputKeyUp=i.handleInputKeyUp.bind(i),i.handleDayClick=i.handleDayClick.bind(i),i.handleMonthChange=i.handleMonthChange.bind(i),i}return ds(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.dayPickerProps.month,n=e.dayPickerProps.month,i=this.props.dayPickerProps.selectedDays,o=e.dayPickerProps.selectedDays,r=e.value,a=this.props.value,s=n&&!t||n&&(n.getFullYear()!==t.getFullYear()||n.getMonth()!==t.getMonth());r!==a&&(Ea(r)&&(r=this.props.formatDate(r,this.props.format,this.props.dayPickerProps.locale)),this.setState({value:r})),s&&this.setState({month:n}),i!==o&&this.setState({selectedDays:o})},t.prototype.componentWillUnmount=function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.blurTimeout)},t.prototype.getStateFromProps=function(e){var t=e.dayPickerProps,n=e.formatDate,i=e.format,o=e.value,r=void 0,a=void 0;return e.value?(Ea(e.value)?(a=e.value,o=n(e.value,i,t.locale)):a=e.parseDate(e.value,i,t.locale),a&&(r=a)):r=t.initialMonth||t.month||new Date,{value:o,month:r,selectedDays:t.selectedDays}},t.prototype.getInput=function(){return this.input},t.prototype.getDayPicker=function(){return this.daypicker},t.prototype.updateState=function(e,t,n){var i=this.props,o=i.dayPickerProps,r=i.onDayChange;this.setState({month:e,value:t},function(){if(n&&n(),r){var t=cs({disabled:o.disabledDays,selected:o.selectedDays},o.modifiers),i=Wa(e,t).reduce(function(e,t){var n=cs({},e);return n[t]=!0,n},{});r(e,i)}})},t.prototype.showDayPicker=function(){this.setState({showOverlay:!0})},t.prototype.hideDayPicker=function(){this.setState({showOverlay:!1})},t.prototype.hideAfterDayClick=function(){var e=this;this.props.hideOnDayClick&&(this.hideTimeout=setTimeout(function(){return e.hideDayPicker()},100))},t.prototype.handleContainerMouseDown=function(){var e=this;this.clickedInside=!0,this.clickTimeout=setTimeout(function(){e.clickedInside=!1},0)},t.prototype.handleInputClick=function(e){this.showDayPicker(),this.props.inputProps.onClick&&this.props.inputProps.onClick(e)},t.prototype.handleInputFocus=function(e){this.showDayPicker(),this.props.inputProps.onFocus&&this.props.inputProps.onFocus(e),this.props.onFocus&&this.props.onFocus()},t.prototype.handleInputBlur=function(e){var t=this;this.clickedInside&&(this.showDayPicker(),this.blurTimeout=setTimeout(function(){return t.input.focus()},0)),this.props.inputProps.onBlur&&this.props.inputProps.onBlur(e),this.props.onBlur&&this.props.onBlur(this.input.value)},t.prototype.handleInputChange=function(e){var t=this.props,n=t.dayPickerProps,i=t.format,o=t.inputProps,r=t.onDayChange,a=t.parseDate;o.onChange&&o.onChange(e);var s=e.target.value;if(""===s.trim())return this.setState({value:s}),void(r&&r(void 0,{}));var c=a(s,i,n.locale);if(!c)return void this.setState({value:s});this.updateState(c,s)},t.prototype.handleInputKeyDown=function(e){9===e.keyCode&&this.hideDayPicker(),this.props.inputProps.onKeyDown&&this.props.inputProps.onKeyDown(e)},t.prototype.handleInputKeyUp=function(e){27===e.keyCode&&this.hideDayPicker(),this.props.inputProps.onKeyUp&&this.props.inputProps.onKeyUp(e)},t.prototype.handleMonthChange=function(e){var t=this;this.setState({month:e},function(){t.props.dayPickerProps&&t.props.dayPickerProps.onMonthChange&&t.props.dayPickerProps.onMonthChange(e)})},t.prototype.handleDayClick=function(e,t,n){var i=this,o=this.props,r=o.clickUnselectsDay,a=o.dayPickerProps,s=o.onDayChange,c=o.formatDate,d=o.format;if(a.onDayClick&&a.onDayClick(e,t,n),!t.disabled){if(t.selected&&r){var l=this.state.selectedDays;if(Array.isArray(l)){l=l.slice(0);var u=l.indexOf(e);l.splice(u,1)}else l&&(l=null);return this.setState({value:"",selectedDays:l},this.hideAfterDayClick),void(s&&s(void 0,t))}var p=c(e,d,a.locale);this.setState({value:p,month:e},function(){s&&s(e,t),i.hideAfterDayClick()})}},t.prototype.renderOverlay=function(){var e=this,t=this.props,i=t.classNames,o=t.dayPickerProps,r=t.parseDate,a=t.formatDate,s=t.format,c=this.state,d=c.selectedDays,l=c.value,u=void 0;if(!d&&l){var p=r(l,s,o.locale);p&&(u=p)}else d&&(u=d);var h=void 0;return o.todayButton&&(h=function(){return e.updateState(new Date,a(new Date,s,o.locale),e.hideAfterDayClick)}),n(this.props.overlayComponent,{classNames:i,month:this.state.month,selectedDay:u,input:this.input},n(fN,cs({ref:function(t){return e.daypicker=t},onTodayButtonClick:h},o,{month:this.state.month,selectedDays:u,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange})))},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:t.classNames.container,onMouseDown:this.handleContainerMouseDown},n(zT,cs({ref:function(t){return e.input=t},placeholder:t.placeholder},t.inputProps,{input:{value:t.value||this.state.value},onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:this.handleInputClick,meta:{invalid:!!t.error,touched:t.isErrorShowed},animationEffect:t.animationEffect,isDisabled:t.isDisabled,isReadOnly:!0})),this.state.showOverlay&&this.renderOverlay())},t}(I);mN.defaultProps={dayPickerProps:{},value:"",placeholder:"YYYY-M-D",format:"L",formatDate:Ba,parseDate:La,showOverlay:!1,hideOnDayClick:!0,clickUnselectsDay:!1,component:"input",inputProps:{},overlayComponent:function(e){var t=e.children,i=e.classNames;return n("div",{className:i.overlayWrapper},n("div",{className:i.overlay},t))},classNames:{container:"DayPickerInput",overlayWrapper:"DayPickerInput-OverlayWrapper",overlay:"DayPickerInput-Overlay"}};var bN,wN=function(e,t){var i=t.onChange,o=t.onBlur,r=t.onFocus,a=t.disabled,s=t.style,c=e.value;return n(mN,{formatDate:ta,parseDate:na,placeholder:"DD/MM/YYYY",value:c,onDayChange:function(e){i(ta(e))},onBlur:o,onFocus:r,isDisabled:a,showTime:!1,meta:{invalid:!!e.error,touched:e.isErrorShowed},animationEffect:s===Yd})},gN=wI(wN),vN=At(gN),yN=(bN={},bN[Bd]=zI,bN[Ld]=PI,bN.phone=VI,bN.company=UI,bN.product=qI,bN.department=JI,bN.rating=eP,bN[Fd]=BI,bN.content=BI,bN.subject=ZI,bN.ticket=iP,bN.checkbox=yI,bN["checkbox-list"]=SI,bN.custom=MI,bN.radio=OI,bN.select=qI,bN.textarea=BI,bN.text=FI,bN.datetime=vN,bN.attachment=dP,bN),_N=function(e){var t=e.fields,i=ls(e,["fields"]);return n("div",{className:"field-table form-style-hor"},t.map(function(e){return n(yN[e.type],cs({},i,{field:e,key:e.id}))}))},xN=TA("form")(_N),kN=[Bd,Ld,"company","phone",Fd,"content","subject","text","textarea","datetime"],CN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={fields:n.Fields,disabled:n.disabled},i.GUID=n.GUID,i.IntentId=n.IntentId,i.FormName=n.FormName,i.NeedConfirm=n.IsNeedConfirm,i.senderId=n.id,i.senderType=n.id?1:3,i.onChange=i.onChange.bind(i),i.onError=i.onError.bind(i),i.onBlur=i.onBlur.bind(i),i.onFocus=i.onFocus.bind(i),i.onSubmit=i.onSubmit.bind(i),i.onCancel=i.onCancel.bind(i),i.onValidate=i.onValidate.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.state.fields,t=e.findIndex(function(e){return kN.indexOf(e.type)>=0});t<0||this.props.isMobile||this.onFocus(e[t])},t.prototype.onChange=function(e,t){var n=this.state.fields,i=n.map(function(n){var i=n;return n.id===e.id?Object.assign({},n,{value:t}):i});this.setState({fields:i}),setTimeout(this.onValidate)},t.prototype.onError=function(e,t){var n=this.state.fields,i=n.map(function(n){var i=n;return n.id===e.id?n.customError===t&&n.isErrorShowed?i:Object.assign({},n,{customError:t,isErrorShowed:!0}):i});this.setState({fields:i})},t.prototype.onBlur=function(e){var t=this.state.fields,n=t.map(function(t){var n=t;return t.id===e.id?Object.assign({},t,{isFocused:!1,isErrorShowed:!0}):n});this.setState({fields:n}),setTimeout(this.onValidate)},t.prototype.onFocus=function(e){var t=this.state.fields,n=t.map(function(t){var n=t;return t.id===e.id?Object.assign({},t,{isFocused:!1}):n});this.setState({fields:n})},t.prototype.onSubmit=function(){var e=this;this.onValidate(!0),setTimeout(function(){var t={};e.state.fields.map(function(e){return!!e.error||(t[e.id]={label:e.label,id:e.id,value:function(){return Array.isArray(e.value)?e.value.join("\u2299"):e.value}(),type:e.type,isMasked:e.isMasked},null)}).some(function(e){return e})||(e.setState({disabled:!0}),e.props.onSubmit(e.GUID,e.IntentId,e.FormName,e.NeedConfirm,t,e.senderId,e.senderType))})},t.prototype.onResetField=function(){this.setState({fields:this.props.Fields})},t.prototype.onCancel=function(){this.setState({disabled:!0}),this.onResetField(),this.props.onCancel(this.GUID,this.IntentId,this.FormName,this.senderId,this.senderType)},t.prototype.onValidate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.languages,n=this.state.fields.map(function(n){var i="",o=null!=n.value?n.value:"";return n.isRequired&&(!o||Array.isArray(o)&&0===o.length)&&(i=t.promptRequired),n.type===Ld&&o&&!vb(o)&&(i=t.promptInvalidEmail),cs({},n,{value:o,error:n.customError||i,isErrorShowed:e})});this.setState({fields:n})},t.prototype.render=function(){var e=this.props,t=e.FormName,i=e.siteId,o=e.style,r=e.disabled,a=e.tab,s=e.languages,c=this.state.fields,d=this.state.disabled;return n("div",{className:ZA("form window__form window_botform"),id:"botform-window"},t&&n("h3",{className:ZA("botform_title")},t),n("div",{id:"botform-fields",className:ZA("form-fields",!1)},n(xN,{tab:a,fields:c,siteId:i,onError:this.onError,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,style:o,isHorizontal:!1,disabled:!!d||r,languages:s})),n("div",{className:"form-bottom botform__submitContainer"},n("button",{onClick:this.onSubmit,disabled:!!d||r,className:ZA("btn-submit")},"Submit"),n("button",{onClick:this.onCancel,disabled:!!d||r,className:ZA("btn-cancel")},"Cancel")))},t}(I),SN=At(CN),AN=function(e,t){var n=wl(e),i=oh(e),o=Mf(e,t.GUID),r=ib(e);return cs({isPopout:n,isHorizontal:Bm(e),siteId:Cp(e),style:Tm(e),error:Ah(e),windowStyle:Mm(e,i),disabled:o,isMobile:Op(e),languages:r},t)},MN=function(e){return{onSubmit:function(t,n,i,o,r,a,s){e(Sv(t,n,i,o,r,a,s))},onCancel:function(t,n,i,o,r){e(Cv(t,n,i,o,r))}}},TN=uA(AN,MN)(SN),IN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1},i.onClick=i.onClick.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.onClick=function(e){var t=this;e.stopPropagation(),this.props.isMobile&&(this.setState({mobileShowTime:!0}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({mobileShowTime:!1}),t.timer=null},2e3))},t.prototype.render=function(){var e=this,t=this.props,i=cs({},t.message,t.sender);return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{onClick:this.props.isMobile?this.onClick:void 0,className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),t.message.Fields&&t.message.Fields.length>0&&n("div",null,n(TN,i)),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),this.props.isMobile&&n("div",{style:{opacity:this.state.mobileShowTime?1:0},className:"chat-time chat__time"},hd(t.time)),!this.props.isMobile&&n("div",{className:"chat-time chat__time"},hd(t.time)))},t}(I),PN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={disabled:n.disabled},i.GUID=n.GUID,i.IntentId=n.IntentId,i.FormName=n.FormName,i.senderId=n.id,i.senderType=n.id?1:3,i.onSubmit=i.onSubmit.bind(i),i.onCancel=i.onCancel.bind(i),i}return ds(t,e),t.prototype.onSubmit=function(){var e={};this.props.Values.map(function(t){return e[t.id]={label:t.label,id:t.id,value:function(){return Array.isArray(t.value)?t.value.join("\u2299"):t.value}(),type:t.type,isMasked:t.isMasked},null}),this.setState({disabled:!0}),this.props.onSubmit(this.GUID,this.IntentId,this.FormName,e,this.senderId,this.senderType)},t.prototype.onCancel=function(){this.setState({disabled:!0}),this.props.onCancel(this.GUID,this.IntentId,this.FormName,this.senderId,this.senderType)},t.prototype.render=function(){var e=this.props,t=e.FormName,i=e.disabled,o=e.Values,r=o,a=this.state.disabled;return n("div",{className:ZA("form window__form window_botform"),id:"botform-window"},t&&n("h3",{className:ZA("botform_title")},"Confirm ",t),n("div",null,n("ul",{className:ZA("botconfirm_list")},r.map(function(e){return n("li",{key:e.id},n("p",null,e.label),n("p",null,function(){if("checkbox"===e.type)return Fa("true"===e.value?"\u2714":"\u2716");if("checkbox-list"===e.type){var t=new RegExp("\u2299","gi");return e.value.replace(t,",")}return e.value}()))}))),n("div",{className:"form-bottom botform__submitContainer"},n("button",{onClick:this.onSubmit,disabled:!!a||i,className:ZA("btn-submit")},"Submit"),n("button",{onClick:this.onCancel,disabled:!!a||i,className:ZA("btn-cancel")},"Cancel")))},t}(I),DN=At(PN),NN=function(e,t){var n=wl(e),i=oh(e),o=Tf(e,t.GUID);return cs({isPopout:n,isHorizontal:Bm(e),siteId:Cp(e),style:Tm(e),error:Ah(e),windowStyle:Mm(e,i),disabled:o,isMobile:Op(e)},t)},RN=function(e){return{onSubmit:function(t,n,i,o,r,a){e(Av(t,n,i,o,r,a))},onCancel:function(t,n,i,o,r){e(Cv(t,n,i,o,r))}}},ON=uA(NN,RN)(DN),WN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={mobileShowTime:!1},i.onClick=i.onClick.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),Dd(this.container,this.props.scrollDown)},t.prototype.onClick=function(e){var t=this;e.stopPropagation(),this.props.isMobile&&(this.setState({mobileShowTime:!0}),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({mobileShowTime:!1}),t.timer=null},2e3))},t.prototype.render=function(){var e=this,t=this.props,i=cs({},t.message,t.sender);return n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{onClick:this.props.isMobile?this.onClick:void 0,className:ZA("chat-operator-message","window__chatAgentMessage",!t.ifShowAvatar&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),t.message.Values&&t.message.Values.length>0&&n("div",null,n(ON,i)),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),this.props.isMobile&&n("div",{style:{opacity:this.state.mobileShowTime?1:0},className:"chat-time chat__time"},hd(t.time)),!this.props.isMobile&&n("div",{className:"chat-time chat__time"},hd(t.time)))},t}(I),EN=function(e){try{return JSON.parse(e)}catch(e){return}},BN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.eventListener=i.eventListener.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.iframe){var t=Be(this.iframe.contentWindow,this.props.url,!0);this.unsubscribe=t.subscribe(this.eventListener);var n=[this.props.url,"target="+decodeURIComponent(this.props.targetUrl.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))].join("&");setTimeout(function(){e.iframe.setAttribute("src",n)},400)}},t.prototype.shouldComponentUpdate=function(e){return this.props.url!==e.url},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.eventListener=function(e){if(e.data){var t=EN(e.data);if(!t)return;this.props.handlerAction(t)}},t.prototype.render=function(){var e=this;return n("iframe",{ref:function(t){e.iframe=t},frameBorder:0,scrolling:"no",src:"",style:{width:"100%",height:"100%",position:"absolute"},glance_masked:this.props.glance_masked})},t}(I),LN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.handlerAction=i.handlerAction.bind(i),i.state={status:"loading",height:0},i.token=md(n.url,"otk"),i}return ds(t,e),t.prototype.handlerAction=function(e){if(e.token===this.token){var t=0;switch(e.type){case"get_failure":this.props.getSecureFormFailure();break;case"height":t=e.height;break;case"submit":this.props.submitSecureForm(this.token,e.name);break;case"cancel":this.props.cancelSecureForm(this.token)}this.setState({status:e.type,height:0===t?this.state.height:t})}},t.prototype.render=function(){var e=this.props;if(e.isHidden)return null;if(!e.url)return null;if("close"===this.state.status||"cancel"===this.state.status)return null;var t="loading"===this.state.status;return n("div",{key:this.token,className:"chat-operator window__chatAgent clearfix"},n("div",{className:"chat-operator-message window__chatAgentMessage window__chatMessageNoAvatar chat-message--imgLoading",style:{display:t?"block":"none"}},n(HM,{type:"loading",className:"svg--loading",viewBox:"0 0 100 100"}),e.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n("div",{style:{width:"100%",height:this.state.height+10},className:"chat-message__secure-form"},n(Xk,{frameBorder:0,scrolling:"no",style:{width:"100%",height:"100%"}},n("div",{style:{width:"100%",height:this.state.height,position:"relative"}},!t&&n("div",{style:{display:"block",position:"absolute",border:"1px solid #ddd",borderRadius:"4px",width:"calc(100% - 22px)",height:this.state.height-2,margin:"0 10px",backgroundColor:"#f5f5f5"}},n("div",{style:{position:"absolute",transform:"translate(-50%, -50%)",top:"50%",left:"50%",fontFamily:'"SourceSans Pro",Arial',lineHeight:"18px",fontSize:13,color:"#333",textAlign:"center",width:"calc(100% - 60px)"}},n("span",{style:{fontSize:15,display:"block",lineHeight:"25px"}},"Note"),n("span",{style:{display:"block"}},"Secure Forms are masked from agent view during the Cobrowsing session."),n("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAgCAYAAABQISshAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUQzRjdEOURDOTcwMTFFNTg4RkVFRUFGNjA0RTU0NkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQzRjdEOUVDOTcwMTFFNTg4RkVFRUFGNjA0RTU0NkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRDNGN0Q5QkM5NzAxMUU1ODhGRUVFQUY2MDRFNTQ2QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRDNGN0Q5Q0M5NzAxMUU1ODhGRUVFQUY2MDRFNTQ2QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqtI590AAAOKSURBVHjazJh7aI1hHMfPZu7bGLZIljW3yK3Jcpmk/TGlRNZIUiNR2h+bFoV/lL/Mf1IKh4RcYsed5DJ0yqzNpFiKEzO2xlxmthnfX33fent63uc9787F+dWnc3ou7/P8nud3e9+kYDDoi5GkgDSQwV8hnb8jiNpuH2u1t4KpoM9tMVWG2R4ijFQebi2YrrRZm7Pah0bpQOSZa8A5N0WugBncsGxigC/xpNJNkWRQD3J4yomixEke7ihQADrBMjdF/OBvAp3+RbARvARfwCNQCFa6KfIGPEwgRa5q2rpBEphrUkTkWAIpkmZw+ko3ReQ6vyeIItvpG3aZBlYzeuWYFPnpFhXiKFPAK7AfbAWHQB1IZZQt101KsiXExaBG6e8CzYbbzGLeCVd+gQYmuS7a/Tgwy2ZSvSCkWWui7RnZoM0pIT4GTWCyra2W4c8k2QyNW8ACTb9ExPPgCHjAjaoyCBwGpTy4XI1/fOV/SbRlYK/OtKwF/f0whRDnLQQVSt8nsBSUgLsOSlhR6bOHNbfR1LSKWImoz+UhYxnnCzTzD4IL/N8OljiE9kyacj4TsVcZw9tzVOQ9uOPykEm8AdngaU3/Jf7uAq81ddwp0EJ/DNLW74F5HpWpsLtGsmaAF/PK07R1Mgqe0PRVgfXKusk0v0KPiohvrjMpcpmlgZu8BXs07XMYPn9r+kqiHKp3MPJpFZGweNYwWcxhMBOTOm48HfGbw9zUKCsiYbvISRGRo4bJvYwyqiyirUtumeAw92mMSnzti5XIM9Do0CdxfDoYDkbzVJYzAlmSy3zUpMwtYzDJiKIi4l/5KYYB4vSrHKJWbRgL7ASbNAck7xmbwXxaRAtvSvLRtf7eikkRCZMrIjipUr5TVCntH8E+zfiZ/VijA9yQAGVSRDLt9Qiv/QCYzej2LkqmJNEywFd0KXl6TD5iiQwu1sRvL7KBuUMCwS3wgofUwRoqkz5XZEuaxUrpJDe7my9dDW7Vr04GMttnxbmU72JtFuDmm8P59mSSHvpKeRw238pNixXcZnXg6SOam/hjqIhUANU8eTGNP5F8DXSTRobNvChsXDb6hBsPaIpKXywVETkegSI/6OQBRsG2WFxtuIqcYSgdEub4D7R1MZv7dN6YSriKtLMqXmsYU28zmTpfnD/6pXgY61cU6WZCqubph/7npxcvikix95zOL6d+01Cux13+CTAAFQXCf4YgyBkAAAAASUVORK5CYII=",alt:"pci form logo",style:{
display:"inline-block",marginTop:30}}))),n(BN,{handlerAction:this.handlerAction,url:e.url,targetUrl:e.targetUrl,glance_masked:"true"})))))},t}(I),FN=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.props.scrollDown;e(),Pd(this.container,e)},t.prototype.componentWillUnmount=function(){Dd(this.container,this.props.scrollDown)},t.prototype.render=function(){var e=this,t=this.props;return this.state.timeout?null:n("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},t.ifShowAvatar&&t.sender.avatar&&n("div",{className:"agentMessage__avatar"},n(dT,{src:t.sender.avatar,alt:t.sender.name,className:"agentMessage__avatarImg"})),n("div",{onClick:this.props.isMobile?this.onClick:void 0,className:ZA("chat-operator-message","window__chatAgentMessage",(!t.ifShowAvatar||!t.sender.avatar)&&"window__chatMessageNoAvatar")},!t.ifShowAvatar&&t.ifShowName&&t.sender.name&&n("div",{className:"chat-operator-name window__chatAgentName"},t.sender.name),n("div",{className:"dot"},n("div",{className:"dot__element dot__element--loadingAnimation animated-delayFrames7"}),n("div",{className:"dot__element dot__element--loadingAnimation animated-delayFrames10"}),n("div",{className:"dot__element dot__element--loadingAnimation animated-delayFrames13"})),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})]),n(rI,{time:t.time,isMobile:this.props.isMobile}))},t}(I),zN=function(e,t,i){return e.content?"string"==typeof e.content&&e.content?n(eI,{type:e.type,message:e.content,windowStyle:t,sender:e.sender,scrollDown:i}):"string"==typeof e.content.text&&e.content.text?n(eI,{type:e.type,message:e.content.text,windowStyle:t,sender:e.sender,scrollDown:i}):null:null},VN=function(e,t,i){if(e.content){var o=e.content;if(o.indexOf("{queuePosition}")>=0&&void 0===e.queuePosition)return null;if(o.indexOf("{estimatedWaitTime}")>=0&&void 0===e.estimatedWaitTime)return null;for(;o.indexOf("{queuePosition}")>=0;)o=o.replace("{queuePosition}",e.queuePosition);for(;o.indexOf("{estimatedWaitTime}")>=0;)o=o.replace("{estimatedWaitTime}",e.estimatedWaitTime);return n(eI,{type:e.type,message:o,windowStyle:t,scrollDown:i})}return null},UN=function(e,t,i,o,r){var a=[];if(e.content){for(var s=e.content.split(/{linkText}/gi),c=0;c<s.length;c+=1){var d=s[c];a.push(d),c<s.length-1&&a.push(n("a",{onClick:i},t))}return n(eI,{type:e.type,message:a,windowStyle:o,scrollDown:r})}return null},HN=function(e,t,i,o){if(e.content){var r=n("a",{onClick:t},e.content);return n(eI,{type:"startChatAgain",message:r,windowStyle:i,scrollDown:o})}return null},jN=function(e,t,i){if(e.content){var o=e.content,r=o.text,a=o.url,s=n("a",{target:"_blank",rel:"noopener noreferrer",href:a},r);return n(eI,{type:"downloadTranscript",message:s,windowStyle:t,scrollDown:i})}return null},YN=function(e,t,i,o,r,a,s,c,d){return n(aI,{type:e.type,message:e.content,time:e.time,translated:e.translated,translatedTag:t,originalTag:i,windowStyle:o,isMobile:r,fileName:e.content.fileName,percent:e.content.percent,onCloseClick:e.content.onCancel,scrollDown:a,KbHost:s,onKbLinkClick:c,siteId:d})},GN=function(e,t,i,o,r,a,s,c,d,l,u){return e.type===Ed?e.content?n(sI,{type:e.type,message:e.content,sender:e.sender,time:e.time,ifShowName:t>1,ifShowAvatar:r,windowStyle:a,isMobile:s,scrollDown:c,KbHost:d,onKbLinkClick:l,siteId:u}):null:n(sI,{type:e.type,message:e.content,sender:e.sender,time:e.time,translated:e.translated,ifShowName:t>1,translatedTag:i,originalTag:o,ifShowAvatar:r,windowStyle:a,isMobile:s,scrollDown:c,KbHost:d,onKbLinkClick:l,siteId:u})},qN=function(e,t,i,o,r,a,s,c,d,l,u,p,h,f,m,b,w){return"chatbotRequestQuestionGuid"===e.type?n(dI,{type:e.type,message:e.content,sender:e.sender,time:e.time,timeout:e.timeout,ifShowName:c>1,ifShowAvatar:s,onChatbotTimeout:t,onChatWithAgentClick:i,windowStyle:d,chatWithAgentText:l,isMobile:u,scrollDown:p}):"chatbotBadAnswer"===e.type?n(cI,{type:e.type,message:e.content,sender:e.sender,time:e.time,onChatWithAgentClick:i,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,scrollDown:p}):e.type===Ed?n(uI,{type:e.type,message:{AnswerContentType:0,Answer:e.content,IfSystem:!0},sender:e.sender,time:e.time,onRelatedQuestionClick:o,onRelatedQuestionClickWithAgent:r,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,scrollDown:p,KbHost:h,onKbLinkClick:f,siteId:b,onBotSignLinkClick:m,chatStatus:w}):e.type===Wd?n(uI,{type:e.type,message:e.content,sender:e.sender,time:e.time,onRelatedQuestionClick:o,onRelatedQuestionClickWithAgent:r,OnRateClick:a,ifShowName:c>1,ifShowAvatar:s,disableRate:e.disableRate,windowStyle:d,isMobile:u,scrollDown:p,KbHost:h,onKbLinkClick:f,siteId:b,onBotSignLinkClick:m,chatStatus:w}):"chatbotPossibleAnswer"===e.type?n(pI,{type:e.type,message:e.content,sender:e.sender,time:e.time,onRelatedQuestionClick:o,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,scrollDown:p}):"botSignIn"===e.type?n(hI,{type:e.type,message:e.content,sender:e.sender,time:e.time,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,onBotSignLinkClick:m,scrollDown:p}):"botForm"===e.type?n(IN,{type:e.type,message:e.content,sender:e.sender,time:e.time,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,scrollDown:p}):"botConfirmForm"===e.type?n(WN,{type:e.type,message:e.content,sender:e.sender,time:e.time,ifShowName:c>1,ifShowAvatar:s,windowStyle:d,isMobile:u,scrollDown:p}):null},ZN=function(e,t){var i=t.involvedAgentsCount,o=t.gotoOfflineLinkText,r=t.translatedTag,a=t.originalTag,s=t.onChatWithAgentClick,c=t.onRelatedQuestionClick,d=t.onRelatedQuestionClickWithAgent,l=t.OnRateClick,u=t.getSecureFormFailure,p=t.submitSecureForm,h=t.cancelSecureForm,f=t.onChatbotTimeout,m=t.onOfflineLinkClick,b=t.onStartChatAgainClick,w=t.chatStatus,g=t.scrollDown,v=t.ifShowAvatar,y=t.agentTypingText,_=t.windowStyle,x=t.chatWithAgentText,k=t.isMobile,C=t.isPrint,S=t.KbHost,A=t.onKbLinkClick,M=t.onBotSignLinkClick,T=t.siteId;if("creditCardMasked"===e.type||"pendingAccept"===e.type||"pendingAudioRequesting"===e.type||"pendingHangup"===e.type||"pendingVideoRequesting"===e.type||"pendingCobrowseAccept"===e.type||"pendingCobrowseStart"===e.type||"pendingCobrowseRefuse"===e.type||"pendingCobrowseNotSupport"===e.type||"pendingCobrowseBrowserNotSupport"===e.type||"pendingCobrowseEnd"===e.type||"pendingCobrowseHttpNotSupport"===e.type)return null;if(Yb(e))return zN(e,_,g);if("visitorRequestChat"===e.type)return VN(e,_,g);if(w===Vd&&"systemPromoteOfflineMesage"===e.type)return UN(e,o,m,_,g);if("startChatAgain"===e.type)return HN(e,b,_,g);if("downloadTranscript"===e.type)return jN(e,_,g);if("visitorText"===e.type||"visitorFile"===e.type||"visitorImage"===e.type||"visitorAddTextMessage"===e.type||"visitorSendFile"===e.type||"visitorSendImage"===e.type||"visitorCancelBotForm"===e.type||"visitorSubmitBotForm"===e.type||"visitorConfirmBotForm"===e.type)return YN(e,r,a,_,k,g,S,A,T);if("agentSendText"===e.type||"agentAddInvitationText"===e.type||"autoInvMsg"===e.type||"agentSendUrl"===e.type||"agentSendFile"===e.type||"agentSendImage"===e.type||"agentSendImageStart"===e.type)return GN(e,i,r,a,v,_,k,g,S,A,T);if("chatbotRequestQuestionGuid"===e.type||"chatbotBadAnswer"===e.type||e.type===Wd||"chatbotPossibleAnswer"===e.type||"botSignIn"===e.type||"botForm"===e.type||e.type===Ed||"botConfirmForm"===e.type)return qN(e,f,s,c,d,l,v,i,_,x,k,g,S,A,M,T,w);if("agentRequestSecureForm"===e.type){var I=[];return I.push(n(eI,{type:e.type,message:e.content.text,windowStyle:_,sender:e.sender,scrollDown:g})),C||I.push(n(LN,{isHidden:e.isHidden,url:e.content.url,targetUrl:Zc.href,getSecureFormFailure:u,submitSecureForm:p,cancelSecureForm:h,windowStyle:_,scrollDown:g,isPopedOut:t.isPopout})),I}return"agentTyping"!==e.type||C?null:n(FN,{message:y,time:e.time,windowStyle:_,sender:e.sender,ifShowName:i>1,ifShowAvatar:v,isMobile:k,scrollDown:g})},KN=function(e){function t(){return ss(this,t),us(this,e.apply(this,arguments))}return ds(t,e),t.prototype.componentDidMount=function(){var e=this.element;if(e&&this.props.isBubble){var t=e.getBoundingClientRect().width;e.style.width=t+"px"}},t.prototype.render=function(){var e=this,t=this.props,i=t.messages,o=ls(t,["messages"]),r=i.map(function(e){return ZN.apply(void 0,[e].concat(o))}).filter(function(e){return null!==e}).reduce(function(e,t){return e.concat(t)},[]);return n("div",{ref:function(t){e.element=t}},r)},t}(I),QN=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.onScroll=i.onScroll.bind(i),i.scrollDown=vd(i.scrollDown.bind(i),100),i.canUpdateHideBio=!0,i.beforeunload=i.beforeunload.bind(i),i.state={},i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.onMounted(),setTimeout(function(){e.element&&(e.hasAnimation=!0,Va(e.element,"window__chat--animation"))},625),Gc.addEventListener("beforeunload",this.beforeunload),_x("livechat.chatwindow.restore",function(){e.scrollDown()})},t.prototype.shouldComponentUpdate=function(e){return this.props.messages!==e.messages||e.ifHideBio!==this.props.ifHideBio||e.height!==this.props.height||e.hasMobileSideWindow!==this.props.hasMobileSideWindow||e.isInputVisible!==this.props.isInputVisible},t.prototype.componentDidUpdate=function(e){var t=this,n=e.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout(function(){t.canUpdateHideBio=!0},625)),this.hasAnimation&&Va(this.element,"window__chat--animation")},t.prototype.componentWillUnmount=function(){Gc.removeEventListener("beforeunload",this.beforeunload)},t.prototype.onScroll=function(e){if(!Sd){var t=e.currentTarget.scrollTop;this.canUpdateHideBio&&t>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===t&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},t.prototype.beforeunload=function(){P_(this.props.chatGuid)},t.prototype.scrollDown=function(){this.element&&(this.element.scrollTop=this.element.scrollHeight)},t.prototype.render=function(){var e=this,t=this.props,i=t.greeting,o=t.height,r=t.hasMobileSideWindow,a=t.isInputVisible,s=ls(t,["greeting","height","hasMobileSideWindow","isInputVisible"]),c=void 0;if(s.windowStyle===qd){var d=0;if(this.element){var l=this.element.nextSibling;l&&"chat-input"===l.id&&(d=l.getBoundingClientRect().height)}if(s.isMobile){if(c=o,a&&(c-=d||48),r){c-=35}}else{c=o-30,a&&(c-=d||41)}}s.isPrint&&(c="");var u=void 0;return u="<div>&nbsp;</div>"!==i&&!!i,n("div",{ref:function(t){e.element=t},className:ZA("chat window__chat window__chat--animation",s.ifShowBio?"window__chat--withBio":"window__chat--noBio",s.ifShowChatWithAgent?"window__chat--showChatWithAgent":""),onScroll:this.onScroll,style:{maxHeight:c}},u&&n("div",null,n("div",{className:s.windowStyle===qd?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},n("div",{className:s.windowStyle===qd&&"window__chatSystemMessageContent",dangerouslySetInnerHTML:{__html:i}}),s.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])),n(KN,cs({},s,{scrollDown:this.scrollDown})))},t}(I),JN=function(e,t){return{type:e,guid:R(),time:new Date,content:t,sender:{type:"visitor"}}},XN=function(e){var t=bh(e),n=vh(e).length,i=!0;t.filter(function(e){return"chatbotJoinChat"===e.type}).length>0&&(n+=1,i=!1);var o=wl(e),r=jp(e),a=Op(e),s=oh(e),c=ob(e,"greetingChatWindow");!c||"<div>&nbsp;</div>"!==c&&"<div></div>"!==c&&"<div/>"!==c||(c="");var d=Zp(e),l=eh(e),u=("aboveInput"===l||"toolbarWithBubble"===l&&a)&&Zh(e);return{siteId:Cp(e),KbHost:d,height:r,isPopout:o,isMobile:a,ifShowBio:bf(e),hasMobileSideWindow:nf(e)&&a,windowStyle:Mm(e,s),greeting:i?c||"":"",messages:t,involvedAgentsCount:n,gotoOfflineLinkText:ob(e,"eventLinkText")||"here",startChatAgainText:ob(e,"startChatAgain"),translatedTag:ob(e,"translation"),originalTag:ob(e,"original"),agentTypingText:ob(e,"eventOperatorIsTyping"),chatWithAgentText:ob(e,"buttonChatbotChatWithAgent"),chatStatus:Jp(e),ifShowAvatar:Tm(e)===qd||jm(e),chatGuid:_h(e),ifHideBio:Qh(e),ifShowChatWithAgent:u,isInputVisible:Oh(e),onMounted:function(){yx("livechat.chat.display",s)}}},$N=function(e){return{submitSecureForm:function(t,n){var i=JN("pendingSubmitSecureForm",t+"\u2299"+n);e(ky([i]))},cancelSecureForm:function(t){e(uv(t));var n=JN("pendingCancelSecureForm","");e(ky([n]))},getSecureFormFailure:function(){var t=JN("pendingGetSecureFormFailure","");e(ky([t]))},onOfflineLinkClick:function(){e(ev($d))},onChatWithAgentClick:function(){e(vv())},onRelatedQuestionClick:function(t){e(yv(t))},OnRateClick:function(t,n,i){e(_v(n,t,i))},onRelatedQuestionClickWithAgent:function(t){e(xv(t))},OnRateClickWithAgent:function(t,n,i){e(kv(n,t,i))},onStartChatAgainClick:function(){e(Pv())},onUpdateScrollStatus:function(t){e(Dv(t))},onChatbotTimeout:function(t){e(Jv(t))},onKbLinkClick:function(t){e(Iy(t))},onBotSignLinkClick:function(t){var n=t.signInUrl,i=t.signInText,o=t.signInType,r=t.signInFrame;e(ny(n,i,o,r))},onCloseBotSignWindow:function(){e(iy())}}},eR=uA(XN,$N)(QN),tR=function(e){return{color:"white",languages:rh(e).languages,content:eR,windowStyle:Tm(e),innerCss:Gb(ah(e),bl(e),D(kl,e))}},nR=uA(tR,null)($T),iR=function(e){var t=nh(e);if(!Sm(e))return{tab:t};var n=oh(e),i=Op(e),o=Ef(e,n),r=o.languages,a=Vm(e),s=ef(e),c=[];return Vl(e)&&Ff(e,n)&&c.push(LT),Lf(e,n)&&!Rh(e)&&c.push(jT),zf(e,n)&&c.push(OT),Vf(e,n)&&c.push(ZT),Uf(e,n)&&c.push(XT),Hf(e,n)&&c.push(nR),{windowDisabled:s,tab:t,icons:c.map(function(e){return{props:{color:a,languages:r,isMobile:i},component:e}})}},oR=uA(iR,null)(kT),rR=function(e){var t=Op(e),n=t||Ll(e)?null:Nh(e),i=nh(e);if(!Sm(e))return{tab:i,poweredByUrl:n,showChatWithAgent:uh(e)&&"toolbarWithBubble"===eh(e),chatWithAgentText:ob(e,"buttonChatbotChatWithAgent")};var o=oh(e);return{tab:i,icons:Mm(e,o)!==Yd||t?null:oR,poweredByUrl:n}},aR=function(e){return{onChatWithAgentClick:function(){e(vv())}}},sR=uA(rR,aR)(_T),cR={},dR=Yc(5)(function(e){return od("iframe",{src:e,style:{display:"none"}},document.body).then(function(t){function n(e){var t=e.data,n=o(t);if(n&&cR[n.meta]){var i=cR[n.meta],r=i.reject,a=i.resolve;n.error?r(n.payload):a(n.payload)}}var i=Be(t.contentWindow,e),o=function(e){try{return JSON.parse(e)}catch(e){return}};return i.subscribe(n),i})}),lR=function(e,t){return Ua({type:"facebook-init",payload:e},t)},uR=function(e){return Ua({type:"facebook-login"},e)},pR=function(e,t){return Ua({type:"google-init",payload:e},t)},hR=function(e){return Ua({type:"google-login"},e)},fR=function(e,t){return function(i){function o(e){ss(this,o);var t=us(this,i.call(this,e));return t.state={status:"loading"},t}return ds(o,i),o.prototype.componentDidMount=function(){var t=this;e().then(function(){t.setState({status:"done"})},function(){t.setState({status:"error"})})},o.prototype.render=function(){return"loading"===this.state.status?n(HM,{type:"loading",className:"svg--loading",viewBox:"0 0 100 100"}):"done"===this.state.status?n(t,this.props):null},o}(I)},mR=function(e){return n("div",{className:"greeting-message window__formGreeting",id:e.prefix+"-greeting",dangerouslySetInnerHTML:{__html:e.greeting}})},bR=TA("greeting")(mR),wR=function(e){var t=e.isSubmitting,i=e.onClick,o=e.success,r=e.text,a=e.disabled,s=ls(e,["isSubmitting","onClick","success","text","disabled"]);return n("div",cs({className:ZA("buttonProgressContainer",t&&!o&&"buttonProgressContainerLoading",o&&"buttonProgressContainerSuccess")},s),n(TT,{type:"primary",text:r,className:"buttonProgressBtnAnimated buttonProgressBtnDefaultSize",htmlType:"submit",onClick:i,disabled:a||t}),n("div",{className:"lds-css ng-scope"},n("div",{className:"lds-rolling"})),n("svg",{version:"1.1",className:"buttonProgress__layerCircle",id:"buttonProgress__layer-circle",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 30 30",xmlSpace:"preserve"},n("path",{className:"buttonProgress__submitCirclePath",d:"M15,1.5c7.4,0,13.5,6.1,13.5,13.5S22.4,28.5,15,28.5S1.5,22.4, 1.5,15S7.6,1.5,15,1.5L15,1.5z"})),n("svg",{version:"1.1",className:"buttonProgress__layerSuccess",id:"buttonProgress__layer-success",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlSpace:"preserve"},n("polygon",{className:"buttonProgress__submitSuccessPath",points:"16,3.5 12.8,1 6.5,9.2 2.5,6.1 0,9.3 6,14 7.3,15"})))},gR=function(e){return n(wR,{onClick:e.onClick,isSubmitting:e.isSubmitting,success:e.success,text:e.text,disabled:e.disabled})},vR=TA("submit")(gR),yR=[Bd,Ld,"company","phone",Fd,"content","subject","text","textarea"],_R=Yc(1)(function(e,t,i,o,r,a){if(!e&&!t)return null;var s=void 0,c=void 0,d=i+"&key="+r;if(e){var l=fR(D(lR,e,d),tM);s=n(l,{type:"facebook",id:"fb-login",onClick:function(){return uR(d).then(o)}})}else s=null;if(t){var u=fR(D(pR,t,d),tM);c=n(u,{type:"googleplus",id:"gp-login",onClick:function(){return hR(d).then(o)}})}else c=null;return TA("social")(function(){return n("div",{id:"social-logins",className:"prechatForm__login"},n("span",{className:"float-left lang-sign-in-with system LanguagePreChatSocialMediaSignInWith prechatForm__signinwith"},a.preChatSocialMediaSignInWith),n("span",{id:"social-login-icons",className:"float-left box-icons prechatForm__social"},s,c),n("div",{className:"clear"}),n("div",{className:"box-hor-or"},n("span",{className:"LanguagePreChatSocialMediaOr hor-or prechatForm__divide"},a.preChatSocialMediaOr)))})}),xR=function(e,t){var n=e.facebookAppId,i=e.googleClientId,o=e.iframeSrc,r=e.onLogin,a=e.languages;return _R(n,i,o,r,t,a)},kR=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={animated:!1,isAnimationEnd:!1},i.onSubmit=i.onSubmit.bind(i),i.social=null,i.key=+new Date,i.social=xR(n,i.key),i.onAnimated=i.onAnimated.bind(i),i.onAnimationEnd=i.onAnimationEnd.bind(i),i.onScroll=i.onScroll.bind(i),i.canUpdateHideBio=!0,i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.onMounted(),setTimeout(function(){e.element&&(e.element.scrollTop=0)},0),kd&&this.onAnimationEnd(),Pd(this.animation,this.onAnimationEnd);var t=this.props.fields,n=t.findIndex(function(e){return yR.indexOf(e.type)>=0});n<0||this.props.isMobile||(this.props.onFocus(t[n]),Pd(this.animation,this.onAnimated))},t.prototype.componentWillReceiveProps=function(e){this.social=xR(e,this.key)},t.prototype.componentDidUpdate=function(e){var t=this,n=e.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout(function(){t.canUpdateHideBio=!0},625))},t.prototype.componentWillUnmount=function(){Dd(this.animation,this.onAnimated),Dd(this.animation,this.onAnimationEnd)},t.prototype.onAnimated=function(){this.setState({animated:!0})},t.prototype.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},t.prototype.onSubmit=function(){var e=this;setTimeout(function(){e.props.onSubmit(e.props.fields)},0)},t.prototype.onScroll=function(e){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)&&this.props.tab!==Qd){var t=e.currentTarget.scrollTop;this.canUpdateHideBio&&t>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===t&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},t.prototype.render=function(){var e=this,t=this.props,i=t.prefix,o=t.greeting,r=t.fields,a=t.submitStatus,s=t.onChange,c=t.onBlur,d=t.onFocus,l=t.isHorizontal,u=t.buttonText,p=t.siteId,h=t.style,f=t.error,m=t.windowStyle,b=t.disabled,w=t.tab,g=t.height,v=t.languages,y=t.isMobile,_=t.onError,x=void 0;if(m===qd){x=g-35,y||(x-=30)}return m===qd?n("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:x,overflowY:this.state.isAnimationEnd?"auto":"hidden"},ref:function(t){e.element=t}},n("div",{className:ZA("form window__form",!this.state.isAnimationEnd&&"window__form--animation"),id:i+"-window",ref:function(t){e.animation=t}},f&&n("div",{className:"window__formError"},f),o&&n(bR,{prefix:i,greeting:o,tab:w}),this.social&&n(this.social,{tab:w}),n("div",{id:i+"-fields",className:ZA("form-fields",l&&"form-fields--horizonal")},n(xN,{tab:w,fields:r,siteId:p,onError:_,onChange:s,onBlur:c,onFocus:d,style:h,isHorizontal:l,disabled:b,languages:v})),n("div",{className:"form-bottom form__submitContainer"},n(vR,{tab:w,onClick:this.onSubmit,isSubmitting:"pending"===a,success:"success"===a,text:u,disabled:b})),m===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])):n("div",{onScroll:this.onScroll,className:ZA("form window__form"),id:i+"-window",style:{maxHeight:x},ref:function(t){e.element=t,e.animation=t}},n("div",{className:!this.state.isAnimationEnd&&"window__form--animation"},f&&n("div",{className:"window__formError"},f),o&&n(bR,{prefix:i,greeting:o,tab:w}),this.social&&n(this.social,{tab:w}),n("div",{id:i+"-fields",className:ZA("form-fields",l&&"form-fields--horizonal")},n(xN,{tab:w,fields:r,siteId:p,onError:_,onChange:s,onBlur:c,onFocus:d,style:h,isHorizontal:l,disabled:b,languages:v})),n("div",{className:"form-bottom form__submitContainer"},n(vR,{tab:w,onClick:this.onSubmit,isSubmitting:"pending"===a,success:"success"===a,text:u,disabled:b}))),m===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])},t}(I),CR=At(kR),SR=function(e){var t="";return"prechat"===e?t="livechat.prechat":"postchat"===e?t="livechat.postChat":"offline"===e&&(t="livechat.offlineMessage"),uA(function(n){var i="prechat"===e,o=Bl(n),r=i&&Um(n),a=i&&Hm(n),s=r&&!o?Dl(n):void 0,c=a&&!o?Nl(n):void 0,d=void 0;"prechat"===e?d=Qd:"postchat"===e?d=Xd:"offline"===e&&(d=$d);var l=wl(n),u=jp(n),p=oh(n),h=_m(n,e,p),f=ef(n);"offline"===e&&0===h.length&&(f=!0);var m=ib(n);return{height:u,isPopout:l,tab:d,fields:h,prefix:e,facebookAppId:s,googleClientId:c,iframeSrc:kl(n,"/iframe.html?origin="+Zc.origin+"&id="+(window.frameElement?window.frameElement.id:"id")),submitStatus:xm(n,e),greeting:Em(n,e),isHorizontal:Bm(n),buttonText:Lm(n,e),hCallback:void 0,siteId:Cp(n),style:Tm(n),error:Ah(n),windowStyle:Mm(n,p),disabled:f,isMobile:Op(n),languages:m,ifHideBio:Qh(n),onMounted:function(){yx(t+".display",p)}}},function(n){return{onChange:function(i,o){n(N_(e,i.id,o)),yx(t+".field.change",cs({},i,{value:o}))},onError:function(t,i){n(R_(e,t.id,i))},onBlur:function(i){n(W_(e,i.id)),yx(t+".field.blur",cs({},i,{isFocused:!1}))},onFocus:function(i){n(O_(e,i.id)),yx(t+".field.focus",cs({},i,{isFocused:!0}))},onLogin:function(t){n(U_(e,t))},onSubmit:function(t){return n(Z_(e,1500,t))},onUpdateScrollStatus:function(e){n(Dv(e))}}})(CR)},AR=SR("prechat"),MR=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={draft:"",isInputError:!1,isMobileShowButton:!0},i.ime=!1,i.trySearch=i.trySearch.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer=setTimeout(function(){e.element&&!e.props.isMobile&&e.element.focus()},1e3),this.Cheight=Gc.innerHeight||qc.documentElement.clientHeight||qc.body.clientHeight,this.Corientation=window.orientation,this.onResize=function(){var t=window.orientation;if(e.props.isMobile&&!Md&&!e.props.isIPad&&e.Corientation===t){var n=Gc.innerHeight||qc.documentElement.clientHeight||qc.body.clientHeight;e.Cheight>n?e.setState({isMobileShowButton:!1}):e.setState({isMobileShowButton:!0}),e.Cheight=n}e.Corientation=t},Gc.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){Gc.removeEventListener("resize",this.onResize)},t.prototype.onchange=function(e){this.state.draft!==e&&this.setState({draft:e,isInputError:!1})},t.prototype.trySearch=function(e){if(this.state.draft.match(/^\s*$/))return void this.setState({draft:"",isInputError:!0});this.props.onSearchKB(this.state.draft),e&&e.preventDefault()},t.prototype.render=function(){var e=this,t=this.props.isMobile&&!this.props.showMobileSidewindow&&this.props.ifShowExpand,i=function(e,t){return n("span",{className:"window_chatErrorClose"},n(tM,{type:eM.close,size:12,onClick:e,color:t}))},o=this.props.height-30-30-35;this.props.isPopout&&!this.props.isMobile&&(o+=30),this.props.isMobile&&(o+=60);var r=function(){return n("div",{className:ZA("form","window__form","kbsearch-window__form",e.props.isMobile&&"kbsearch-mobile",e.props.showMobileSidewindow&&"mobileSidewindow")},n("div",{className:"greeting-message window__formGreeting greeting-message__kb"},e.props.greetingMessage),n("div",{className:"kbsearch-input__container"},n("form",{action:"",onSubmit:e.trySearch},n("input",{className:ZA("input","kbsearch-input",e.state.isInputError&&""===e.state.draft&&"error"),type:"search",value:e.state.draft,ref:function(t){e.element=t},onCompositionStart:function(){e.ime=!0},onCompositionEnd:function(t){e.ime=!1;var n=t.target.value;e.onchange(n)},onInput:function(t){if(!e.ime){var n=t.target.value;e.onchange(n)}},onKeyDown:function(t){fd(t)&&!e.props.isMobile&&(t.preventDefault(),e.trySearch())}})),n("div",{className:ZA("kbsearch-icon")},n(tM,{disabled:!1,color:e.props.color,type:eM.search,onClick:e.trySearch}))),n("div",{className:"article-list-container"},!t&&n("div",{className:"article-list"},e.props.articles&&e.props.articles.map(function(t){return n("div",{className:"article-item"},n("div",{className:"article-title",onClick:function(){e.props.articleOnClick(t.id)},dangerouslySetInnerHTML:{__html:t.title}}),n("div",{className:"article-summary",dangerouslySetInnerHTML:{__html:t.summary}}),n("div",{className:"article-cuttingline"}))})),e.props.notFoundStr&&n("div",null,e.props.notFoundStr),e.props.isLoading&&n(HM,{type:"loading",className:"svg--loadingChat",viewBox:"0 0 100 100"})),e.props.ifShowChatwithAgent&&e.state.isMobileShowButton&&n("div",{className:"form-bottom kbsearch-window__chatWithAgent"},n(wR,{onClick:e.props.kbOnChatwithAgent,text:e.props.kbChatwithAgent})),e.props.ifShowLeaveMessage&&e.state.isMobileShowButton&&n("div",{className:"form-bottom kbsearch-window__chatWithAgent"},n(wR,{onClick:e.props.kbOnLeaveMessage,text:e.props.kbLeaveMessage})),e.props.error&&n("div",{className:"window_chatError window_chatError--urgency"},e.props.error,i(e.props.onErrorClose,"#de3939")),e.props.windowStyle===qd&&n("div",{className:"icon-bubble-line__div"},n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})))};return this.props.windowStyle===qd?function(){return n("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:o,overflowY:"auto"}},r())}():r()},t}(I),TR=function(e){var t=_p(e),n=_f(e),i=Rp(e,t),o=ob(e,"buttonKBChatWithAgent"),r=!Rp(e,t),a=ob(e,"buttonKBLeaveMessage"),s=am(e),c=Op(e),d=Mm(e,oh(e)),l=Ah(e),u=kf(e),p=Cf(e),h=Sf(e),f=jp(e),m=wl(e),b=sf(e),w=nf(e),g=Wp(e);return cs({},{height:f,isPopout:m,greetingMessage:n,ifShowChatwithAgent:i,kbChatwithAgent:o,ifShowLeaveMessage:r,kbLeaveMessage:a,articles:s,isMobile:c,color:"#bbb",windowStyle:d,error:l,notFoundStr:u,isLoading:p,notShowContent:h,showMobileSidewindow:b,ifShowExpand:w,isIPad:g})},IR=function(e){return{kbOnChatwithAgent:function(){e(Tg("kbSearch","bubble")),e($v())},kbOnLeaveMessage:function(){e(Tg("kbSearch","bubble")),e(ev($d))},articleOnClick:function(t){e(ey(t))},onSearchKB:function(t){e(Ty(t))},onErrorClose:function(){e(gv())}}},PR=uA(TR,IR)(MR),DR=SR("postchat"),NR=SR("offline"),RR=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={animated:!1},i.animated=function(){i.setState({animated:!0})},i}return ds(t,e),t.prototype.componentDidMount=function(){Pd(this.container,this.animated)},t.prototype.componentWillUnmount=function(){Dd(this.container,this.animated)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{id:"prelogin-window",className:ZA("ssologin window__form",!this.state.animated&&"window__form--animation","window__ssologin"),ref:function(t){e.container=t}},t.errorMsg&&n("div",{className:"error ssologin__error window__ssologinError"},t.errorMsg),n("div",{id:"prelogin-login-greeing",className:"LanguagePromptIfLogin ssologin__greeting window__ssologinGreeting"},t.promptIfLogin),n("div",{className:"form-bottom window__ssologinForm"},n("input",{id:"sso-login",type:"button",className:"btn btn-primary LanguageButtonLoginAsUser window__ssologinOperation",value:t.buttonLogin,style:{width:115},onClick:t.onLoginClick}),n("input",{id:"chat-as-visitor",type:"button",className:"btn btn-primary LanguageButtonChatAsVisitor window__ssologinOperation",value:t.buttonNotNow,style:{width:115},onClick:t.onNotNowClick})),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])},t}(I),OR=function(e){return{windowStyle:Mm(e,_p(e)),errorMsg:Ah(e),promptIfLogin:ob(e,"promptIfLogin"),buttonLogin:ob(e,"buttonLoginAsUser"),buttonNotNow:ob(e,"buttonChatAsVisitor")}},WR=function(e,t){var n=t.dispatch;return cs({},e,{onNotNowClick:function(){n(gy()),n(sy())},onLoginClick:function(){n(ev("ssoLogin"))}})},ER=uA(OR,null,WR)(RR),BR=function(e){try{return JSON.parse(e)}catch(e){return}},LR=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));i.eventListener=i.eventListener.bind(i),i.state={reload:0},i.origin="";var o=md(n.url,"returnUrl");return o&&(i.origin=o.match(/^[^:]+:\/\/[^\/]+/)[0]),i}return ds(t,e),t.prototype.componentDidMount=function(){if(this.iframe){var e=Be(this.iframe.contentWindow,this.origin,!0);this.unsubscribe=e.subscribe(this.eventListener)}},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.eventListener=function(e){if(e.data){var t=BR(e.data);if(!t)return;"sso-login"===t.type&&(t.payload&&"object"===as(t.payload)?this.props.handleSSOInfo(t.payload):this.props.ifShowPreLogin?this.props.gotoPreLogin():this.setState({reload:this.state.reload+1}))}},t.prototype.render=function(){var e=this,t=this.props,i=this.props.targetUrl.match(/^[^:]+:\/\/[^\/]+/)[0],o=t.url+encodeURIComponent("?target="+i),r=o+"&color=ffffff&r="+this.state.reload;return n("div",{className:"window__ssoLogin"},n("iframe",{ref:function(t){e.iframe=t},frameBorder:0,src:r}))},t}(I),FR=function(e){return{url:ch(e),ifShowPreLogin:dh(e),targetUrl:Zc.href,departments:im(e),preChatFields:km(e)}},zR=function(e,t){var n=t.dispatch;return cs({},e,{handleSSOInfo:function(t){n(by(t));var i={};Object.keys(t).forEach(function(n){if("fields"===n)i.custom={},t[n].forEach(function(t){e.preChatFields.filter(function(e){return e.label===t.name&&"checkbox-list"===e.type}).length>0?i.custom[t.name]=t.value.split("\u2299"):i.custom[t.name]=t.value});else if("department"===n){var o=Object.keys(e.departments).filter(function(n){return e.departments[n].name===t.department});o.length>0?i[n]=Number(o[0]):i[n]=""}else"ssoId"===n&&"userId"===n&&"variables"===n||(i[n]=t[n])}),n(F_(i))},gotoPreLogin:function(){n(ev(Kd))}})},VR=uA(FR,null,zR)(LR),UR=void 0,HR=void 0,jR=[],YR="visitorMsgRestritUnlockTimeKey2",GR="visitorMsgSentTimeKey",qR="penaltyFactorKey",ZR=1,KR=null,QR=void 0,JR=[],XR=null,$R={},eO=void 0,tO=function(e){var t=m_(HR).frequencyLimit;return null==t?"":t[e]},nO=function(e,t){return $R[YR]=tO(YR),$R[GR]=tO(GR),$R[qR]=tO(qR),$R[e]=t,$R},iO=function(){var e=(new Date).getTime(),t=tO(GR);if(void 0!==t&&null!==t&&""!==t){var n=!1;t.split(":").forEach(function(t){var i=new Date(+t);e-i<=1e3*UR.penalty&&(jR.push(+t),JR.push(setTimeout(Xa,1e3*UR.penalty-(e-i))),n=!0)}),n&&Ya()}var i=Ha();if(i&&e<i){eO(!0);var o=i-e;XR=setTimeout(Ka,o)}var r=tO(qR);ZR=void 0===r||null===r||""===r||isNaN(+r)?1:+r},oO=function(e,t,n,i){var o;UR=e,HR=t,QR=n,eO=i,o={},o[YR]="",o[GR]="",o[qR]="",$R=o,qa(),Ga(),Za(),jR=[],ZR=1,KR=null,iO()},rO=function(){Ka(),b_(HR,{frequencyLimit:nO(qR,1)}),Ga()},aO=function(){$a();var e=Ja(),t=0;return e&&(t=Math.max(0,Math.floor((Ha()-(new Date).getTime())/1e3))),e&&!KR&&es(),!e&&KR&&Ga(),{isLimited:e,waitSecond:t}},sO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.ime=!1,i}return ds(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props
;return!this.ime&&(t.value!==e.value||t.isMobile!==e.isMobile||t.isDisabled!==e.isDisabled)},t.prototype.render=function(){var e=this,t=this.props;return n("textarea",{id:"chat-input-control",ref:t.refCb,className:"window__chatInputControl",autoFocus:!t.isMobile,value:t.value,disabled:t.isDisabled,placeholder:t.placeHolder,onFocus:t.onFocus,onBlur:t.onBlur,onCompositionStart:function(){e.ime=!0},onCompositionEnd:function(n){e.ime=!1;var i=n.target.value;t.update(i)},onInput:function(n){if(!e.ime){var i=n.target.value;t.update(i)}},onKeyDown:function(e){fd(e)&&!t.isMobile&&(e.preventDefault(),t.onSend())},rows:1})},t}(I),cO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={isDragged:!1,draft:n.draft,textareaFocused:!n.isDisabled&&!n.isMobile,isAnimationEnd:!1},i.container=null,i.checkVideoComing=!1,i.trySend=i.trySend.bind(i),i.trySendFile=i.trySendFile.bind(i),i.onBlur=i.onBlur.bind(i),i.onFocus=i.onFocus.bind(i),i.onAnimationEnd=i.onAnimationEnd.bind(i),i.update=i.update.bind(i),oO(n.limits.frequency,n.chatGUID,n.frequencyLimitClocker,n.frequencyLimitState),i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;if(Pd(this.container,this.onAnimationEnd),this.onDragOver=function(t){t.preventDefault(),e.props.isDragEnabled&&e.setState({isDragged:!0})},this.onDragLeave=function(t){t.preventDefault(),e.props.isDragEnabled&&e.setState({isDragged:!1})},this.onDrop=function(t){if(t.preventDefault(),e.props.isDragEnabled){e.setState({isDragged:!1});var n=t.target.files||t.dataTransfer.files||t.dataTransfer.items;n&&1===n.length&&e.trySendFile(n[0])}},!this.props.isMobile){var t=this.inputElement.ownerDocument;t.addEventListener("dragover",this.onDragOver),t.addEventListener("dragleave",this.onDragLeave),t.addEventListener("drop",this.onDrop),this.timer=setTimeout(function(){e.inputElement&&!e.props.isMobile&&e.inputElement.focus(),e.timer=null},1e3)}},t.prototype.componentWillReceiveProps=function(e){this.props.chatStatus!==jd&&e.chatStatus===jd&&(rO(),this.setState({draft:""}))},t.prototype.componentDidUpdate=function(e,t){var n=this,i=this.props;if(e.chatGUID!==i.chatGUID&&oO(i.limits.frequency,i.chatGUID,i.frequencyLimitClocker,i.frequencyLimitState),t.draft!==this.state.draft||e.isMobile!==i.isMobile){var o=this.inputElement,r=o.ownerDocument.querySelector(".window__chat"),a=!1;r&&(a=r.scrollTop+r.clientHeight===r.scrollHeight),o.style.overflowY="auto",o.style.height="auto",o.style.height=o.scrollHeight+"px",a&&(r.scrollTop=r.scrollHeight)}i.videoIncoming?this.checkVideoComing||(this.checkVideoComing=!0,setTimeout(function(){n.inputElement&&i.isMobile&&n.inputElement.blur()},50)):this.checkVideoComing=!1},t.prototype.componentWillUnmount=function(){if(this.inputElement){var e=this.inputElement.ownerDocument;e.removeEventListener("dragOver",this.onDragOver),e.removeEventListener("dragLeave",this.onDragLeave),e.removeEventListener("drop",this.onDrop)}this.timer&&clearTimeout(this.timer),Dd(this.container,this.onAnimationEnd)},t.prototype.onFocus=function(){this.setState({textareaFocused:!0})},t.prototype.onBlur=function(){this.setState({textareaFocused:!1})},t.prototype.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},t.prototype.trySend=function(){var e=this.state.draft;if(!e.match(/^\s*$/)){var t=this.props;if(e.length>t.maxLength)return void t.onError("maxLengh");var n=aO();if(n.isLimited)return void t.onError("limited",{seconds:n.waitSecond});var i=t.isCreditCardMasking?yb(e):e;t.onSend(i,i!==e),this.setState({draft:""});var o=this.inputElement;o.value="",t.isMobile||o.focus()}},t.prototype.trySendFile=function(e){var t=this.props,n=aO();if(n.isLimited)return void t.onError("limited",{seconds:n.waitSecond});t.isSendingFile||t.onSendFile(e)},t.prototype.update=function(e){if(this.state.draft!==e){var t=this.props,n="";if(t.isShowTypingContent){n=e,n.length>500&&(n=n.substr(0,500)+"..."),t.isCreditCardMasking&&(n=yb(n))}t.onVisitorIsTyping(n),this.setState({draft:e})}},t.prototype.render=function(){var e=this,t=this.props,i=this.props.isMobile&&!this.props.showMobileSidewindow&&this.props.ifShowExpand,o=""!==this.state.draft,r=function(e,t){return n("span",{className:"window_chatErrorClose"},n(tM,{type:eM.close,size:12,onClick:e,color:t}))};return n("div",{id:"chat-input",ref:function(t){e.container=t},className:ZA("window__chatInput","chatInputContainer",!this.state.isAnimationEnd&&"chatInputContainer--fadeInUp",t.mobileFootIcons&&"chatInputContainer--withplus",(o||this.state.textareaFocused)&&"chatInputContainer--active",o&&"chatInputContainer--typed",this.state.isDragged&&!t.isSendingFile&&"window__chatInput--Drag icon icon-drag")},t.ifShowChatWithAgent&&n("div",{onClick:t.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--above"},t.chatWithAgentText),t.mobileFootIcons&&n(t.mobileFootIcons),n("div",{className:ZA("chat-input__controlbox",t.isDisabled&&"chat-input__controlbox--disabled"),style:i&&{height:"35px"}},!i&&n(sO,{refCb:function(t){e.inputElement=t},isMobile:t.isMobile,value:this.state.draft,isDisabled:t.isDisabled,placeHolder:t.placeHolder,onFocus:this.onFocus,onBlur:this.onBlur,update:this.update,onSend:this.trySend}),t.footIcons&&n(t.footIcons)),(t.isClassic||t.isMobile)&&n("label",{htmlFor:"chat-input-control",className:ZA("window__chatSender",o&&"window__chatSender--active"),onClick:this.trySend},n(tM,{type:eM.inputSend})),t.warning&&n("div",{className:"window_chatError window_chatError--mitigate"},t.warning,r(t.onWarningClose,"#ee8835")),t.error&&n("div",{className:"window_chatError window_chatError--urgency"},t.error,r(t.onErrorClose,"#de3939")))},t}(I),dO=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={active:!1},n.onIconSelected=n.onIconSelected.bind(n),n.toggle=n.toggle.bind(n),n.closeChatOperationPlusBox=function(e){n.element&&n.element.contains(e.target)||n.toggle(!1)},n}return ds(t,e),t.prototype.componentWillMount=function(){var e=this;this.props.isActive&&setTimeout(function(){e.toggle(!0)},0)},t.prototype.componentDidMount=function(){var e=this;this.element.ownerDocument.body.addEventListener("click",function(t){e.closeChatOperationPlusBox(t)})},t.prototype.componentWillReceiveProps=function(e){var t=this;e.isActive&&setTimeout(function(){t.toggle(!0)},0)},t.prototype.componentWillUnmount=function(){this.element.ownerDocument.body.removeEventListener("click",this.closeBubble)},t.prototype.onIconSelected=function(){this.toggle(!1)},t.prototype.toggle=function(e){this.state.active!==e&&this.setState({active:e})},t.prototype.render=function(){var e=this,t=this.props;return t.icons?n("div",{className:"window__chatOperationPlusBox",ref:function(t){e.element=t}},n("div",{className:"window__chatOperationPlus"},n(tM,{disabled:!1,color:t.color,className:t.className,type:eM.plus,active:this.state.active,onClick:function(){e.toggle(!e.state.active)}})),this.state.active&&t.icons&&n(t.icons,{isMobile:!0,isShow:!0,onIconSelected:this.onIconSelected})):null},t}(I);dO.defaultProps={color:"#ccc",icons:{component:VT,props:{disabled:!1,active:!1,isMobile:!0,className:"footer__svg"}}};var lO,uO,pO,hO,fO=function(e){if(!Sm(e))return{};var t=oh(e),n=Ef(e,t),i=n.mainColor,o=Bh(e),r=Rh(e),a=ff(e),s=Pb(i);return{icons:oR,isActive:a&&!o&&!r,color:s,isMobile:!0}},mO=uA(fO,null)(dO),bO=function(e){var t=rh(e),n=oh(e),i=ih(e),o=(i||[]).some(function(e){return"voice"===e.id||"media"===e.id}),r=Vl(e)&&!Eh(e)&&!!Ff(e,t.id)&&e.window.chatStatus===Hd,a=Mm(e,n),s=Sm(e),c=a===Yd,d=Op(e),l=d||c||!s?null:oR,u=d&&s?mO:null,p=nf(e)&&d,h=eh(e),f=("aboveInput"===h||"toolbarWithBubble"===h&&d)&&Zh(e),m=sf(e),b=nf(e);return{isMobile:d,videoIncoming:o,isClassic:c,hasMobileSideWindow:p,chatWindowType:t.style,placeHolder:t.languages.promptPressEnterToSend,isCreditCardMasking:Dm(e),isShowTypingContent:Nm(e),isDragEnabled:r,isDisabled:!Wh(e),chatGUID:_h(e),limits:{fileSize:Rl(e)*Math.pow(2,20),frequency:Wl(e)},footIcons:l,mobileFootIcons:u,ifShowChatWithAgent:f,chatWithAgentText:ob(e,"buttonChatbotChatWithAgent"),error:Ah(e),warning:Mh(e),chatStatus:Jp(e),isSendingFile:Eh(e),draft:"",showMobileSidewindow:m,ifShowExpand:b,maxLength:El(e)}},wO=function(e){return{onSend:function(t,n){yx("livechat.chat.visitor.input",t),e(av(t,n))},onSendFile:function(t){return e(sv(t))},onError:function(t,n){e(Tv(t,n))},frequencyLimitClocker:function(t){e(t<=0?fv():Tv("limited",{seconds:t,fromClocker:!0}))},frequencyLimitState:function(t){e(Iv(t))},onVisitorIsTyping:function(t){e(Bv(t))},onChatWithAgentClick:function(){e(vv())},onWarningClose:function(){e(fv())},onErrorClose:function(){e(gv())}}},gO=uA(bO,wO)(cO),vO=function(){return window.outerWidth+502>screen.availWidth?screen.availWidth>window.outerWidth?screen.availWidth-window.outerWidth:0:502},yO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.tabs={},i}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.isPoppedOut){var t=__(),n=t.popout;if(!n||!n.isLarged){var i=vO();i>0&&Gc.resizeTo(Gc.outerWidth+i,Gc.outerHeight),x_({popout:cs({},n,{SideWinWidth:i,isLarged:!0})})}}this.props.components.forEach(function(t){var n=t.key,i=t.callback;if(i){var o=e.tabs[n];o.innerHTML="",o.appendChild(i())}}),yx("livechat.sideWindow.show"),yx("livechat.sideWindow.tabs.switch",this.props.selectedTab)},t.prototype.componentDidUpdate=function(e){var t=this;if(this.props.selectedTab!==e.selectedTab){yx("livechat.sideWindow.tabs.switch",this.props.selectedTab),this.props.components.forEach(function(e){var n=e.key,i=e.callback;if(i){var o=t.tabs[n];o.innerHTML="",o.appendChild(i())}});var n=this.tabs[this.props.selectedTab];if(n&&"bot"===this.props.selectedTab){var i=parseInt(n.style.width,10)-.1;n.style.width=i+"%",setTimeout(function(){n.style.width=i+.1+"%"},50)}}},t.prototype.componentWillUnmount=function(){if(this.props.isPoppedOut){var e=__(),t=e.popout;t.SideWinWidth&&t.SideWinWidth>0&&Gc.resizeTo(Gc.outerWidth-t.SideWinWidth,Gc.outerHeight),x_({popout:cs({},t,{SideWinWidth:-1,isLarged:!1})})}yx("livechat.sideWindow.hide")},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:ZA("sideWindow",!t.isPoppedOut&&"sideWindow--embedded",t.isMobile?"sideWindow--mobile":"slideInRight",t.isRightToLeft?"window--rtl":"",t.windowStyle===Gd?"sideWindow--circle":"",t.windowStyle===Yd?"sideWindow--classic":"",t.windowStyle===qd?"sideWindow--bubble":"")},n("div",null,t.components.filter(function(t){return t.key===e.props.selectedTab}).map(function(i){var o=i.content,r=i.key;return n("div",null,n("div",{id:r,style:{position:"absolute",top:0,right:0,bottom:0,left:0,overflowX:t.windowStyle===Yd?"hidden":"",width:e.props.windowStyle!==Gd||t.isMobile?"100%":"calc(100% - 25px)"},ref:function(t){e.tabs[r]=t}},o&&n(o)))})),n("div",{className:"mediaChatWindowSwitch"},t.components&&t.components.length>1&&t.components.map(function(i){var o=i.key,r=i.isSystem,a=i.iconActive,s=i.icon;return n("div",{className:ZA("mediaChatWindowSwitch__element",o===e.props.selectedTab?"mediaChatWindowSwitch__active":""),onClick:function(){e.props.onTabSelect(o)}},r&&n(tM,{type:o+(o===e.props.selectedTab?"-active":"")}),!r&&n("span",null," ",n("img",{className:"imgIcon",alt:"",src:o===e.props.selectedTab?a:s})," "),"bubble"===o&&t.unread>0&&n("span",{className:"mediaChatWindowSwitch__messageCount"},t.unread))})))},t}(I),_O=function(e){return n("div",null,n("div",{className:"mediaChatWindow__agentImg"},n(dT,{src:e.avatar,alt:e.name,className:"mediaChatWindow__avatarImg"})),n("div",{className:"mediaChatWindow__agentName"},e.name))},xO=function(e){return"audioIncoming"===e||"videoIncoming"===e},kO=function(e){return"videoChatting"===e||"videoIncoming"===e||"videoRequesting"===e},CO=function(e){return"audioChatting"===e||"audioIncoming"===e||"audioRequesting"===e},SO=function(e){return"audioChatting"===e||"videoChatting"===e},AO=function(e,t){if(0===t)return"";if(e<=t)return"";var n=e-t,i=parseInt(n/1e3,10),o=parseInt(i/86400,10),r=parseInt(i%86400/3600,10),a=parseInt(i%86400%3600/60,10),s=parseInt(i%86400%3600%60,10);return(o>0?o+".":"")+(r>=10?r+":":r<10&&r>0?"0"+r+":":0===r&&o>0?"00":"")+(a<10?"0"+a+":":a+":")+(s<10?"0"+s:s)},MO=(lO={},lO.audioChatting="mediaChatWindow--audioChatting",lO.audioIncoming="mediaChatWindow--audioIncoming",lO.audioRequesting="mediaChatWindow--audioRequesting",lO.videoChatting="mediaChatWindow--videoChatting",lO.videoIncoming="mediaChatWindow--videoIncoming",lO.videoRequesting="mediaChatWindow--videoRequesting",lO),TO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return SO(n.audioVideoChatStatus)?i.state={timespan:AO((new Date).getTime(),n.audioVideoChatStartTime)}:i.state={timespan:""},i}return ds(t,e),t.prototype.componentWillMount=function(){this.startClock()},t.prototype.componentDidMount=function(){this.props.onMounted(this.localVideoContainer,this.remoteVideoContainer)},t.prototype.componentWillUnmount=function(){clearInterval(this.clock),this.props.onWillUnmount()},t.prototype.startClock=function(){var e=this;this.clock=setInterval(function(){return e.setState({timespan:AO((new Date).getTime(),e.props.audioVideoChatStartTime)})},1e3)},t.prototype.render=function(){var e=this,t=this.props,i=kO(t.audioVideoChatStatus),o=CO(t.audioVideoChatStatus),r=SO(t.audioVideoChatStatus),a=this.state.timespan,s=xO(t.audioVideoChatStatus),c=o?t.audioChatText:t.videoChatText;return n("div",{id:"media-chat-window",className:ZA("mediaChatWindow",MO[t.audioVideoChatStatus])},n("div",{className:"mediaChatWindow__requesting",style:{display:r?"none":"block"}},n(_O,{name:t.name,avatar:t.avatar}),n("div",{className:"mediaChatWindow__waiting"},n("div",{className:o?"mediaChatWindow__textAudio":"mediaChatWindow__textVideo"},n("span",{className:ZA("mediaChatWindow__iconfont icon",o&&"icon-voice",i&&"icon-video")}),n("div",{className:"mediaChatWindow__chatTypeText"},c)),n("div",{className:"mediaChatWindow__waitingAni"},n("span",null,"."),n("span",null,"."),n("span",null,"."))),n("div",{className:"mediaChatWindow__buttons"},s&&n("div",{className:"mediaChatWindow__button",onClick:function(){return t.onAcceptClick(e.localVideoContainer,e.remoteVideoContainer)}},n(HM,{type:"accept",viewBox:"0 0 55 55"})),n("div",{className:"mediaChatWindow__button",onClick:t.onRefuseClick},n(HM,{type:"refuse",viewBox:"0 0 55 55"})))),n("div",{className:"mediaChatWindow__chatting",style:{display:r?"flex":"none"}},n("div",{className:"mediaChatWindow__chattingAgent"},n(_O,{name:t.name,avatar:t.avatar}),n("div",{className:"mediaChatWindow__chattingTime"},n("span",{className:ZA("mediaChatWindow__iconfont icon",o&&"icon-voice",i&&"icon-video")}),n("div",{className:"mediaChatWindow__chatTypeText"},c),n("div",{className:"mediaChatWindow__chattingDuration"},a))),n("div",{style:{display:i?"block":"none",width:"100%"}},n("div",{ref:function(t){e.localVideoContainer=t},className:"mediaChatWindow__localVideo",id:"mediaChatWindow__localVideo"}),n("div",{ref:function(t){e.remoteVideoContainer=t},className:"mediaChatWindow__remoteVideo",id:"mediaChatWindow__remoteVideo"}),n(HM,{className:"mediaChatWindow__loading",type:"loading",viewBox:"0 0 110 110"})),n("div",{className:"mediaChatWindow__buttons"},n("div",{className:"mediaChatWindow__button",onClick:t.onRefuseClick},n(HM,{type:"refuse",viewBox:"0 0 55 55"})))))},t}(I),IO=function(e){return{name:Gh(e),avatar:Yh(e),audioVideoChatStartTime:uf(e),audioVideoChatStatus:lf(e),videoChatText:ob(e,"videoChatCalling"),audioChatText:ob(e,"audioChatCalling")}},PO=function(e){return{onAcceptClick:function(t,n){e(zv(t,n))},onRefuseClick:function(){e(Cy())},onMounted:function(t,n){e(Lv(t,n))},onWillUnmount:function(){e(Fv())}}},DO=uA(IO,PO)(TO),NO=function(e){return n("div",{className:"mediaChatWindow"},n("div",{className:"sideWindow__content sideWindow__content--cobrowsing"},n("div",null,n("img",{src:e.icon,alt:e.type})),n("div",{className:"sideWindow__contentText"},n("span",null,e.text)),n("div",{className:"sideWindow__contentSubText",dangerouslySetInnerHTML:{__html:e.subhtml}}),n("div",{className:"sideWindow__btn"},n("div",{className:"mediaChatWindow__button",onClick:e.onAccept},n(HM,{type:"confirm",viewBox:"0 0 55 55"})),n("div",{className:"mediaChatWindow__button",onClick:e.onRefuse},n(HM,{type:"deny",viewBox:"0 0 55 55"})))))},RO=function(e){return{text:lb(e),subhtml:ub(e),icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAABOCAMAAADRh1IXAAAAV1BMVEVHcEzm8eTW7Pcyn9nS0tL////S0tLS0tLS0tLS0tKCunng4N+Qk49/hINSVVKHk5lydHT6+vpNUVOhqajAyL6zxM3S5/DY6Obi6uGcnp7HyMfV2NpjaGhpq1JNAAAACnRSTlMA////Lv//9LYsld9DHwAAAUpJREFUaN7t2lFugzAQBFCg2NDGBlwAYej9z1nHnxGbxNaIVcTON9KLd1EYIYqibhsNSNN+FxmpIXj8AXUG32pY2gy+wfFNBq+BET6V/4JFeOGF/xS+gkV44QH8Mi4ks+wa1g4Jvvc95S8a2A4J/lf5nuB3ZDskeWUIXyPbIc1TPrQfPeEJ/zTeHfqn8crZA1//wPKCD/7MxztrBy7e+V2N/cwz/L916AflBiZ+7MbKbmqzPHy1VNU8bB3T6WPmg/v+RJ74zy9hEf7SvEoNwa/jyskbb1ZGvlPesPLKmEz+lhCaT/axp0/20XyiD+edNejdP1zwlA/+xHf6ezvk4mM7NBPP7kM7NPd2OPHsPrTDMrZDntOXa1lOoR0yDT9mSrnv8TzfIyeTTw+Sz3gXdm1ewSL8R/K39Mjwr7D7ty6Q4cvuZfjCM3xq8w/Z9YjcDdQmOAAAAABJRU5ErkJggg==",type:"cobrowsing"}},OO=function(e){return{onAccept:function(){e(Dy())},onRefuse:function(){e(Ry())}}},WO=uA(RO,OO)(NO),EO=function(e){for(var t=e;t&&"BODY"!==t.nodeName;){if("A"===t.nodeName)return t.target="_blank",void(t.rel="noopener noreferrer");t=t.parentNode}},BO=function(e){if("IMG"===e.nodeName){for(var t=e.parentNode;t&&"BODY"!==t.nodeName;){if("A"===t.nodeName)return void EO(t);t=t.parentNode}var n=e.src;window.open(n)}},LO=function(e){var t=e.target;EO(t),BO(t)},FO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));return i.state={titleHide:!1,titleHeight:34},i.onScroll=i.onScroll.bind(i),i.updateContentTop=i.updateContentTop.bind(i),i.canUpdateHideTitle=!0,i.title=null,i.content=null,i.timer1=null,i.timer2=null,i.timer3=null,i.clearTimer=i.clearTimer.bind(i),i.updateTitleHeight=i.updateTitleHeight.bind(i),i.onTitleClick=i.onTitleClick.bind(i),i}return ds(t,e),t.prototype.componentDidMount=function(){this.updateContentTop()},t.prototype.componentWillUpdate=function(e,t){var n=this,i=t.titleHide;e.content!==this.props.content?(this.clearTimer(),this.setState({titleHide:!1}),this.canUpdateHideTitle=!0,this.updateTitleHeight()):this.state.titleHide===i&&e.showChatWindowInSidewindow===this.props.showChatWindowInSidewindow||(this.canUpdateHideTitle=!1,this.timer3=setTimeout(function(){n.canUpdateHideTitle=!0,n.timer3=null},200),this.updateTitleHeight())},t.prototype.componentDidUpdate=function(){if(this.content)for(var e=this.content.querySelectorAll("img"),t=0;t<e.length;t+=1)""===e[t].style.maxWidth&&(e[t].style.maxWidth="100%")},t.prototype.onScroll=function(e){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)){var t=e.currentTarget.scrollTop;this.canUpdateHideTitle&&t>0&&!this.state.titleHide&&this.setState({titleHide:!0}),this.canUpdateHideTitle&&0===t&&this.state.titleHide&&this.setState({titleHide:!1})}},t.prototype.onTitleClick=function(){this.setState({titleHide:!this.state.titleHide})},t.prototype.updateTitleHeight=function(){var e=this;this.timer1=setTimeout(function(){e.setState({titleHeight:Math.max(e.title.scrollHeight,50)}),e.timer1=null},0)},t.prototype.updateContentTop=function(){var e=this;this.title&&(this.timer2=setTimeout(function(){e.setState({titleHeight:Math.max(e.title.scrollHeight,50)}),e.timer2=null},200))},t.prototype.clearTimer=function(){this.timer1&&(clearTimeout(this.timer1),this.timer1=null),this.timer2&&(clearTimeout(this.timer2),this.timer2=null),this.timer3&&(clearTimeout(this.timer3),this.timer3=null)},t.prototype.componentWillUnMount=function(){this.clearTimer()},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:"sideWindow__knowlegebase"},n("div",{className:"knowlegebase__close"},n(tM,{type:eM.close,size:14,onClick:t.onClose})),n("div",null,n("div",{style:{backgroundColor:"white"}},n("div",{onClick:this.onTitleClick,className:ZA("knowlegebase__title",this.state.titleHide?"knowlegebase__title--hide":""),ref:function(t){t&&(e.title=t)},dangerouslySetInnerHTML:{__html:t.title}})),!t.isLoading&&n("div",{style:{top:this.state.titleHeight+"px"},className:"knowlegebase__content",onScroll:this.onScroll,ref:function(t){t&&(e.content=t)}},t.isKbAvailable?n("div",{onClick:LO,dangerouslySetInnerHTML:{__html:t.content}}):n("div",{className:"knowlegebase__error"},n("img",{alt:"error",src:t.img404}),n("div",{className:"oops"},"Oops!"),n("div",{className:"message"},"We couldn't find this page :("))),t.isLoading&&n("div",{className:"knowlegebase__loading"},n(HM,{type:"loading",className:"svg--loadingChat",viewBox:"0 0 100 100"})),n("div",{style:{top:this.state.titleHeight+"px"},className:"knowlegebase__content--fill"})))},t}(I),zO=function(e){var t={};t.showChatWindowInSidewindow=sf(e);var n=gf(e);return n?(t.isKbAvailable=n.title,t.isKbAvailable?(t.content=n.body,t.title=n.title?n.title.replace(/<\/?span[^>]*>/gi,""):""):(t.title="404",t.img404=Tb(D(kl,e),"404.png"))):t.isLoading=!0,t},VO=function(e){return{onClose:function(){e(Mg())}}},UO=uA(zO,VO)(FO),HO=function(e){try{return JSON.parse(e)}catch(e){return}},jO=function(e){function t(n){ss(this,t);var i=us(this,e.call(this,n));if(1===n.signInType){i.eventListener=i.eventListener.bind(i),i.updateIframe=i.updateIframe.bind(i),i.origin="";var o=md(n.signInUrl,"returnUrl");o&&(i.origin=o.match(/^[^:]+:\/\/[^\/]+/)[0])}return i}return ds(t,e),t.prototype.componentDidMount=function(){if(this.iframe&&this.origin&&1===this.props.signInType){var e=Be(this.iframe.contentWindow,this.origin,!0);this.unsubscribe=e.subscribe(this.eventListener)}this.updateIframe()},t.prototype.shouldComponentUpdate=function(e){return this.props.signInType!==e.signInType||this.props.signInUrl!==e.signInUrl||this.props.signInText!==e.signInText||this.props.signInFrame!==e.signInFrame},t.prototype.componentDidUpdate=function(){this.updateIframe(10)},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this.iframe&&this.iframe.setAttribute("src","")},t.prototype.updateIframe=function(e){var t=this;if(this.iframe){var n=this.props,i=n.signInUrl;if(1===n.signInType){var o=Zc.href.match(/^[^:]+:\/\/[^\/]+/)[0],r=encodeURIComponent("?target="+o);i=""+i+r+"&color=ffffff"}else i=4===n.signInType?""+i:i+(-1===i.indexOf("?")?"?":"&")+"visitorId="+n.visitorId;setTimeout(function(){t.iframe.setAttribute("src",i)},e||400)}},t.prototype.eventListener=function(e){if(e.data){var t=HO(e.data);if(!t)return;"sso-login"===t.type&&t.payload&&"object"===as(t.payload)&&(this.props.handleSSOInfo(t.payload),this.props.onClose())}},t.prototype.render=function(){var e=this,t=this.props;return 3===t.signInType?n("div",{className:"sideWindow__botlogin"},n("div",{className:"botlogin__close"},n(tM,{type:eM.close,size:14,onClick:t.onClose})),n("div",null,n("div",{style:{backgroundColor:"white"}},n("div",{className:ZA("botlogin__title")},t.signInText)),n("div",{style:{top:this.state.titleHeight+"px"},className:"botlogin__content",ref:function(t){t&&(e.content=t)},dangerouslySetInnerHTML:{__html:unescape(t.signInFrame)}}),n("div",{style:{top:"50px"},className:"botlogin__content--fill"}))):n("div",{className:"sideWindow__botlogin"},n("div",{className:"botlogin__close"},n(tM,{type:eM.close,size:14,onClick:t.onClose})),n("div",null,n("div",{style:{backgroundColor:"white"}},n("div",{className:ZA("botlogin__title")},t.signInText)),n("div",{style:{top:this.state.titleHeight+"px"},className:"botlogin__content",ref:function(t){t&&(e.content=t)}},n("iframe",{ref:function(t){e.iframe=t},frameBorder:0,src:"",style:{width:"100%",height:"100%"}})),n("div",{style:{top:"50px"},className:"botlogin__content--fill"})))},t}(I),YO=function(e){var t={};t.showChatWindowInSidewindow=sf(e);var n=Af(e);return t.visitorId=Qm(e),t.signInUrl=n.signInUrl,t.signInFrame=n.signInFrame,t.signInText=n.signInText,t.signInType=n.signInType,t},GO=function(e){return{onClose:function(){e(iy())},handleSSOInfo:function(t){e(wy(t))}}},qO=uA(YO,GO)(jO),ZO=(uO={},uO.media=DO,uO.voice=DO,uO.kb=UO,uO.bot=qO,uO.coBrowsing=WO,uO),KO=function(e){var t=Op(e),n=Ih(e),i=_p(e),o=Mm(e,i),r=cf(e),a=rf(e),s=wl(e),c=mf(e),d=[],l={};if(a){[].concat(a).forEach(function(e){e.isSystem?"bubble"===e.id||"kbSearch"===e.id?l=e:d.push({content:ZO[e.id],key:e.id,isSystem:e.isSystem}):d.push({callback:e.content,key:e.id,isSystem:e.isSystem,icon:e.icon,iconActive:e.iconActive?e.iconActive:e.icon})})}return l.id&&d.push({content:ZO[l.id],key:l.id,isSystem:l.isSystem}),{components:d,isMobile:t,unread:n,windowStyle:o,selectedTab:r,isPoppedOut:s,isRightToLeft:c}},QO=function(e){return{onTabSelect:function(t){e(Vv(t))}}},JO=uA(KO,QO)(yO),XO=function(e){function t(){ss(this,t);var n=us(this,e.call(this));return n.state={showIcon:!1,animated:!1},n.animated=function(){n.setState({animated:!0})},n}return ds(t,e),t.prototype.componentDidMount=function(){var e=this;this.timer=setTimeout(function(){return e.setState({showIcon:!0})},200),Pd(this.element,this.animated)},t.prototype.componentWillUnmount=function(){clearTimeout(this.timer),Dd(this.element,this.animated)},t.prototype.render=function(){var e=this,t=this.props;return n("div",{className:ZA("window__form",this.state.animated&&"window__form--animation"),ref:function(t){e.element=t}},t.errorMessage&&n("div",{className:"window__formError"},t.errorMessage),this.state.showIcon&&!t.errorMessage&&n(HM,{type:"loading",className:"svg--loadingChat",viewBox:"0 0 100 100"}),t.windowStyle===qd&&[n(HM,{type:VM,className:"icon-bubble-line",viewBox:"0 0 19 28"})])},t}(I),$O=uA(function(e){return{errorMessage:Ah(e),windowStyle:Mm(e,_p(e))}})(XO),eW=(pO={},pO[Qd]=AR,pO[Xd]=DR,pO[$d]=NR,pO[Jd]=eR,pO[Kd]=ER,pO.ssoLogin=VR,pO.loading=$O,pO[el]=PR,pO),tW=(hO={},hO[Qd]={timespan:0,duration:20},hO[Xd]={timespan:0,duration:20},hO[$d]={timespan:0,duration:20},hO[Jd]={timespan:0,duration:2},hO[Kd]=null,hO.ssoLogin=null,hO.loading=null,hO[el]={timespan:0,duration:20},hO),nW=function(e){var t=nh(e),i=eW[t],o=void 0,r=Sp(e),a=r===pl;o="ssoLogin"===t?[n(i)]:[n(wT,null),n(i),!a&&Oh(e)&&n(gO,null),!a&&n(sR,null)];var s=Jp(e)===Hd,c=Tm(e),d=Mh(e),l=Ah(e),u=Ih(e),p=Ph(e),h=void 0,f=jh(e),m=void 0;p&&(h=p.content,p.type===Wd?h=0!==p.content.AnswerContentType?"Webhook Answer":Nd(ts(p.content.Answer),0,48):"botForm"===p.type?h=p.content.FormName:"botSignIn"===p.type?h=p.content.Message+" "+p.content.SignInText:"string"!=typeof h&&h&&(h=h.text||h.name),Yb(p)||(m=p.sender.name));var b=Dh(e),w=Ym(e)&&c!==qd,g=Fm(e,u),v=zm(e),y=tW[t],_=df(e),x=0,k=nf(e),C=k?JO:null;c===qd&&(x=Math.random());var S=Yp(e),A=jp(e),M=_p(e),T=om(e,M),I=$f(e,M),P=mf(e),N=Gp(e),R=nw(c,e,Wf(e,M));return{isPoppedOut:wl(e),fontCSS:Ib(bl(e),D(kl,e)),mainColor:ah(e),background:sh(e),isFocused:pf(e),children:o,windowTab:t,windowStatus:r,windowStyle:c,warning:d,error:l,isMobile:Op(e),isIPad:Wp(e),showChatWindowInSidewindow:sf(e),unread:u,lastMessage:h,lastMessageId:b,avatar:w?f:void 0,agentName:m,title:s?g:void 0,seed:x,hOnline:y,writeReply:v,ifShowSideWindow:k,sideWindow:C,customCss:_,width:S,height:A,isRightToLeft:P,iframeStyle:T,orientation:N,showAvatar:!!(R.avatars||R.avatar||R.agent&&R.agent.avatar),isMinimized:a,iconStyle:I.svg,ifCobrowsingShowing:Pf(e),languageCobrowseStop:db(e)}},iW=function(e){return{dispatch:e,onMounted:function(){e(Qv())},onMinimized:function(){e(Og())},onOpened:function(){e(Eg())},onErrorClose:function(){e(gv())},onWarningClose:function(){e(fv())},onFocusToggle:function(t){e(hv(t))},onCloseBubble:function(){e(Yv())}}},oW=function(){},rW=function(e,t){var n=e.windowTab,i=t.dispatch,o=oW,r=void 0;return n===Jd?(o=function(){return i(dy())},r="livechat.chat.restore"):n===Qd||n===el?(o=function(){return i(yy())},r="livechat.prechat.restore"):n===Xd?(o=function(){return i(dy())},r="livechat.postChat.restore"):n===$d&&(o=function(){return i(_y())},r="livechat.offlineMessage.restore"),cs({},e,t,{hCallback:o,onMaximize:function(){r&&yx(r),i(Dg())}})},aW=uA(nW,iW,rW)(iT),sW=function(e){var t=ml(e);return t?{isReady:t,enableGa:Am(e),tab:nh(e),invitation:Z(e),guid:_h(e),ban:gl(e),isCampaignReady:th(e),windowStatus:Sp(e),isPoppedOut:wl(e),customJs:eb(e),font:kl(e,"/fonts/SourceSansPro-Regular.woff"),chatStatus:Jp(e)}:{isReady:t}},cW=uA(sW)(function(e){var t=e.isReady,i=e.windowStatus,o=e.tab,r=e.enableGa,a=e.customJs,s=e.font,c=e.chatStatus,d=e.invitation,l=e.guid,u=e.ban,p=e.isCampaignReady,h=e.isPoppedOut;if(!t)return null;if(u)return null;var f=d&&(d.type===lm||d.type===sm),m=i!==fl;return n("div",null,a&&n(SA,{key:"js",textContent:a,name:"script",type:"text/javascript"}),n(SA,{key:"font",name:"link",rel:"prefetch",href:s,as:"font",crossOrigin:"anonymous"}),n(CA,{enableGa:r,windowTab:o,invitation:d,guid:l,chatStatus:c}),!h&&n(IM,null),f&&n(NM,null),p&&m&&n(aW,null))}),dW=function(e){var t=e.store;return n(IA,{getRender:gx},n(PS,{store:t},n(cW,null)))},lW=function(e){var t=qc.getElementById("comm100-container"),i=t||qc.createElement("div");return t||(i.id="comm100-container",qc.body.appendChild(i)),P(n(dW,{store:e}),i),function(){i.innerHTML=""}},uW=function(e){var t=function(){return{width:qc.documentElement.clientWidth||Gc.innerWidth||qc.body.clientWidth,height:qc.documentElement.clientHeight||Gc.innerHeight||qc.body.clientHeight}},n=function(e){return e&&e.indexOf("landscape")>=0},i=function(){var e=Gc.screen,t=e.msOrientation||e.mozOrientation||e.orientation,i=void 0===t?"undefined":as(t);return"undefined"===i?"orientation"in Gc&&90===Math.abs(Gc.orientation):n("string"===i?t:t.type)},o=function(){var n=e.getState(),i=Yp(n),o=jp(n),r=t();r.width===i&&r.height===o||e.dispatch(Lg(r))},r=function(){i()?e.dispatch(zg()):e.dispatch(Vg())};return Gc.addEventListener("resize",o),Gc.addEventListener("orientationchange",r),o(),r(),function(){Gc.removeEventListener("resize",o),Gc.removeEventListener("orientationchange",r)}},pW=void 0;pW=[lW,$_,kx,uW];var hW=function(e){if(e){var t=e.standbyVisitorId,n=e.visitorId,i=e.visitorGuid;if(i)return{id:n,standbyId:t,guid:i}}return{id:o_(!0),standbyId:o_(!1),guid:s_()}},fW=function(e){e.id>0&&r_(e.id,!0),e.standbyId>0&&r_(e.standbyId,!1),e.guid&&c_(e.guid)},mW=function(e){if(e){return{title:e.title,url:e.url}}return Ab()},bW=function(e){return e&&e.isStandbyServer?"standby":"main"},wW=function(e){return e?qu(e.planId,{type:e.chatSource,page:mW(e),invitationId:e.invitationId},!1,e.ticketId,e.departmentId):null},gW=function(e){var t=e.siteId,n=e.chatGroup,i=e.mainCampaignId,o=e.campaignIds,r=e.isDynamicCampaign,a=e.serverUrl;S_();var s=Qc.popout,c=wW(s),d=mW(s),l=Wb(s),u=hW(s);fW(u);var p=bW(s),h=Ue({app:{isReady:!1,isActive:!0,server:p,isPoppedOut:!!s,isOpenerExists:!!Gc.opener,banned:p_().isBanned},page:cs({siteId:t,isDynamicCampaign:r,campaignId:r?0:i,buttons:o.reduce(function(e,t){var n;return cs({},e,(n={},n[t]=!1,n))},{}),platform:Rb(),chatGroup:n,visitor:u,windowStatus:fl,requestChatAction:c},d),configuration:cs({},a,{customVariableResult:l})});return ns(h),h.dispatch(Ay()),h};!function(e){return function(t,n){Qc.loaded||(Qc.loaded=!0,J(Qc.chat_buttons),window.store=e({siteId:ow,chatGroup:rw,mainCampaignId:lw,campaignIds:sw(),isDynamicCampaign:!!Qc.dynamic,serverUrl:{url:t,standbyUrl:n}}))}}(gW)(Qc.main,Qc.standby)}();
//# sourceMappingURL=http://localhost:8000/bundle.585a44a46187c7f361f9915835c6c875.js.map
